<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å°è£…Vue3ç»„ä»¶å°æŠ€å·§ï¼šæ’æ§½è½¬å‘</title>
      <link href="/posts/30367.html"/>
      <url>/posts/30367.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>åœ¨ Vue ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ’æ§½æ¥ç»™å­ç»„ä»¶ä¼ é€’å†…å®¹ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦ç»™å¤šä¸ªç»„ä»¶ä¼ é€’æ’æ§½ï¼Œå¹¶ä¸”è¿™äº›ç»„ä»¶ä¹‹é—´å­˜åœ¨é‡åçš„æ’æ§½ï¼Œè¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿ</p><p>æœ¬æ–‡å°†ä»‹ç»ä¸€ç§ä½¿ç”¨æ’æ§½åˆ«åå’Œæ’æ§½è½¬å‘çš„æ–¹æ¡ˆæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p><strong>ç¤ºä¾‹ä»£ç ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- CompSlot.vue --&gt;</span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;a-input /&gt;</span><br><span class="line">    &lt;a-input-number /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- ä½¿ç”¨ CompSlot ç»„ä»¶ --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;CompSlot&gt;&lt;/CompSlot&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import CompSlot from &#x27;./CompSlot.vue&#x27;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="æ€ä¹ˆä¼ props"><a href="#æ€ä¹ˆä¼ props" class="headerlink" title="æ€ä¹ˆä¼ props"></a>æ€ä¹ˆä¼ props</h2><p>å¦‚æœéœ€è¦ä¼  <code>props</code> è¿›å»çš„è¯ï¼Œæˆ‘å¯ä»¥å®šä¹‰ä¸¤ä¸ªå‚æ•°ï¼š</p><ul><li><p><code>inputProps</code>ï¼šæ¥æ”¶ <code>Input</code> çš„å‚æ•°</p></li><li><p><code>numberProps</code>ï¼šæ¥æ”¶ <code>InputNumber</code> çš„å‚æ•°</p></li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- CompSlot.vue --&gt;</span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; PropType &#125; from &#x27;vue&#x27;</span><br><span class="line">import &#123; InputNumberProps, InputProps &#125; from &#x27;ant-design-vue&#x27;</span><br><span class="line"></span><br><span class="line">defineProps(&#123;</span><br><span class="line">inputProps: &#123;</span><br><span class="line">type: Object as PropType&lt;InputProps&gt;,</span><br><span class="line">default: () =&gt; (&#123;&#125;),</span><br><span class="line">&#125;,</span><br><span class="line">numberProps: &#123;</span><br><span class="line">type: Object as PropType&lt;InputNumberProps&gt;,</span><br><span class="line">default: () =&gt; (&#123;&#125;),</span><br><span class="line">&#125;,</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;a-input v-bind=&quot;&#123; ...inputProps &#125;&quot;&gt;&lt;/a-input&gt;</span><br><span class="line">&lt;a-input-number v-bind=&quot;&#123; ...numberProps &#125;&quot;&gt;&lt;/a-input-number&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±èƒ½åˆ†åˆ«ç»™è¿™ä¸¤ä¸ªç»„ä»¶ä¼ å‚æ•°äº†ï¼Œä½†è¿™ä¸æ˜¯ä»Šå¤©æ–‡ç« çš„é‡ç‚¹</p><h2 id="æ€ä¹ˆä¼ æ’æ§½"><a href="#æ€ä¹ˆä¼ æ’æ§½" class="headerlink" title="æ€ä¹ˆä¼ æ’æ§½"></a>æ€ä¹ˆä¼ æ’æ§½</h2><p>ä¸Šé¢æ˜¯ç»™è¿™ä¸¤ä¸ªç»„ä»¶ä¼  <code>props</code>ï¼Œé‚£å¦‚æœè¦ç»™è¿™ä¸¤ä¸ªç»„ä»¶ä¼ æ’æ§½æ€ä¹ˆåšå‘¢ï¼Ÿæˆ‘ä»¬é¦–å…ˆæ¥è¦æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œè¿™ä¸¤ä¸ªç»„ä»¶å…·å¤‡ä¸€äº›é‡åçš„æ’æ§½åç§°ï¼Œå°±æ¯”å¦‚ <code>prefix</code> è¿™ä¸ªæ’æ§½</p><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/20231212171230.png" alt="prefix"></p><p>é‚£æˆ‘ä»¬è¦æ€ä¹ˆå»åšï¼Œæ‰èƒ½æ›´å¥½åœ°ç»™è¿™ä¸¤ä¸ªç»„ä»¶ä¼ æ’æ§½å‘¢ï¼Ÿå…ˆæ¥è®¨è®ºå¤–éƒ¨æ€ä¹ˆä¼ ï¼Œæƒ³è¦ä¿è¯è¿™ä¸¤ä¸ªç»„ä»¶çš„æ’æ§½ä¼ é€’ä¸å‘ç”Ÿå†²çªï¼Œå’±ä»¬å¯ä»¥ä½¿ç”¨<strong>æ’æ§½åˆ«å</strong>ï¼Œè¿™ä¹Ÿæ˜¯å¾ˆå¤šç»„ä»¶åº“ç°åœ¨é‡‡ç”¨çš„æ–¹æ¡ˆï¼Œä»£ç å¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- ä½¿ç”¨ CompSlot ç»„ä»¶ --&gt;</span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import CompSlot from &#x27;@/components/CompSlot.vue&#x27;</span><br><span class="line">import &#123; EditOutlined, FormOutlined &#125; from &#x27;@ant-design/icons-vue&#x27;</span><br><span class="line"></span><br><span class="line">const inputSlots = &#123;</span><br><span class="line">  // æ’æ§½åˆ«å</span><br><span class="line">  prefix: &#x27;input-prefix&#x27;,</span><br><span class="line">&#125;</span><br><span class="line">const numberSlots = &#123;</span><br><span class="line">  // æ’æ§½åˆ«å</span><br><span class="line">  prefix: &#x27;number-prefix&#x27;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;card&quot;&gt;</span><br><span class="line">    &lt;CompSlot :input-slots=&quot;inputSlots&quot; :number-slots=&quot;numberSlots&quot;&gt;</span><br><span class="line">      &lt;!-- ä½¿ç”¨æ’æ§½ --&gt;</span><br><span class="line">      &lt;template #input-prefix&gt; &lt;EditOutlined /&gt; &lt;/template&gt;</span><br><span class="line">      &lt;template #number-prefix&gt; &lt;FormOutlined /&gt; &lt;/template&gt;</span><br><span class="line">    &lt;/Comp&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆç»„ä»¶å†…éƒ¨åº”è¯¥æ€ä¹ˆå»æ¥æ”¶è¿™äº›æ’æ§½å‘¢ï¼Ÿè¿™å°±å¯ä»¥ä½¿ç”¨<strong>æ’æ§½è½¬å‘</strong>çš„æ–¹æ¡ˆï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹ <code>CompSlot</code> å†…éƒ¨éå† <code>inputSlots</code> æ˜¯ä»€ä¹ˆ</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- CompSlot.vue --&gt;</span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">defineProps(&#123;</span><br><span class="line">  inputSlots: &#123;</span><br><span class="line">    type: Object,</span><br><span class="line">    default: () =&gt; (&#123;&#125;),</span><br><span class="line">  &#125;,</span><br><span class="line">  numberSlots: &#123;</span><br><span class="line">    type: Object,</span><br><span class="line">    default: () =&gt; (&#123;&#125;),</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;template v-for=&quot;(_, name) in inputSlots&quot; :key=&quot;name&quot;&gt; &#123;&#123; name &#125;&#125; --&gt; &#123;&#123; _ &#125;&lt;/template&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p>è¾“å‡º<br><code>prefix --&gt; input-prefix</code></p><p>å¯ä»¥çœ‹åˆ°å½“ <code>v-for</code> éå†ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œé”®å€¼å¯¹æ˜¯å€’è¿‡æ¥çš„ï¼Œè·Ÿæ•°ç»„ä¸ä¸€æ ·</p><p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œåš<strong>æ’æ§½è½¬å‘</strong></p><p>æœ€ç»ˆ <code>CompSlot.vue</code> çš„ä»£ç </p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- CompSlot.vue --&gt;</span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; InputNumberProps, InputProps &#125; from &#x27;ant-design-vue&#x27;</span><br><span class="line">import &#123; PropType &#125; from &#x27;vue&#x27;</span><br><span class="line"> </span><br><span class="line">defineProps(&#123;</span><br><span class="line">  inputProps: &#123;</span><br><span class="line">    type: Object as PropType&lt;InputProps&gt;,</span><br><span class="line">    default: () =&gt; (&#123;&#125;),</span><br><span class="line">  &#125;,</span><br><span class="line">  numberProps: &#123;</span><br><span class="line">    type: Object as PropType&lt;InputNumberProps&gt;,</span><br><span class="line">    default: () =&gt; (&#123;&#125;),</span><br><span class="line">  &#125;,</span><br><span class="line">  inputSlots: &#123;</span><br><span class="line">    type: Object,</span><br><span class="line">    default: () =&gt; (&#123;&#125;),</span><br><span class="line">  &#125;,</span><br><span class="line">  numberSlots: &#123;</span><br><span class="line">    type: Object,</span><br><span class="line">    default: () =&gt; (&#123;&#125;),</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;a-input v-bind=&quot;&#123; ...inputProps &#125;&quot;&gt;</span><br><span class="line">      &lt;template v-for=&quot;(_, name) in inputSlots&quot; :key=&quot;name&quot; #[name]&gt;</span><br><span class="line">        &lt;slot :name=&quot;inputSlots[name]&quot; /&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/a-input&gt;</span><br><span class="line">    &lt;a-input-number v-bind=&quot;&#123; ...numberProps &#125;&quot;&gt;</span><br><span class="line">      &lt;template v-for=&quot;(_, name) in numberSlots&quot; :key=&quot;name&quot; #[name]&gt;</span><br><span class="line">        &lt;slot :name=&quot;numberSlots[name]&quot; /&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/a-input-number&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>è¾¾åˆ°äº†æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœ~</p><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20231212171800813.png" alt="æ•ˆæœ"></p><p>åœ¨è¿™ç§æ–¹æ¡ˆä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ’æ§½åˆ«åæ¥è§£å†³æ’æ§½åç§°å†²çªï¼Œå¹¶ä½¿ç”¨æ’æ§½è½¬å‘æ¥å°†æ’æ§½å†…å®¹ä¼ é€’ç»™å­ç»„ä»¶ã€‚è¯¥æ–¹æ¡ˆå…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p><ul><li>ä»£ç ç®€æ´ï¼Œæ˜“äºç†è§£</li><li>å¯æ‰©å±•æ€§å¼º</li></ul><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åœ¨ Vue ä¸­ï¼Œä½¿ç”¨æ’æ§½åˆ«åå’Œæ’æ§½è½¬å‘å¯ä»¥æœ‰æ•ˆåœ°è§£å†³ç»™å¤šä¸ªç»„ä»¶ä¼ é€’æ’æ§½çš„é—®é¢˜ã€‚è¯¥æ–¹æ¡ˆå…·æœ‰ä»£ç ç®€æ´ã€æ˜“äºç†è§£ã€å¯æ‰©å±•æ€§å¼ºç­‰ä¼˜ç‚¹ã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>docxã€pptxã€xlsxã€pdfæ–‡ä»¶é¢„è§ˆ</title>
      <link href="/posts/30367.html"/>
      <url>/posts/30367.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>docxã€pptxã€xlsxã€pdf æ–‡ä»¶é¢„è§ˆ</p></blockquote><h2 id="çº¯å‰ç«¯é¢„è§ˆ"><a href="#çº¯å‰ç«¯é¢„è§ˆ" class="headerlink" title="çº¯å‰ç«¯é¢„è§ˆ"></a>çº¯å‰ç«¯é¢„è§ˆ</h2><h3 id="pdf-é¢„è§ˆ"><a href="#pdf-é¢„è§ˆ" class="headerlink" title="pdf é¢„è§ˆ"></a>pdf é¢„è§ˆ</h3><h4 id="ï¼ˆä¸€ï¼‰pdf-js-ğŸ‘ğŸ»"><a href="#ï¼ˆä¸€ï¼‰pdf-js-ğŸ‘ğŸ»" class="headerlink" title="ï¼ˆä¸€ï¼‰pdf.js ğŸ‘ğŸ»"></a>ï¼ˆä¸€ï¼‰pdf.js ğŸ‘ğŸ»</h4><p><a href="https://github.com/mozilla/pdf.js">GitHub - mozilla/pdf.js</a></p><p>æœ€æ–°ç‰ˆ <code>pdf.js</code> è¦æ±‚ <code>node</code> ç‰ˆæœ¬ä¸ä½äº <code>18</code>ï¼Œå¯ä»¥åœ¨ <a href="https://github.com/mozilla/pdf.js/tags?after=v3.0.279">Tags Â· mozilla/pdf.js Â· GitHub</a> ä¸‹è½½ <code>2.</code> ç‰ˆæœ¬</p><p>å…·ä½“å¯ä»¥çœ‹ <a href="https://www.huyu001.top/posts/44377.html">pdfé¢„è§ˆ | Hu Yu</a></p><h4 id="ï¼ˆäºŒï¼‰iframe"><a href="#ï¼ˆäºŒï¼‰iframe" class="headerlink" title="ï¼ˆäºŒï¼‰iframe"></a>ï¼ˆäºŒï¼‰iframe</h4><p>ä¸€èˆ¬çš„æµè§ˆå™¨éƒ½é»˜è®¤æ”¯æŒé¢„è§ˆ <code>pdf</code></p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;viewFileUrl&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ä¸åŒçš„æµè§ˆå™¨çš„å±•ç¤ºå’Œäº¤äº’ä¸åŒï¼Œè€Œä¸”å¦‚æœ <code>PDF</code> æ–‡ä»¶è¿‡å¤§ä¹Ÿæœ‰å¯èƒ½å¯¼è‡´æµè§ˆå™¨å¡æ­»æˆ–è€…ç™½å±ã€‚</p><h3 id="docx-é¢„è§ˆ"><a href="#docx-é¢„è§ˆ" class="headerlink" title="docx é¢„è§ˆ"></a>docx é¢„è§ˆ</h3><p><a href="https://github.com/VolodymyrBaydalka/docxjs">Github - VolodymyrBaydalka/docxjs</a></p><p><strong>ä½¿ç”¨æ–¹æ³•ï¼š</strong><br><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; renderAsync &#125; <span class="keyword">from</span> <span class="string">&#x27;docx-preview&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">DocxOptions</span> &#123;</span><br><span class="line">  bodyContainer?: <span class="title class_">HTMLElement</span> | <span class="literal">null</span></span><br><span class="line">  styleContainer?: <span class="title class_">HTMLElement</span></span><br><span class="line">  <span class="attr">buffer</span>: <span class="title class_">Blob</span></span><br><span class="line">  docxOptions?: <span class="title class_">Partial</span>&lt;<span class="title class_">Record</span>&lt;<span class="built_in">string</span>, <span class="built_in">string</span> | <span class="built_in">boolean</span>&gt;&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> renderDocx = (<span class="attr">options</span>: <span class="title class_">DocxOptions</span>): <span class="title class_">Promise</span>&lt;<span class="built_in">void</span>&gt; | <span class="function"><span class="params">undefined</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable language_">window</span> !== <span class="string">&#x27;undefined&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; bodyContainer, styleContainer, buffer, docxOptions = &#123;&#125; &#125; = options</span><br><span class="line">    <span class="keyword">const</span> defaultOptions = &#123;</span><br><span class="line">      <span class="attr">className</span>: <span class="string">&#x27;docx&#x27;</span>,</span><br><span class="line">      <span class="attr">ignoreLastRenderedPageBreak</span>: <span class="literal">false</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> configuration = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, defaultOptions, docxOptions)</span><br><span class="line">    <span class="keyword">if</span> (bodyContainer) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">renderAsync</span>(buffer, bodyContainer, styleContainer, configuration)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> contain = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">      <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(contain)</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">renderAsync</span>(buffer, contain, styleContainer, configuration)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p><h3 id="xlsx-é¢„è§ˆ"><a href="#xlsx-é¢„è§ˆ" class="headerlink" title="xlsx é¢„è§ˆ"></a>xlsx é¢„è§ˆ</h3><p><a href="https://github.com/501351981/vue-office">GitHub - 501351981/vue-office</a></p><blockquote><p>æ”¯æŒword(.docx)ã€excel(.xlsx)ã€pdfç­‰å„ç±»å‹officeæ–‡ä»¶é¢„è§ˆçš„vueç»„ä»¶é›†åˆï¼Œæä¾›ä¸€ç«™å¼officeæ–‡ä»¶é¢„è§ˆæ–¹æ¡ˆï¼Œæ”¯æŒvue2å’Œ3ï¼Œä¹Ÿæ”¯æŒReactç­‰éVueæ¡†æ¶ã€‚</p></blockquote><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/20231114163403.png" alt="vue-office-demo"></p><p><strong>æ›´å¤šç”¨æ³•å¯ä»¥çœ‹å®˜ç½‘ï¼Œæ¯”è¾ƒè¯¦ç»†</strong></p><h3 id="PPT-é¢„è§ˆ"><a href="#PPT-é¢„è§ˆ" class="headerlink" title="PPT é¢„è§ˆ"></a>PPT é¢„è§ˆ</h3><blockquote><p>æš‚æ—¶æ²¡æœ‰ä»€ä¹ˆå¥½çš„è§£å†³æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æœåŠ¡ç«¯é¢„è§ˆ</p></blockquote><h2 id="æœåŠ¡ç«¯é¢„è§ˆ"><a href="#æœåŠ¡ç«¯é¢„è§ˆ" class="headerlink" title="æœåŠ¡ç«¯é¢„è§ˆ"></a>æœåŠ¡ç«¯é¢„è§ˆ</h2><h3 id="kkFileView-ğŸ‘ğŸ»"><a href="#kkFileView-ğŸ‘ğŸ»" class="headerlink" title="kkFileView ğŸ‘ğŸ»"></a>kkFileView ğŸ‘ğŸ»</h3><p><a href="https://kkview.cn/zh-cn/index.html">kkFileView - åœ¨çº¿æ–‡ä»¶é¢„è§ˆ</a></p><blockquote><p>KkFileView ä¸ºæ–‡ä»¶æ–‡æ¡£åœ¨çº¿é¢„è§ˆè§£å†³æ–¹æ¡ˆï¼Œè¯¥é¡¹ç›®ä½¿ç”¨æµè¡Œçš„ spring boot æ­å»ºï¼Œæ˜“ä¸Šæ‰‹å’Œéƒ¨ç½²ï¼ŒåŸºæœ¬æ”¯æŒä¸»æµåŠå…¬æ–‡æ¡£çš„åœ¨çº¿é¢„è§ˆï¼Œå¦‚ doc, docx, xls, xlsx, ppt, pptx, pdf, txt, zip, rar, å›¾ç‰‡, è§†é¢‘, éŸ³é¢‘ç­‰ç­‰</p></blockquote><p><strong>æ³¨æ„ï¼šKkFileView ä¸ºåç«¯éƒ¨ç½²ï¼Œå‰ç«¯ç›´æ¥ä½¿ç”¨åç«¯ç»™çš„åœ°å€å³å¯</strong></p><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><h3 id="WPS-WebOffice-å¼€æ”¾å¹³å°"><a href="#WPS-WebOffice-å¼€æ”¾å¹³å°" class="headerlink" title="WPS WebOffice å¼€æ”¾å¹³å°"></a>WPS WebOffice å¼€æ”¾å¹³å°</h3><p><a href="https://solution.wps.cn/">WebOffice å¼€æ”¾å¹³å°</a></p><blockquote><p>æ”¯æŒåœ¨çº¿é¢„è§ˆç¼–è¾‘ï¼Œå¤šäººååŒ</p><h3 id="é˜¿é‡Œäº‘-IMM"><a href="#é˜¿é‡Œäº‘-IMM" class="headerlink" title="é˜¿é‡Œäº‘ IMM"></a>é˜¿é‡Œäº‘ IMM</h3></blockquote><p><a href="https://help.aliyun.com/document_detail/63273.html">æ™ºèƒ½åª’ä½“ç®¡ç†-é˜¿é‡Œäº‘å¸®åŠ©ä¸­å¿ƒ</a></p><blockquote><p>æ”¯æŒæ–‡ä»¶è½¬æ¢é¢„è§ˆï¼Œä½†æ˜¯éœ€è¦ä¸ <code>é˜¿é‡Œäº‘OSS</code> ä¸€èµ·ä½¿ç”¨</p></blockquote><h3 id="Office-Web-Viewer"><a href="#Office-Web-Viewer" class="headerlink" title="Office Web Viewer"></a>Office Web Viewer</h3><blockquote><p><a href="https://www.microsoft.com/en-us/microsoft-365/blog/2013/04/10/office-web-viewer-view-office-documents-in-a-browser/">å¾®è½¯å®˜æ–¹æä¾›çš„æ–‡æ¡£ç¤ºä¾‹</a><br><a href="https://view.officeapps.live.com/op/view.aspx?src=http%3a%2f%2fvideo.ch9.ms%2fbuild%2f2011%2fslides%2fTOOL-532T_Sutter.pptx">demo_Sutter.pptx</a><br>å¾®è½¯æä¾›çš„å…è´¹åœ¨çº¿é¢„è§ˆæœåŠ¡ï¼Œç”¨æ³•ç®€å•ï¼Œä½†æ˜¯å›½å†…è®¿é—®é€Ÿåº¦è¾ƒæ…¢</p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>globæ–‡ä»¶åŒ¹é…è§„åˆ™</title>
      <link href="/posts/9496.html"/>
      <url>/posts/9496.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>Globæ˜¯ä¸€ç§é€šé…ç¬¦è¯­æ³•ï¼Œç”¨äºåœ¨æ–‡ä»¶ç³»ç»Ÿä¸­åŒ¹é…æ–‡ä»¶åæˆ–è·¯å¾„</p></blockquote><h2 id=""><a href="#" class="headerlink" title="*"></a><code>*</code></h2><blockquote><p>åŒ¹é…æ–‡ä»¶ä¸­0ä¸ªæˆ–è€…å¤šä¸ªå­—ç¬¦ï¼Œä½†æ˜¯ä¸ä¼šåŒ¹é…è·¯å¾„ä¸­çš„åˆ†éš”ç¬¦ï¼Œé™¤éè·¯å¾„åˆ†éš”ç¬¦å‡ºç°åœ¨æœ«å°¾</p></blockquote><figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">|-style</span><br><span class="line">|-file1.txt</span><br><span class="line">|-file2.css</span><br><span class="line">|-subdir</span><br><span class="line">|-file3</span><br><span class="line">|-...</span><br></pre></td></tr></table></figure><p><code>./style/*</code></p><blockquote><p>åŒ¹é…<code>./style/file1.txt</code>ã€<code>./style/file2.css</code> å’Œ <code>./style/subdir/</code>ï¼Œä½†ä¸ä¼šåŒ¹é…<code>./style/subdir</code> ç›®å½•ä¸‹çš„ä»»ä½•å†…å®¹ã€‚</p><p>è¦åŒ¹é…<code>./style/</code> ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œå­ç›®å½•ï¼ŒåŒ…æ‹¬å­ç›®å½•ä¸­çš„å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨é€’å½’é€šé…ç¬¦<code>**</code>ï¼Œå¦‚ <code>./style/**</code> æˆ– <code>./style/**/*</code>ã€‚</p></blockquote><p><code>./style/*.ts</code></p><blockquote><p>åŒ¹é…<code>./style</code>ç›®å½•ä¸‹æ‰€æœ‰çš„ ts æ–‡ä»¶</p></blockquote><p><code>/style/*.*</code></p><blockquote><p>åŒ¹é…<code>/style/file1.txt</code>ã€<code>/style/file2.css</code> ï¼Œå› ä¸ºè¿™äº›æ–‡ä»¶éƒ½æœ‰æ–‡ä»¶æ‰©å±•åã€‚æ¨¡å¼ä¸ä¼šåŒ¹é…<code>/style/subdir/</code> æˆ– <code>/style/subdir/file3</code>ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ç›®å½•è€Œä¸æ˜¯ç›´æ¥çš„æ–‡ä»¶ï¼Œæˆ–è€…æ²¡æœ‰æ˜ç¡®çš„æ–‡ä»¶æ‰©å±•åã€‚</p></blockquote><p> <code>./style/*/*.js</code></p><figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">./style/subdir1/file1.js</span><br><span class="line">./style/subdir1/file2.js</span><br><span class="line">./style/subdir2/file3.js</span><br><span class="line">./style/demo/subdir1/file1.js</span><br></pre></td></tr></table></figure><blockquote><p>åŒ¹é…<code>./style/subdir1/file1.js</code>ã€<code>./style/subdir1/file2.js</code> å’Œ <code>./style/subdir2/file3.js</code>ï¼Œå› ä¸ºå®ƒä»¬éƒ½æ˜¯ä½äºç›´æ¥å­ç›®å½•ä¸­çš„<code>.js</code>æ–‡ä»¶ã€‚å®ƒä¸ä¼šåŒ¹é…<code>./style/demo/subdir1/file1.js</code>ï¼Œ<strong>åªèƒ½åŒ¹é…ä¸€çº§å­ç›®å½•</strong></p></blockquote><h2 id="-1"><a href="#-1" class="headerlink" title="**"></a><code>**</code></h2><blockquote><p>åŒ¹é…è·¯å¾„ä¸­çš„0ä¸ªæˆ–å¤šä¸ªç›®å½•åŠå…¶å­ç›®å½•,éœ€è¦å•ç‹¬å‡ºç°ï¼Œå³å®ƒå·¦å³ä¸èƒ½æœ‰å…¶ä»–ä¸œè¥¿äº†ã€‚å¦‚æœå‡ºç°åœ¨æœ«å°¾ï¼Œä¹Ÿèƒ½åŒ¹é…æ–‡ä»¶</p></blockquote><p><code>./style/**</code></p><blockquote><p>åŒ¹é…<code>style</code>ç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹ï¼Œæ— è®ºæœ‰å¤šå°‘å±‚æ¬¡æ·±åº¦ã€‚</p><p>è¿™ä¸ªæ¨¡å¼é€šå¸¸ç”¨äºé€’å½’åœ°æŸ¥æ‰¾ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶æˆ–è¿›è¡Œæ‰¹é‡æ“ä½œï¼Œå› ä¸ºå®ƒèƒ½å¤ŸåŒ¹é…ç›®å½•æ ‘ä¸­çš„æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•ã€‚</p></blockquote><p><code>./style/**/*</code></p><blockquote><p>åŒ¹é…<code>./style/</code> ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œå­ç›®å½•ï¼ŒåŒ…æ‹¬å­ç›®å½•ä¸­çš„æ‰€æœ‰å†…å®¹ï¼Œä»¥åŠæ›´æ·±å±‚æ¬¡çš„å­ç›®å½•ä¸­çš„å†…å®¹ã€‚è¿™æ˜¯ä¸€ä¸ªé€’å½’é€šé…ç¬¦ï¼Œå¯ä»¥åŒ¹é…æ•´ä¸ªç›®å½•æ ‘ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•ã€‚</p></blockquote><p><code>./style/**/*.js</code></p><figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">./style/file1.css</span><br><span class="line">./style/file2.js</span><br><span class="line">./style/subdir1/file3.css</span><br><span class="line">./style/subdir1/file4.js</span><br><span class="line">./style/subdir2/</span><br></pre></td></tr></table></figure><blockquote><p>åŒ¹é…<code>./style/file1.js</code>ã€<code>./style/file2.js</code>ã€<code>./style/subdir1/file3.js</code>ã€<code>./style/subdir1/file4.js</code>ï¼Œä»¥åŠ<code>./style/subdir2/</code> ç›®å½•ä¸‹çš„ä»»ä½•<code>.js</code>æ–‡ä»¶ï¼Œ<strong>æ— è®ºæœ‰å¤šå°‘å±‚æ¬¡æ·±åº¦</strong>ã€‚</p><p>è¿™ä¸ªæ¨¡å¼é€šå¸¸ç”¨äºæŸ¥æ‰¾é¡¹ç›®ä¸­çš„æ‰€æœ‰JavaScriptæ–‡ä»¶ï¼ŒåŒ…æ‹¬åµŒå¥—åœ¨å­ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚</p></blockquote><p><code>a/**b/z</code></p><blockquote><p>åŒ¹é…æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„è·¯å¾„ï¼š</p><ol><li>ä»¥ <code>a/</code> å¼€å¤´ï¼šè·¯å¾„å¿…é¡»ä»¥ <code>a/</code> å­—ç¬¦ä¸²å¼€å§‹ã€‚</li><li>åŒ…å«ä»»æ„æ•°é‡çš„å­ç›®å½•ï¼ˆ<code>**</code>ï¼‰ï¼š<code>**</code> è¡¨ç¤ºåŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªç›®å½•ï¼ˆåŒ…æ‹¬å­ç›®å½•ï¼‰ã€‚</li><li>åé¢ç´§è·Ÿ <code>b</code>ï¼šè·¯å¾„ä¸­å¿…é¡»åŒ…å«ä¸€ä¸ª <code>b</code> å­—ç¬¦ã€‚</li><li>æœ€åä»¥ <code>/z</code> ç»“å°¾ï¼šè·¯å¾„å¿…é¡»ä»¥ <code>/z</code> ç»“å°¾ã€‚</li></ol><p>å› æ­¤ï¼Œè¿™ä¸ªè¡¨è¾¾å¼å¯ä»¥åŒ¹é…åƒ <code>a/b/z</code>ã€<code>a/x/y/b/z</code>ã€<code>a/b/c/d/e/b/z</code> è¿™æ ·çš„è·¯å¾„ï¼Œåªè¦å®ƒä»¬æ»¡è¶³ä¸Šè¿°æ¡ä»¶ã€‚è¿™ä¸ªé€šé…ç¬¦è¡¨è¾¾å¼çš„ä¸»è¦ç‰¹ç‚¹æ˜¯åŒ¹é…ä»¥ <code>a/</code> å¼€å¤´ï¼ŒåŒ…å«ä¸€ä¸ª <code>b</code>ï¼Œç„¶åä»¥ <code>/z</code> ç»“å°¾çš„è·¯å¾„ï¼Œä¸­é—´å¯ä»¥åŒ…å«ä»»æ„æ•°é‡çš„å­ç›®å½•ã€‚</p><p>ä¸èƒ½åŒ¹é…ä»¥ä¸‹è·¯å¾„ï¼š</p><ol><li>è·¯å¾„ä¸ä»¥ <code>a/</code> å¼€å¤´ï¼šå¦‚æœè·¯å¾„ä¸ä»¥ <code>a/</code> å¼€å¤´ï¼Œé‚£ä¹ˆå°±ä¸æ»¡è¶³åŒ¹é…æ¡ä»¶ï¼Œä¸ä¼šåŒ¹é…æˆåŠŸã€‚</li><li>è·¯å¾„ä¸ä»¥ <code>/z</code> ç»“å°¾ï¼šå¦‚æœè·¯å¾„ä¸ä»¥ <code>/z</code> ç»“å°¾ï¼Œä¹Ÿä¸æ»¡è¶³åŒ¹é…æ¡ä»¶ï¼Œä¸ä¼šåŒ¹é…æˆåŠŸã€‚</li></ol><p>ä»¥ä¸‹æ˜¯ä¸€äº›ä¸åŒ¹é…çš„ç¤ºä¾‹ï¼š</p><ul><li><code>b/z</code>ï¼šè·¯å¾„æ²¡æœ‰ä»¥ <code>a/</code> å¼€å¤´ã€‚</li><li><code>a/x/y/c/z</code>ï¼šè™½ç„¶è·¯å¾„åŒ…å« <code>a/</code>ï¼Œä½†ä¸­é—´çš„å­ç›®å½•ä¸­æœ‰ä¸€ä¸ª <code>c</code>ï¼Œè€Œä¸æ˜¯ä¸€ä¸ª <code>b</code>ã€‚</li><li><code>a/b/z/c</code>ï¼šè™½ç„¶è·¯å¾„ä»¥ <code>a/</code> å¼€å¤´ä¸”ä»¥ <code>/z</code> ç»“å°¾ï¼Œä½† <code>b</code> ä¸æ˜¯è·¯å¾„ä¸­çš„ç›´æ¥å­—ç¬¦ï¼Œå®ƒå¿…é¡»ç´§è·Ÿåœ¨ <code>**</code> ä¹‹åã€‚</li></ul><p>æ€»ä¹‹ï¼Œ<code>a/**b/z</code> åªä¼šåŒ¹é…ä»¥ <code>a/</code> å¼€å¤´ï¼ŒåŒ…å«ä¸€ä¸ª <code>b</code>ï¼Œç„¶åä»¥ <code>/z</code> ç»“å°¾çš„è·¯å¾„ï¼Œä¸­é—´å¯ä»¥åŒ…å«ä»»æ„æ•°é‡çš„å­ç›®å½•ï¼Œä½†è¦æ±‚ <code>b</code> ç´§è·Ÿåœ¨ <code>**</code> ä¹‹åã€‚å¦‚æœä¸æ»¡è¶³è¿™äº›æ¡ä»¶ï¼Œè¡¨è¾¾å¼å°±ä¸ä¼šåŒ¹é…æˆåŠŸã€‚</p></blockquote><h2 id="-2"><a href="#-2" class="headerlink" title="?"></a><code>?</code></h2><blockquote><p> åŒ¹é…ä¸€ä¸ªå­—ç¬¦ï¼Œä¸ä¼šåŒ¹é…è·¯å¾„åˆ†éš”ç¬¦</p></blockquote><p><code>?.js</code></p><blockquote><p>åŒ¹é…æ–‡ä»¶åæˆ–è·¯å¾„ä¸­ä»¥ <code>.js</code> ç»“å°¾çš„æ–‡ä»¶åï¼Œå¹¶ä¸”æ–‡ä»¶åçš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯ä»»æ„å­—ç¬¦ï¼ˆå•ä¸ªå­—ç¬¦ï¼‰</p><p>ä¾‹å¦‚ï¼š <code>a.js</code>ã€<code>1.js</code>ã€<code>x.js</code> è¿™æ ·çš„æ–‡ä»¶åï¼Œä½†æ˜¯ï¼Œå®ƒä¸ä¼šåŒ¹é…åƒ <code>abc.js</code>ã€<code>myjs.js</code> è¿™æ ·çš„æ–‡ä»¶å</p></blockquote><h2 id="-3"><a href="#-3" class="headerlink" title="[...]"></a><code>[...]</code></h2><blockquote><p>ç”±å¤šä¸ªè§„åˆ™ç»„æˆçš„æ•°ç»„ï¼Œå¯ä»¥åŒ¹é…æ•°ç»„ä¸­ç¬¦åˆä»»æ„ä¸€ä¸ªå­é¡¹çš„æ–‡ä»¶ï¼Œå½“å­é¡¹ä¸­ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸º<code>!</code>æˆ–è€…<code>^</code>æ—¶ï¼Œè¡¨ç¤ºä¸åŒ¹é…è¯¥è§„åˆ™</p></blockquote><p><code>./style/a[0-3].js</code></p><blockquote><p>åŒ¹é…<code>style</code>ç›®å½•ä¸‹çš„<code>a0.js</code>, <code>a1.js</code>, <code>a2.js</code>, <code>a3.js</code></p></blockquote><p><code>[xyz].js</code></p><blockquote><p>åªèƒ½åŒ¹é… <code>x.js</code>,<code>y.js</code>,<code>z.js</code>,ä¸ä¼šåŒ¹é…<code>xy.js</code>,<code>xyz.js</code>ç­‰,æ•´ä¸ªä¸­æ‹¬å·åªä»£è¡¨ä¸€ä¸ªå­—ç¬¦</p></blockquote><p><code>[^xyz].js</code></p><blockquote><p>èƒ½åŒ¹é… a.js,b.js,c.jsç­‰,ä¸èƒ½åŒ¹é…x.js,y.js,z.js</p></blockquote><p><span style="color: red">æ³¨ï¼šä½¿ç”¨æ•°ç»„çš„æ–¹å¼è¿˜æœ‰ä¸€ä¸ªå¥½å¤„å°±æ˜¯å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä½¿ç”¨æ’é™¤æ¨¡å¼ï¼Œåœ¨æ•°ç»„ä¸­çš„å•ä¸ªåŒ¹é…æ¨¡å¼å‰åŠ ä¸Š<code>!</code>å³æ˜¯æ’é™¤æ¨¡å¼ï¼Œå®ƒä¼šåœ¨åŒ¹é…çš„ç»“æœä¸­æ’é™¤è¿™ä¸ªåŒ¹é…ï¼Œè¦æ³¨æ„ä¸€ç‚¹çš„æ˜¯ä¸èƒ½åœ¨æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸­ä½¿ç”¨æ’é™¤æ¨¡å¼</span></p><p><code>[*.js,!b*.js]</code></p><blockquote><p>åŒ¹é…æ‰€æœ‰jsæ–‡ä»¶ï¼Œä½†æ’é™¤æ‰ä»¥bå¼€å¤´çš„jsæ–‡ä»¶</p></blockquote><p><code>[&#39;!b*.js&#39;,*.js]</code></p><blockquote><p>ä¸ä¼šæ’é™¤ä»»ä½•æ–‡ä»¶ï¼Œå› ä¸ºæ’é™¤æ¨¡å¼ä¸èƒ½å‡ºç°åœ¨æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸­</p></blockquote><h2 id="-4"><a href="#-4" class="headerlink" title="{...}"></a><code>&#123;...&#125;</code></h2><blockquote><p>å±•å¼€æ¨¡å¼ï¼Œæ ¹æ®é‡Œé¢çš„å†…å®¹å±•å¼€ä¸ºå¤šä¸ªè§„åˆ™ï¼Œèƒ½åŒ¹é…æ‰€æœ‰å±•å¼€ä¹‹åçš„è§„åˆ™å°†ä¸Šé¢çš„ä¾‹å­æ‰©å±•ä¸€ä¸‹</p></blockquote><p><code>[&#39;./**/*.&#123;html, php&#125;&#39;, &#39;!&#123;build, simple, images, node_modules&#125;/**&#39;]</code></p><blockquote><p>é€‰æ‹©æ‰€æœ‰ä»¥ <code>.html</code> æˆ– <code>.php</code> ç»“å°¾çš„æ–‡ä»¶ï¼Œä½†æ’é™¤äº†åä¸º <code>build</code>ã€<code>simple</code>ã€<code>images</code> å’Œ <code>node_modules</code> çš„ç›®å½•åŠå…¶å†…å®¹ã€‚è¿™é€šå¸¸ç”¨äºé€‰æ‹©è¦å¤„ç†çš„æ–‡ä»¶é›†åˆï¼Œä»¥ä¾¿åœ¨æ„å»ºæµç¨‹ä¸­æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚</p></blockquote><h2 id="pattern-pattern-pattern"><a href="#pattern-pattern-pattern" class="headerlink" title="!(pattern|pattern|pattern)"></a><code>!(pattern|pattern|pattern)</code></h2><blockquote><p>è¿™é‡ŒæŒ‡æ’é™¤ç¬¦åˆè¿™å‡ ä¸ªæ¨¡å¼çš„æ‰€æœ‰æ–‡ä»¶</p></blockquote><p><code>./style/!(test|login).js</code></p><blockquote><p>åŒ¹é…æ’é™¤æ–‡ä»¶åä¸º<code>login.js</code>å’Œ<code>test.js</code>ä¹‹åçš„æ‰€æœ‰jsæ–‡ä»¶</p></blockquote><p><code>[&#39;./**/!(_)*.&#123;html, php&#125;&#39;, &#39;!&#123;build, node_modules&#125;/**&#39;]</code></p><blockquote><p>é€‰æ‹©æ‰€æœ‰ä»¥ <code>.html</code> æˆ– <code>.php</code> ç»“å°¾çš„æ–‡ä»¶ï¼Œä½†æ’é™¤äº†æ–‡ä»¶åä»¥ <code>_</code> å¼€å¤´çš„htmlä¸phpæ–‡ä»¶ï¼Œå¹¶ä¸”æ’é™¤äº†åä¸º <code>build</code> å’Œ <code>node_modules</code> çš„ç›®å½•åŠå…¶å†…å®¹ã€‚è¿™é€šå¸¸ç”¨äºé€‰æ‹©è¦å¤„ç†çš„æ–‡ä»¶é›†åˆï¼Œä»¥ä¾¿åœ¨æ„å»ºæµç¨‹ä¸­æ‰§è¡Œç›¸åº”çš„æ“ä½œ</p></blockquote><h2 id="pattern-pattern-pattern-1"><a href="#pattern-pattern-pattern-1" class="headerlink" title="?(pattern|pattern|pattern)"></a>?(pattern|pattern|pattern)</h2><blockquote><p>åŒ¹é…æ‹¬å·ä¸­ç»™å®šçš„ä»»ä¸€æ¨¡å¼0æ¬¡æˆ–è€…1æ¬¡ï¼Œç±»ä¼¼äºjsæ­£åˆ™ä¸­çš„(pattern|pattern|pattern)?</p></blockquote><p> <code>./style/?(a|a2|b).js</code></p><blockquote><p>åŒ¹é…ä»¥ <code>./style/</code> å¼€å¤´ï¼Œåè·Ÿ <code>a</code>ã€<code>a2</code> æˆ– <code>b</code>ï¼Œæœ€åä»¥ <code>.js</code> ç»“å°¾çš„æ–‡ä»¶è·¯å¾„ï¼Œä¾‹å¦‚ï¼š</p><ul><li><code>./style/a.js</code></li><li><code>./style/a2.js</code></li><li><code>./style/b.js</code></li></ul><p>å…¶ä»–ä¸æ»¡è¶³è¿™ä¸ªæ¨¡å¼çš„è·¯å¾„å°†ä¸ä¼šè¢«åŒ¹é…</p></blockquote><h2 id="pattern-pattern-pattern-2"><a href="#pattern-pattern-pattern-2" class="headerlink" title="@(pattern|pattern|pattern)"></a>@(pattern|pattern|pattern)</h2><blockquote><p>åŒ¹é…å¤šä¸ªæ¨¡å¼ä¸­çš„ä»»ä¸€ä¸ªï¼Œç±»ä¼¼äºjsæ­£åˆ™ä¸­çš„(pattern|pattern|pattern)</p></blockquote><p><code>./style/@(a|b|c).js</code></p><blockquote><ul><li><code>./style/</code>ï¼šè·¯å¾„å¿…é¡»ä»¥ <code>./style/</code> å¼€å¤´ã€‚</li><li><code>@(a|b|c)</code>ï¼šè¿™ä¸ªéƒ¨åˆ†è¡¨ç¤ºé€‰æ‹©å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯åŒ¹é… <code>a</code>ã€<code>b</code> æˆ– <code>c</code> ä¸­çš„ä»»æ„ä¸€ä¸ªã€‚</li><li><code>.js</code>ï¼šè·¯å¾„å¿…é¡»ä»¥ <code>.js</code> ç»“å°¾ã€‚</li></ul><p>åŒ¹é…<code>a</code>ã€<code>b</code> æˆ– <code>c</code> ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œæœ€åä»¥ <code>.js</code> ç»“å°¾çš„æ–‡ä»¶è·¯å¾„ï¼Œä¾‹å¦‚ï¼š</p><ul><li><code>./style/a.js</code></li><li><code>./style/b.js</code></li><li><code>./style/c.js</code></li></ul><p>è¿™äº›è·¯å¾„ä¼šåŒ¹é…æˆåŠŸã€‚ä½†æ˜¯ï¼Œå¦‚æœè·¯å¾„ä¸­çš„å­—ç¬¦ä¸æ˜¯ <code>a</code>ã€<code>b</code> æˆ– <code>c</code> ä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œæˆ–è€…ä¸ä»¥ <code>.js</code> ç»“å°¾ï¼Œé‚£ä¹ˆå°±ä¸ä¼šåŒ¹é…æˆåŠŸã€‚ä¾‹å¦‚ï¼Œ<code>./style/d.js</code> æˆ– <code>./style/x.js</code> å°†ä¸ä¼šåŒ¹é…æˆåŠŸã€‚</p><p><strong>ä¸èƒ½ç»„åˆï¼ŒåŒ¹é…ä¸€æ¬¡ï¼Œä¸èƒ½ä¸ºç©ºï¼Œæ³¨æ„ä¸<code>?</code>çš„åŒºåˆ«ï¼Œå¦‚æœæ˜¯<code>?</code>åˆ™æ˜¯é›¶ä¸ªæˆ–ä¸€ä¸ªå­—ç¬¦</strong></p></blockquote><h2 id="pattern-pattern-pattern-3"><a href="#pattern-pattern-pattern-3" class="headerlink" title="+(pattern|pattern|pattern)"></a>+(pattern|pattern|pattern)</h2><blockquote><p>åŒ¹é…æ‹¬å·ä¸­ç»™å®šä»»ä¸€æ¨¡å¼1æ¬¡æˆ–è€…å¤šæ¬¡ï¼Œè¿™å‡ ä¸ªæ¨¡å¼å¯ä»¥ç»„åˆåœ¨ä¸€èµ·åŒ¹é…ï¼Œç±»ä¼¼äºjsæ­£åˆ™ä¸­çš„(pattern|pattern|pattern)+</p></blockquote><p><code>./style/+(a|a2|b).js</code></p><blockquote><p>åŒ¹é…ä»¥ <code>./style/</code> å¼€å¤´ï¼Œåè·Ÿä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œå¹¶ä¸”å¯ä»¥æ˜¯ <code>a</code>ã€<code>a2</code> æˆ– <code>b</code> ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œæœ€åä»¥ <code>.js</code> ç»“å°¾çš„æ–‡ä»¶è·¯å¾„ã€‚ç¤ºä¾‹ï¼š</p><ul><li><code>./style/ab.js</code></li><li><code>./style/aa2.js</code></li><li><code>./style/bbb.js</code></li></ul><p>è¿™äº›è·¯å¾„éƒ½å¯ä»¥åŒ¹é…æˆåŠŸï¼Œå› ä¸ºå®ƒä»¬æ»¡è¶³äº†ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œä¸”å¯ä»¥æ˜¯ <code>a</code>ã€<code>a2</code> æˆ– <code>b</code> ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œä»¥åŠä»¥ <code>.js</code> ç»“å°¾çš„æ¡ä»¶ã€‚</p></blockquote><h2 id="pattern-pattern-pattern-4"><a href="#pattern-pattern-pattern-4" class="headerlink" title="*(pattern|pattern|pattern)"></a>*(pattern|pattern|pattern)</h2><blockquote><p>åŒ¹é…æ‹¬å·ä¸­ç»™å®šä»»ä¸€æ¨¡å¼0æ¬¡æˆ–è€…å¤šæ¬¡ï¼Œè¿™å‡ ä¸ªæ¨¡å¼å¯ä»¥ç»„åˆåœ¨ä¸€èµ·åŒ¹é…ï¼Œç±»ä¼¼äºjsæ­£åˆ™ä¸­çš„(pattern|pattern|pattern)*</p></blockquote><p><code>./style/*(a|b|c).js</code></p><blockquote><p>åŒ¹é…ä»¥ <code>./style/</code> å¼€å¤´ï¼Œåè·Ÿé›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œå¹¶ä¸”å¯ä»¥æ˜¯ <code>a</code>ã€<code>b</code> æˆ– <code>c</code> ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œæœ€åä»¥ <code>.js</code> ç»“å°¾çš„æ–‡ä»¶è·¯å¾„ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›åŒ¹é…æˆåŠŸçš„ç¤ºä¾‹ï¼š</p><ul><li><code>./style/a.js</code></li><li><code>./style/abc.js</code></li><li><code>./style/bbc.js</code></li><li><code>./style/ccc.js</code></li></ul><p>è¿™äº›è·¯å¾„éƒ½å¯ä»¥åŒ¹é…æˆåŠŸï¼Œå› ä¸ºå®ƒä»¬æ»¡è¶³äº†é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œä¸”å¯ä»¥æ˜¯ <code>a</code>ã€<code>b</code> æˆ– <code>c</code> ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œä»¥åŠä»¥ <code>.js</code> ç»“å°¾çš„æ¡ä»¶ã€‚</p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>postMessage</title>
      <link href="/posts/61913.html"/>
      <url>/posts/61913.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="postMessage"><a href="#postMessage" class="headerlink" title="postMessage"></a>postMessage</h1><blockquote><p><a href="https://developer.mozilla.org/zh-CN/docs/web/api/window/postmessage">https://developer.mozilla.org/zh-CN/docs/web/api/window/postmessage</a></p><p>postMessageæ˜¯HTML5å¼•å…¥çš„ä¸€ç§è·¨æ–‡æ¡£é€šä¿¡çš„æœºåˆ¶ï¼Œå¯ä»¥åœ¨ä¸åŒçš„çª—å£æˆ–æ¡†æ¶ä¹‹é—´ä¼ é€’æ•°æ®ï¼Œå³ä½¿è¿™äº›çª—å£æˆ–æ¡†æ¶ä¸å±äºåŒä¸€ä¸ªæºã€‚</p></blockquote><h2 id="postMessageçš„ä½¿ç”¨"><a href="#postMessageçš„ä½¿ç”¨" class="headerlink" title="postMessageçš„ä½¿ç”¨"></a>postMessageçš„ä½¿ç”¨</h2><h3 id="å‘é€æ¶ˆæ¯"><a href="#å‘é€æ¶ˆæ¯" class="headerlink" title="å‘é€æ¶ˆæ¯"></a>å‘é€æ¶ˆæ¯</h3><blockquote><p>ä»¥è·¨åŸŸä¸‹è½½æ–‡ä»¶ä¸ºä¾‹</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// vue æ–‡ä»¶</span><br><span class="line">&lt;script lang=&quot;ts&quot; setup&gt;</span><br><span class="line">import &#123; ref &#125; from &quot;vue&quot;;</span><br><span class="line">const iframeDom = ref&lt;HTMLIFrameElement&gt;(null);</span><br><span class="line">const downVideo = (url: string, fileName: string) =&gt; &#123;</span><br><span class="line">  const iframeWin = iframeDom.value.contentWindow;</span><br><span class="line">  iframeWin.postMessage(&#123; apiUrl: url, fileName: fileName&#125;,&quot;*&quot;);</span><br><span class="line">&#125;;</span><br><span class="line">defineExpose(&#123;</span><br><span class="line">  downVideo</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;iframe ref=&quot;iframeDom&quot; frameborder=&quot;0&quot; scrolling=&quot;auto&quot; src=&quot;/xg/xgvideo.html&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹æ˜¯postMessageå‡½æ•°çš„è¯­æ³•ï¼š</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line">otherWindow.<span class="title function_">postMessage</span>(message, targetOrigin, [transfer]);</span><br></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>otherWindow</code>ï¼šç›®æ ‡çª—å£çš„å¼•ç”¨ï¼Œå¯ä»¥æ˜¯iframeæˆ–windowå¯¹è±¡ã€‚</li><li><code>message</code>ï¼šè¦å‘é€çš„æ•°æ®ã€‚å¯ä»¥æ˜¯ä»»ä½•å¯ä»¥åºåˆ—åŒ–çš„JavaScriptå¯¹è±¡ã€‚</li><li><code>targetOrigin</code>ï¼šæ¶ˆæ¯çš„ç›®æ ‡æºã€‚åªæœ‰ç›®æ ‡çª—å£ä¸æŒ‡å®šçš„æºç›¸åŒæ‰ä¼šæ¥æ”¶åˆ°æ¶ˆæ¯ã€‚å¯ä»¥æ˜¯å­—ç¬¦ä¸²â€œ*â€ï¼Œè¡¨ç¤ºæ¥æ”¶ä»»ä½•æºçš„æ¶ˆæ¯ã€‚</li><li><code>transfer</code>ï¼šå¯é€‰ï¼Œè¦è½¬ç§»çš„å¯¹è±¡ï¼Œå¦‚Blobå’ŒArrayBufferã€‚</li></ul><h3 id="æ¥æ”¶æ¶ˆæ¯"><a href="#æ¥æ”¶æ¶ˆæ¯" class="headerlink" title="æ¥æ”¶æ¶ˆæ¯"></a>æ¥æ”¶æ¶ˆæ¯</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- htmlæ–‡ä»¶ --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;mse&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;message&quot;</span>, <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> (!e.<span class="property">data</span>.<span class="property">apiUrl</span>) <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> data = e.<span class="property">data</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// console.log(data.apiUrl, data.fileName);</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> link = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;a&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(link);</span></span><br><span class="line"><span class="language-javascript">    link.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">    link.<span class="property">download</span> = data.<span class="property">fileName</span>;</span></span><br><span class="line"><span class="language-javascript">    link.<span class="property">href</span> = data.<span class="property">apiUrl</span>;</span></span><br><span class="line"><span class="language-javascript">    link.<span class="property">target</span> = <span class="string">&quot;_blank&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">    link.<span class="title function_">click</span>();</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(link);</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">window</span>.<span class="property">URL</span>.<span class="title function_">revokeObjectURL</span>(data.<span class="property">apiUrl</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹æ˜¯æ·»åŠ äº‹ä»¶ä¾¦å¬å™¨çš„è¯­æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;message&#x27;</span>, handleMessage, [useCapture]);</span><br></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>handleMessage</code>ï¼šå½“æ¥æ”¶åˆ°æ¶ˆæ¯æ—¶è¦è°ƒç”¨çš„å‡½æ•°ã€‚</li><li><code>useCapture</code>ï¼šæŒ‡å®šäº‹ä»¶æ˜¯å¦åœ¨æ•è·æˆ–å†’æ³¡é˜¶æ®µå¤„ç†ã€‚</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> postMessage </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3å•ç‹¬å°è£…åˆ†é¡µç»„ä»¶</title>
      <link href="/posts/42451.html"/>
      <url>/posts/42451.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å•ç‹¬å°è£…åˆ†é¡µ"><a href="#å•ç‹¬å°è£…åˆ†é¡µ" class="headerlink" title="å•ç‹¬å°è£…åˆ†é¡µ"></a>å•ç‹¬å°è£…åˆ†é¡µ</h1><h3 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script lang=&quot;ts&quot; setup&gt;</span><br><span class="line">import &#123; computed &#125; from &quot;vue&quot;;</span><br><span class="line"></span><br><span class="line">defineOptions(&#123;</span><br><span class="line">  name: &quot;MyPagination&quot;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const props = defineProps(&#123;</span><br><span class="line">  // total æ€»æ¡æ•°</span><br><span class="line">  total: &#123;</span><br><span class="line">    required: true,</span><br><span class="line">    type: Number,</span><br><span class="line">    default: 0</span><br><span class="line">  &#125;,</span><br><span class="line">  // page å½“å‰é¡µ</span><br><span class="line">  page: &#123;</span><br><span class="line">    type: Number,</span><br><span class="line">    default: 1</span><br><span class="line">  &#125;,</span><br><span class="line">  //  æ¯é¡µæ¡æ•°</span><br><span class="line">  limit: &#123;</span><br><span class="line">    type: Number,</span><br><span class="line">    default: 20</span><br><span class="line">  &#125;,</span><br><span class="line">  // æ¯é¡µæ¡æ•°é€‰é¡¹</span><br><span class="line">  pageSizes: &#123;</span><br><span class="line">    type: Array,</span><br><span class="line">    default() &#123;</span><br><span class="line">      return [10, 20, 50, 100];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  // åˆ†é¡µå¸ƒå±€</span><br><span class="line">  layout: &#123;</span><br><span class="line">    type: String,</span><br><span class="line">    default: &quot;total,  prev, pager, next, sizes, jumper&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  // æ˜¯å¦æ˜¾ç¤ºèƒŒæ™¯è‰²</span><br><span class="line">  background: &#123;</span><br><span class="line">    type: Boolean,</span><br><span class="line">    default: true</span><br><span class="line">  &#125;,</span><br><span class="line">  // æ˜¯å¦è‡ªåŠ¨æ»šåŠ¨åˆ°é¡¶éƒ¨</span><br><span class="line">  autoScroll: &#123;</span><br><span class="line">    type: Boolean,</span><br><span class="line">    default: true</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">// å®šä¹‰emit</span><br><span class="line">const emit = defineEmits([&quot;pagination&quot;, &quot;update:page&quot;, &quot;update:limit&quot;]);</span><br><span class="line"></span><br><span class="line">// å®šä¹‰å½“å‰é¡µ</span><br><span class="line">const currentPage = computed(&#123;</span><br><span class="line">  get() &#123;</span><br><span class="line">    return props.page;</span><br><span class="line">  &#125;,</span><br><span class="line">  set(newValue) &#123;</span><br><span class="line">    // æ›´æ–°å½“å‰é¡µ</span><br><span class="line">    emit(&quot;update:page&quot;, newValue);</span><br><span class="line">    console.log(newValue);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">// å®šä¹‰æ¯é¡µæ¡æ•°</span><br><span class="line">const pageSize = computed(&#123;</span><br><span class="line">  get() &#123;</span><br><span class="line">    return props.limit;</span><br><span class="line">  &#125;,</span><br><span class="line">  set(newValue) &#123;</span><br><span class="line">    // æ›´æ–°æ¯é¡µæ¡æ•°</span><br><span class="line">    emit(&quot;update:limit&quot;, newValue);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// ç›‘å¬æ¯é¡µæ¡æ•°å˜åŒ–</span><br><span class="line">const handleSizeChange = val =&gt; &#123;</span><br><span class="line">  emit(&quot;pagination&quot;, &#123; page: currentPage.value, limit: val &#125;);</span><br><span class="line">&#125;;</span><br><span class="line">// ç›‘å¬å½“å‰é¡µå˜åŒ–</span><br><span class="line">const handleCurrentChange = val =&gt; &#123;</span><br><span class="line">  emit(&quot;pagination&quot;, &#123; page: val, limit: pageSize.value &#125;);</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;MyPagination&quot;&gt;</span><br><span class="line">    &lt;el-pagination</span><br><span class="line">      v-model:current-page=&quot;currentPage&quot;</span><br><span class="line">      v-model:page-size=&quot;pageSize&quot;</span><br><span class="line">      :page-sizes=&quot;pageSizes&quot;</span><br><span class="line">      :layout=&quot;layout&quot;</span><br><span class="line">      :total=&quot;total&quot;</span><br><span class="line">      :background=&quot;background&quot;</span><br><span class="line">      v-bind=&quot;$attrs&quot;</span><br><span class="line">      @current-change=&quot;handleCurrentChange&quot;</span><br><span class="line">      @size-change=&quot;handleSizeChange&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.MyPagination &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  justify-content: center;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;my-pagination</span><br><span class="line">        :page=&quot;from.page&quot;</span><br><span class="line">        :limit=&quot;from.size&quot;</span><br><span class="line">        :total=&quot;stationTotal&quot;</span><br><span class="line">        @pagination=&quot;getList&quot;</span><br><span class="line">      /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script lang=&quot;ts&quot; setup&gt;</span><br><span class="line">const from = ref(&#123;</span><br><span class="line">  page: 1,</span><br><span class="line">  size: 10</span><br><span class="line">&#125;)</span><br><span class="line">const total = ref(999)</span><br><span class="line">const getList = async () =&gt; &#123;</span><br><span class="line">  // await è¯·æ±‚</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><blockquote><p>ToDo: åç»­è¿˜ä¼šè¿›è¡ŒäºŒæ¬¡å¼€å‘</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> vue3 </tag>
            
            <tag> element </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3å•ç‹¬å°è£…Table</title>
      <link href="/posts/43495.html"/>
      <url>/posts/43495.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å•ç‹¬å°è£…Table"><a href="#å•ç‹¬å°è£…Table" class="headerlink" title="å•ç‹¬å°è£…Table"></a>å•ç‹¬å°è£…Table</h1><blockquote><p>ä½¿ç”¨Vue3 + Element Pluså•ç‹¬å°è£…Table</p></blockquote><h3 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-table</span><br><span class="line">    :data=&quot;tableData&quot;</span><br><span class="line">    style=&quot;width: 100%&quot;</span><br><span class="line">    @selection-change=&quot;handleSelectionChange&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    &lt;el-table-column v-if=&quot;index&quot; type=&quot;index&quot; width=&quot;50&quot; /&gt;</span><br><span class="line">    &lt;el-table-column v-if=&quot;checkbox&quot; type=&quot;selection&quot; width=&quot;55&quot; /&gt;</span><br><span class="line">    &lt;template v-for=&quot;item in column&quot; :key=&quot;item&quot;&gt;</span><br><span class="line">      &lt;!-- åˆ¤æ–­æ–‡æœ¬ç±» --&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">        v-if=&quot;item.type === &#x27;function&#x27;&quot;</span><br><span class="line">        :prop=&quot;item.prop&quot;</span><br><span class="line">        :label=&quot;item.label&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;template #default=&quot;scope&quot;&gt;</span><br><span class="line">          &lt;div v-html=&quot;item.callback &amp;&amp; item.callback(scope.row)&quot; /&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">      &lt;!-- åˆ¤æ–­æ˜¯å¦ä¸ºSolt --&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">        v-else-if=&quot;item.type === &#x27;solt&#x27;&quot;</span><br><span class="line">        :prop=&quot;item.prop&quot;</span><br><span class="line">        :label=&quot;item.label&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;template #default=&quot;scope&quot;&gt;</span><br><span class="line">          &lt;slot :name=&quot;item.slot_name&quot; :data=&quot;scope.row&quot; /&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">      &lt;!-- æ™®é€šçš„ --&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">        v-else</span><br><span class="line">        :key=&quot;item.prop&quot;</span><br><span class="line">        :prop=&quot;item.prop&quot;</span><br><span class="line">        :label=&quot;item.label&quot;</span><br><span class="line">        :width=&quot;item.width&quot;</span><br><span class="line">      /&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">  &lt;/el-table&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; onMounted, defineEmits &#125; from &quot;vue&quot;;</span><br><span class="line"></span><br><span class="line">defineOptions(&#123;</span><br><span class="line">  name: &quot;MyTable&quot;</span><br><span class="line">&#125;);</span><br><span class="line">const emit = defineEmits([&quot;onload&quot;, &quot;updateList&quot;]);</span><br><span class="line"></span><br><span class="line">const props = defineProps(&#123;</span><br><span class="line">  tableData: &#123;</span><br><span class="line">    type: Array,</span><br><span class="line">    required: true,</span><br><span class="line">    default: () =&gt; []</span><br><span class="line">  &#125;,</span><br><span class="line">  column: &#123;</span><br><span class="line">    type: Array,</span><br><span class="line">    required: true,</span><br><span class="line">    default: () =&gt; []</span><br><span class="line">  &#125;,</span><br><span class="line">  checkList: &#123;</span><br><span class="line">    type: Array,</span><br><span class="line">    default: () =&gt; []</span><br><span class="line">  &#125;,</span><br><span class="line">  checkbox: Boolean,</span><br><span class="line">  index: Boolean,</span><br><span class="line">  onLoad: Boolean</span><br><span class="line">&#125;);</span><br><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">  api();</span><br><span class="line">&#125;);</span><br><span class="line">const handleSelectionChange = value =&gt; &#123;</span><br><span class="line">  emit(&quot;updateList&quot;, value);</span><br><span class="line">&#125;;</span><br><span class="line">const api = () =&gt; &#123;</span><br><span class="line">  // è¯·æ±‚æ•°æ®æˆåŠŸåæŠ›å‡º</span><br><span class="line">  props.onLoad &amp;&amp; emit(&quot;onload&quot;, &quot;åå°æ•°æ®&quot;);</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;MyTable :column = column checkbox on-load @onload=&#x27;onload&#x27; @updateList=&#x27;updateList&#x27;&gt;</span><br><span class="line">      &lt;template v-slot:operation=&quot;slot&quot;&gt;</span><br><span class="line">        &lt;el-button type=&quot;primary&quot; @click=&quot;jump(slot.data)&quot;&gt;ç¼–è¾‘&lt;/el-button&gt;</span><br><span class="line">        &lt;el-button type=&quot;primary&quot;&gt;åˆ é™¤&lt;/el-button&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/MyTable&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import MyTable from &#x27;../components/table/index.vue&#x27;</span><br><span class="line">import &#123; reactive, watch, ref &#125; from &#x27;vue&#x27;</span><br><span class="line">let checkList = []</span><br><span class="line">const onload = (data) =&gt; &#123;</span><br><span class="line">  console.log(data);</span><br><span class="line">&#125;</span><br><span class="line">const jump = (data) =&gt; &#123;</span><br><span class="line">  console.log(data);</span><br><span class="line">&#125;</span><br><span class="line">const updateList = (data) =&gt; &#123;</span><br><span class="line">  checkList = data</span><br><span class="line">&#125;</span><br><span class="line">const column = [</span><br><span class="line">  &#123; label:&#x27;æ—¥æœŸ&#x27;, prop:&#x27;date&#x27; &#125;,</span><br><span class="line">  &#123; label:&#x27;å§“å&#x27;, prop:&#x27;name&#x27; &#125;,</span><br><span class="line">  &#123; type:&#x27;function&#x27;,</span><br><span class="line">    label:&#x27;åœ°å€&#x27;,</span><br><span class="line">    prop:&#x27;address&#x27;,</span><br><span class="line">    callback:(data) =&gt; &#123;</span><br><span class="line">      return `&lt;a href=&#x27;#&#x27;&gt;$&#123;data.address&#125;&lt;/a&gt;`</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    type:&#x27;solt&#x27;,</span><br><span class="line">    label:&#x27;æ“ä½œ&#x27;,</span><br><span class="line">    prop:&#x27;operation&#x27;,</span><br><span class="line">    slot_name:&#x27;operation&#x27;,</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line">const tableData = ref([])</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><blockquote><p>TODOï¼šåç»­ä¼šå†è¿›è¡ŒäºŒæ¬¡å¼€å‘</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> vue3 </tag>
            
            <tag> table </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3å°è£…Table</title>
      <link href="/posts/37031.html"/>
      <url>/posts/37031.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class="reference-source"><span class="hidden-anchor" id="referfrom_[1]"></span><a class="reference-anchor" href="#referto_[1]">[1]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://www.huyu001.top/posts/43495.html">å•ç‹¬å°è£…Table</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[2]"></span><a class="reference-anchor" href="#referto_[2]">[2]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://www.huyu001.top/posts/42451.html">å•ç‹¬å°è£…åˆ†é¡µ</a></div><h1 id="Vue3å°è£…Table"><a href="#Vue3å°è£…Table" class="headerlink" title="Vue3å°è£…Table"></a>Vue3å°è£…Table</h1><blockquote><p>åœ¨æˆ‘ä»¬å‰ç«¯å¼€å‘çš„è¿‡ç¨‹ä¸­å¸¸è§çš„éœ€æ±‚æœ‰åˆ—è¡¨åŠ åˆ†é¡µåŠ æŸ¥è¯¢ï¼Œå°¤å…¶åœ¨åå°ç®¡ç†ç³»ç»Ÿä¸­ï¼Œåœ¨è¿™é‡Œæˆ‘å°è£…äº†ä¸€å¥—åŸºäºvue3 + element-plus + tsçš„ç»„ä»¶ï¼Œç›´æ¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨å°è£…çš„ç»„ä»¶å’Œç¼–å†™å¯é…ç½®æ–‡ä»¶å³å¯,ç›´æ¥ä¸Šä»£ç ï¼Œå¼€ç®±å³å¯ç”¨</p></blockquote><h4 id="å…ˆä»ç®€å•çš„å¼€å§‹ï¼Œåˆ†é¡µç»„ä»¶-Pagination"><a href="#å…ˆä»ç®€å•çš„å¼€å§‹ï¼Œåˆ†é¡µç»„ä»¶-Pagination" class="headerlink" title="å…ˆä»ç®€å•çš„å¼€å§‹ï¼Œåˆ†é¡µç»„ä»¶ Pagination"></a>å…ˆä»ç®€å•çš„å¼€å§‹ï¼Œåˆ†é¡µç»„ä»¶ Pagination</h4><ul><li>åœ¨componentsä¸‹æ–°å»ºæ–‡ä»¶å¤¹Pagination,é‡Œé¢å†å»ºindex.vueï¼Œä»£ç å¦‚ä¸‹</li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script lang=&quot;ts&quot; setup&gt;</span><br><span class="line">import &#123; computed &#125; from &quot;vue&quot;;</span><br><span class="line"></span><br><span class="line">defineOptions(&#123;</span><br><span class="line">  name: &quot;MyPagination&quot;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const props = defineProps(&#123;</span><br><span class="line">  // total æ€»æ¡æ•°</span><br><span class="line">  total: &#123;</span><br><span class="line">    required: true,</span><br><span class="line">    type: Number,</span><br><span class="line">    default: 0</span><br><span class="line">  &#125;,</span><br><span class="line">  // page å½“å‰é¡µ</span><br><span class="line">  page: &#123;</span><br><span class="line">    type: Number,</span><br><span class="line">    default: 1</span><br><span class="line">  &#125;,</span><br><span class="line">  //  æ¯é¡µæ¡æ•°</span><br><span class="line">  limit: &#123;</span><br><span class="line">    type: Number,</span><br><span class="line">    default: 20</span><br><span class="line">  &#125;,</span><br><span class="line">  // æ¯é¡µæ¡æ•°é€‰é¡¹</span><br><span class="line">  pageSizes: &#123;</span><br><span class="line">    type: Array,</span><br><span class="line">    default() &#123;</span><br><span class="line">      return [10, 20, 50, 100];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  // åˆ†é¡µå¸ƒå±€</span><br><span class="line">  layout: &#123;</span><br><span class="line">    type: String,</span><br><span class="line">    default: &quot;total,  prev, pager, next, sizes, jumper&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  // æ˜¯å¦æ˜¾ç¤ºèƒŒæ™¯è‰²</span><br><span class="line">  background: &#123;</span><br><span class="line">    type: Boolean,</span><br><span class="line">    default: true</span><br><span class="line">  &#125;,</span><br><span class="line">  // æ˜¯å¦è‡ªåŠ¨æ»šåŠ¨åˆ°é¡¶éƒ¨</span><br><span class="line">  autoScroll: &#123;</span><br><span class="line">    type: Boolean,</span><br><span class="line">    default: true</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">// å®šä¹‰emit</span><br><span class="line">const emit = defineEmits([&quot;pagination&quot;, &quot;update:page&quot;, &quot;update:limit&quot;]);</span><br><span class="line"></span><br><span class="line">// å®šä¹‰å½“å‰é¡µ</span><br><span class="line">const currentPage = computed(&#123;</span><br><span class="line">  get() &#123;</span><br><span class="line">    return props.page;</span><br><span class="line">  &#125;,</span><br><span class="line">  set(newValue) &#123;</span><br><span class="line">    // æ›´æ–°å½“å‰é¡µ</span><br><span class="line">    emit(&quot;update:page&quot;, newValue);</span><br><span class="line">    console.log(newValue);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">// å®šä¹‰æ¯é¡µæ¡æ•°</span><br><span class="line">const pageSize = computed(&#123;</span><br><span class="line">  get() &#123;</span><br><span class="line">    return props.limit;</span><br><span class="line">  &#125;,</span><br><span class="line">  set(newValue) &#123;</span><br><span class="line">    // æ›´æ–°æ¯é¡µæ¡æ•°</span><br><span class="line">    emit(&quot;update:limit&quot;, newValue);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// ç›‘å¬æ¯é¡µæ¡æ•°å˜åŒ–</span><br><span class="line">const handleSizeChange = val =&gt; &#123;</span><br><span class="line">  emit(&quot;pagination&quot;, &#123; page: currentPage.value, limit: val &#125;);</span><br><span class="line">&#125;;</span><br><span class="line">// ç›‘å¬å½“å‰é¡µå˜åŒ–</span><br><span class="line">const handleCurrentChange = val =&gt; &#123;</span><br><span class="line">  emit(&quot;pagination&quot;, &#123; page: val, limit: pageSize.value &#125;);</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;CardPagination&quot;&gt;</span><br><span class="line">    &lt;el-pagination</span><br><span class="line">      v-model:current-page=&quot;currentPage&quot;</span><br><span class="line">      v-model:page-size=&quot;pageSize&quot;</span><br><span class="line">      :page-sizes=&quot;pageSizes&quot;</span><br><span class="line">      :layout=&quot;layout&quot;</span><br><span class="line">      :total=&quot;total&quot;</span><br><span class="line">      :background=&quot;background&quot;</span><br><span class="line">      v-bind=&quot;$attrs&quot;</span><br><span class="line">      @current-change=&quot;handleCurrentChange&quot;</span><br><span class="line">      @size-change=&quot;handleSizeChange&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.CardPagination &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  justify-content: center;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="å…¶æ¬¡æ˜¯æŸ¥è¯¢formç»„ä»¶-Formï¼Œ-é‡Œé¢ä¸€äº›å°çš„æ ·å¼å¯è‡ªå·±ä¿®æ”¹ï¼Œè¿™é‡Œåªæ˜¯æˆ‘çš„æ ·å¼"><a href="#å…¶æ¬¡æ˜¯æŸ¥è¯¢formç»„ä»¶-Formï¼Œ-é‡Œé¢ä¸€äº›å°çš„æ ·å¼å¯è‡ªå·±ä¿®æ”¹ï¼Œè¿™é‡Œåªæ˜¯æˆ‘çš„æ ·å¼" class="headerlink" title="å…¶æ¬¡æ˜¯æŸ¥è¯¢formç»„ä»¶ Formï¼Œ é‡Œé¢ä¸€äº›å°çš„æ ·å¼å¯è‡ªå·±ä¿®æ”¹ï¼Œè¿™é‡Œåªæ˜¯æˆ‘çš„æ ·å¼"></a>å…¶æ¬¡æ˜¯æŸ¥è¯¢formç»„ä»¶ Formï¼Œ é‡Œé¢ä¸€äº›å°çš„æ ·å¼å¯è‡ªå·±ä¿®æ”¹ï¼Œè¿™é‡Œåªæ˜¯æˆ‘çš„æ ·å¼</h4><ul><li>åœ¨componentsä¸‹æ–°å»ºæ–‡ä»¶å¤¹Form,é‡Œé¢å†å»ºindex.vueï¼Œä»£ç å¦‚ä¸‹</li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;el-row :gutter=&quot;18&quot; style=&quot;display: block !important&quot;&gt;</span><br><span class="line">      &lt;el-form</span><br><span class="line">        ref=&quot;form&quot;</span><br><span class="line">        class=&quot;form_flex&quot;</span><br><span class="line">        :inline=&quot;true&quot;</span><br><span class="line">        :label-width=&quot;`$&#123;labelWidth&#125;px`&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;el-col v-for=&quot;(item, index) of items&quot; :key=&quot;index&quot; v-bind=&quot;colLayout&quot;&gt;</span><br><span class="line">          &lt;el-form-item :label=&quot;item.name&quot;&gt;</span><br><span class="line">            &lt;template v-if=&quot;item.slot&quot;&gt;</span><br><span class="line">              &lt;slot :name=&quot;item.slotName&quot; /&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">            &lt;el-input</span><br><span class="line">              v-else-if=&quot;!item.type || item.type === &#x27;input&#x27;&quot;</span><br><span class="line">              :model-value=&quot;searchParams[item.key]&quot;</span><br><span class="line">              v-bind=&quot;setAttrs(item)&quot;</span><br><span class="line">              :placeholder=&quot;item.placeholder || &#x27;è¯·è¾“å…¥&#x27;&quot;</span><br><span class="line">              @update:model-value=&quot;handleValueChange($event, item.key)&quot;</span><br><span class="line">            /&gt;</span><br><span class="line">            &lt;el-input</span><br><span class="line">              v-else-if=&quot;item.type === &#x27;textarea&#x27;&quot;</span><br><span class="line">              :model-value=&quot;searchParams[item.key]&quot;</span><br><span class="line">              v-bind=&quot;setAttrs(item)&quot;</span><br><span class="line">              :placeholder=&quot;item.placeholder || &#x27;è¯·è¾“å…¥&#x27;&quot;</span><br><span class="line">              @update:model-value=&quot;handleValueChange($event, item.key)&quot;</span><br><span class="line">            /&gt;</span><br><span class="line">            &lt;el-select</span><br><span class="line">              v-else-if=&quot;item.type === &#x27;select&#x27;&quot;</span><br><span class="line">              v-bind=&quot;setAttrs(item)&quot;</span><br><span class="line">              :model-value=&quot;searchParams[item.key]&quot;</span><br><span class="line">              :placeholder=&quot;item.placeholder || &#x27;è¯·é€‰æ‹©&#x27;&quot;</span><br><span class="line">              @update:model-value=&quot;handleValueChange($event, item.key)&quot;</span><br><span class="line">            &gt;</span><br><span class="line">              &lt;el-option</span><br><span class="line">                v-for=&quot;(option, i) of item.options&quot;</span><br><span class="line">                :key=&quot;i&quot;</span><br><span class="line">                :label=&quot;</span><br><span class="line">                  option[(item[&#x27;props&#x27;] &amp;&amp; item[&#x27;props&#x27;][&#x27;key&#x27;]) || &#x27;label&#x27;]</span><br><span class="line">                &quot;</span><br><span class="line">                :value=&quot;</span><br><span class="line">                  option[(item[&#x27;props&#x27;] &amp;&amp; item[&#x27;props&#x27;][&#x27;value&#x27;]) || &#x27;value&#x27;]</span><br><span class="line">                &quot;</span><br><span class="line">              /&gt;</span><br><span class="line">            &lt;/el-select&gt;</span><br><span class="line">            &lt;el-cascader</span><br><span class="line">              v-else-if=&quot;item.type === &#x27;cascader&#x27;&quot;</span><br><span class="line">              :model-value=&quot;searchParams[item.key]&quot;</span><br><span class="line">              v-bind=&quot;setAttrs(item)&quot;</span><br><span class="line">              :options=&quot;item.options&quot;</span><br><span class="line">              :placeholder=&quot;item.placeholder || &#x27;è¯·é€‰æ‹©&#x27;&quot;</span><br><span class="line">              :props=&quot;item.props&quot;</span><br><span class="line">              @update:model-value=&quot;handleValueChange($event, item.key)&quot;</span><br><span class="line">            /&gt;</span><br><span class="line">            &lt;el-date-picker</span><br><span class="line">              v-else-if=&quot;item.type === &#x27;date-picker&#x27;&quot;</span><br><span class="line">              v-bind=&quot;setAttrs(item)&quot;</span><br><span class="line">              :default-time=&quot;defaultTime&quot;</span><br><span class="line">              end-placeholder=&quot;ç»“æŸæ—¥æœŸ&quot;</span><br><span class="line">              :model-value=&quot;searchParams[item.key]&quot;</span><br><span class="line">              :placeholder=&quot;item.placeholder || &#x27;è¯·é€‰æ‹©&#x27;&quot;</span><br><span class="line">              prefix-icon=&quot;&quot;</span><br><span class="line">              range-separator=&quot;-&quot;</span><br><span class="line">              start-placeholder=&quot;å¼€å§‹æ—¥æœŸ&quot;</span><br><span class="line">              :type=&quot;item.pickerType || &#x27;daterange&#x27;&quot;</span><br><span class="line">              @update:model-value=&quot;handleValueChange($event, item.key)&quot;</span><br><span class="line">            /&gt;</span><br><span class="line">            &lt;template v-else-if=&quot;item.type === &#x27;section&#x27;&quot;&gt;</span><br><span class="line">              &lt;el-input</span><br><span class="line">                class=&quot;section-input&quot;</span><br><span class="line">                :model-value=&quot;searchParams[item.minKey]&quot;</span><br><span class="line">                v-bind=&quot;setAttrs(item)&quot;</span><br><span class="line">                :placeholder=&quot;item.placeholder || &#x27;è¯·è¾“å…¥&#x27;&quot;</span><br><span class="line">              /&gt;</span><br><span class="line">              &lt;span class=&quot;symbol&quot;&gt;-&lt;/span&gt;</span><br><span class="line">              &lt;el-input</span><br><span class="line">                class=&quot;section-input&quot;</span><br><span class="line">                :model-value=&quot;searchParams[item.maxKey]&quot;</span><br><span class="line">                v-bind=&quot;setAttrs(item)&quot;</span><br><span class="line">                :placeholder=&quot;item.placeholder || &#x27;è¯·è¾“å…¥&#x27;&quot;</span><br><span class="line">              /&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">          &lt;/el-form-item&gt;</span><br><span class="line">        &lt;/el-col&gt;</span><br><span class="line">        &lt;el-col :span=&quot;btnWidth&quot;&gt;</span><br><span class="line">          &lt;slot name=&quot;prefix-button&quot; /&gt;</span><br><span class="line">          &lt;el-button-group class=&quot;search-wrap&quot;&gt;</span><br><span class="line">            &lt;el-button type=&quot;primary&quot; @click=&quot;handleSearch&quot;&gt;</span><br><span class="line">              &lt;vab-icon icon=&quot;file-search-fill&quot; /&gt;</span><br><span class="line">              æŸ¥è¯¢</span><br><span class="line">            &lt;/el-button&gt;</span><br><span class="line">            &lt;el-button @click=&quot;handleReset&quot;&gt;</span><br><span class="line">              &lt;vab-icon icon=&quot;refresh-line&quot; /&gt;</span><br><span class="line">              é‡ç½®</span><br><span class="line">            &lt;/el-button&gt;</span><br><span class="line">          &lt;/el-button-group&gt;</span><br><span class="line">          &lt;slot name=&quot;suffix-button&quot; /&gt;</span><br><span class="line">        &lt;/el-col&gt;</span><br><span class="line">      &lt;/el-form&gt;</span><br><span class="line">    &lt;/el-row&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default defineComponent(&#123;</span><br><span class="line">    name: &#x27;MyForm&#x27;,</span><br><span class="line">    props: &#123;</span><br><span class="line">      labelWidth: &#123;</span><br><span class="line">        type: Number,</span><br><span class="line">        default: 80,</span><br><span class="line">      &#125;,</span><br><span class="line">      // è¡¨å•é…ç½®</span><br><span class="line">      items: &#123;</span><br><span class="line">        type: Array,</span><br><span class="line">        default: () =&gt; &#123;</span><br><span class="line">          return []</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      // è¡¨å•å‚æ•°</span><br><span class="line">      searchParams: &#123;</span><br><span class="line">        type: Object,</span><br><span class="line">        default: () =&gt; &#123;</span><br><span class="line">          return &#123;&#125;</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      btnWidth: &#123;</span><br><span class="line">        type: Number,</span><br><span class="line">        default: 4,</span><br><span class="line">      &#125;,</span><br><span class="line">      colLayout: &#123;</span><br><span class="line">        type: Object,</span><br><span class="line">        default: () =&gt; (&#123;</span><br><span class="line">          xl: 5,</span><br><span class="line">          lg: 5,</span><br><span class="line">          md: 12,</span><br><span class="line">          sm: 24,</span><br><span class="line">          xs: 24,</span><br><span class="line">        &#125;),</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    emits: [&#x27;update:searchParams&#x27;, &#x27;change&#x27;, &#x27;search&#x27;, &#x27;reset&#x27;],</span><br><span class="line">    setup(props, &#123; emit &#125;) &#123;</span><br><span class="line">      const form = reactive(&#123;</span><br><span class="line">        initSearchParams: &#123;&#125;,</span><br><span class="line">      &#125;)</span><br><span class="line">      const defaultTime = ref([</span><br><span class="line">        new Date(2000, 1, 1, 0, 0, 0),</span><br><span class="line">        new Date(2000, 2, 1, 23, 59, 59),</span><br><span class="line">      ])</span><br><span class="line"></span><br><span class="line">      onMounted(() =&gt; &#123;</span><br><span class="line">        // ä¿å­˜åˆå§‹å€¼</span><br><span class="line">        form.initSearchParams = _.cloneDeep(props.searchParams)</span><br><span class="line">      &#125;)</span><br><span class="line">      const handleValueChange = (value, field) =&gt; &#123;</span><br><span class="line">        emit(&#x27;update:searchParams&#x27;, &#123; ...props.searchParams, [field]: value &#125;)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      // æŸ¥è¯¢</span><br><span class="line">      const handleSearch = () =&gt; &#123;</span><br><span class="line">        const cpValue = _.cloneDeep(props.searchParams)</span><br><span class="line">        let request = true</span><br><span class="line">        if (!cpValue.requestFlag) request = true</span><br><span class="line">        if (cpValue.requestFlag) request = false</span><br><span class="line">        emit(&#x27;update:searchParams&#x27;, &#123; ...cpValue, request &#125;)</span><br><span class="line">        emit(&#x27;change&#x27;, cpValue)</span><br><span class="line">        emit(&#x27;search&#x27;, cpValue)</span><br><span class="line">      &#125;</span><br><span class="line">      // é‡ç½®</span><br><span class="line">      const handleReset = () =&gt; &#123;</span><br><span class="line">        const cpValue = _.cloneDeep(form.initSearchParams)</span><br><span class="line">        let request = true</span><br><span class="line">        if (!cpValue.requestFlag) request = true</span><br><span class="line">        if (cpValue.requestFlag) request = false</span><br><span class="line">        emit(&#x27;update:searchParams&#x27;, &#123; ...cpValue, request &#125;)</span><br><span class="line">        emit(&#x27;change&#x27;, cpValue)</span><br><span class="line">        emit(&#x27;reset&#x27;, cpValue)</span><br><span class="line">      &#125;</span><br><span class="line">      const setAttrs = (params) =&gt; &#123;</span><br><span class="line">        const &#123; slot, ...options &#125; = params</span><br><span class="line">        return &#123; ...options, slot &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      return &#123;</span><br><span class="line">        defaultTime,</span><br><span class="line">        handleValueChange,</span><br><span class="line">        setAttrs,</span><br><span class="line">        handleReset,</span><br><span class="line">        handleSearch,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">  .form_flex &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-wrap: wrap;</span><br><span class="line">    .search-wrap &#123;</span><br><span class="line">      margin-bottom: 16px;</span><br><span class="line">    &#125;</span><br><span class="line">    :deep() &#123;</span><br><span class="line">      .el-select &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">      &#125;</span><br><span class="line">      .el-cascader &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">      &#125;</span><br><span class="line">      .el-form-item &#123;</span><br><span class="line">        display: flex;</span><br><span class="line">        width: 100%;</span><br><span class="line">        margin-bottom: 18px;</span><br><span class="line">        .el-form-item__label &#123;</span><br><span class="line">          font-size: 14px;</span><br><span class="line">          color: #606060d9;</span><br><span class="line">        &#125;</span><br><span class="line">        .el-form-item__content &#123;</span><br><span class="line">          flex: 1;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      .el-date-editor.el-input,</span><br><span class="line">      .el-date-editor.el-input__inner &#123;</span><br><span class="line">        width: 100% !important;</span><br><span class="line">      &#125;</span><br><span class="line">      .el-range-editor.el-input__inner &#123;</span><br><span class="line">        padding: 3px 1px 3px 5px;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h4 id="æœ€åå°±æ˜¯tableç»„ä»¶çš„å°è£…äº†ï¼Œéœ€è¦å¼•å…¥åˆ†é¡µç»„ä»¶"><a href="#æœ€åå°±æ˜¯tableç»„ä»¶çš„å°è£…äº†ï¼Œéœ€è¦å¼•å…¥åˆ†é¡µç»„ä»¶" class="headerlink" title="æœ€åå°±æ˜¯tableç»„ä»¶çš„å°è£…äº†ï¼Œéœ€è¦å¼•å…¥åˆ†é¡µç»„ä»¶"></a>æœ€åå°±æ˜¯tableç»„ä»¶çš„å°è£…äº†ï¼Œéœ€è¦å¼•å…¥åˆ†é¡µç»„ä»¶</h4><ul><li>åœ¨componentsä¸‹æ–°å»ºæ–‡ä»¶å¤¹Table,é‡Œé¢å†å»ºindex.vueå’Œrender.tsï¼Œä»£ç å¦‚ä¸‹</li><li>render.tsä»£ç å¦‚ä¸‹</li></ul><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">props</span>: &#123;</span><br><span class="line">    <span class="attr">row</span>: <span class="title class_">Object</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="title class_">Function</span>,</span><br><span class="line">    <span class="attr">index</span>: <span class="title class_">Number</span>,</span><br><span class="line">    <span class="attr">column</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="title class_">Object</span>,</span><br><span class="line">      <span class="attr">default</span>: <span class="literal">null</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">setup</span>: <span class="keyword">function</span> (<span class="params">props: <span class="built_in">any</span>, context: <span class="built_in">any</span></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span></span><br><span class="line">      props.<span class="title function_">render</span>(&#123;</span><br><span class="line">        ...props,</span><br><span class="line">        ...context.<span class="property">attrs</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>index.vueä»£ç å¦‚ä¸‹</li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;el-table</span><br><span class="line">      v-loading=&quot;loading&quot;</span><br><span class="line">      :border=&quot;true&quot;</span><br><span class="line">      v-bind=&quot;setAttrs(tableAttr)&quot;</span><br><span class="line">      :data=&quot;tableData&quot;</span><br><span class="line">      stripe</span><br><span class="line">      @selection-change=&quot;selectionChange&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;!-- :height=&quot;state.height&quot; --&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">        v-if=&quot;selectVisible&quot;</span><br><span class="line">        align=&quot;left&quot;</span><br><span class="line">        :selectable=&quot;selectable&quot;</span><br><span class="line">        type=&quot;selection&quot;</span><br><span class="line">        width=&quot;45&quot;</span><br><span class="line">      /&gt;</span><br><span class="line">      &lt;template v-for=&quot;(column, index) in columns&quot; :key=&quot;index&quot;&gt;</span><br><span class="line">        &lt;el-table-column</span><br><span class="line">          v-if=&quot;column.render&quot;</span><br><span class="line">          v-bind=&quot;setAttrs(column)&quot;</span><br><span class="line">          show-overflow-tooltip</span><br><span class="line">        &gt;</span><br><span class="line">          &lt;template #default=&quot;scope&quot;&gt;</span><br><span class="line">            &lt;Render</span><br><span class="line">              :column=&quot;column&quot;</span><br><span class="line">              :index=&quot;scope.$index&quot;</span><br><span class="line">              :render=&quot;column.render&quot;</span><br><span class="line">              :row=&quot;scope.row&quot;</span><br><span class="line">              v-bind=&quot;$attrs&quot;</span><br><span class="line">            /&gt;</span><br><span class="line">          &lt;/template&gt;</span><br><span class="line">        &lt;/el-table-column&gt;</span><br><span class="line">        &lt;el-table-column</span><br><span class="line">          v-else-if=&quot;column.type === &#x27;index&#x27;&quot;</span><br><span class="line">          type=&quot;index&quot;</span><br><span class="line">          v-bind=&quot;setAttrs(column)&quot;</span><br><span class="line">          width=&quot;70&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;el-table-column</span><br><span class="line">          v-else</span><br><span class="line">          :key=&quot;column.prop&quot;</span><br><span class="line">          show-overflow-tooltip</span><br><span class="line">          v-bind=&quot;setAttrs(column)&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/el-table&gt;</span><br><span class="line">    &lt;!-- åˆ†é¡µ --&gt;</span><br><span class="line">    &lt;Pagination</span><br><span class="line">      v-if=&quot;!hidden&quot;</span><br><span class="line">      v-model:limit=&quot;pageOpt.pageSize&quot;</span><br><span class="line">      v-model:page=&quot;pageOpt.pageNum&quot;</span><br><span class="line">      :page-sizes=&quot;pageSizes&quot;</span><br><span class="line">      :total=&quot;total&quot;</span><br><span class="line">      @pagination=&quot;pagination&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import Render from &#x27;./render&#x27;</span><br><span class="line">  import &#123; resetParams &#125; from &#x27;@/utils&#x27;</span><br><span class="line">  import request from &#x27;@/utils/request&#x27;</span><br><span class="line">  import Pagination from &#x27;@/plugins/Pagination/index.vue&#x27;</span><br><span class="line">  export default defineComponent(&#123;</span><br><span class="line">    name: &#x27;SrmTable&#x27;,</span><br><span class="line">    components: &#123; Render, Pagination &#125;,</span><br><span class="line">    props: &#123;</span><br><span class="line">      url: &#123;</span><br><span class="line">        type: String,</span><br><span class="line">        default: &#x27;&#x27;,</span><br><span class="line">      &#125;,</span><br><span class="line">      // ç­›é€‰æ¡ä»¶</span><br><span class="line">      params: &#123;</span><br><span class="line">        type: Object,</span><br><span class="line">        default: () =&gt; (&#123;&#125;),</span><br><span class="line">      &#125;,</span><br><span class="line">      // åˆ†é¡µæŸ¥è¯¢æ•°æ®</span><br><span class="line">      pageRequest: &#123;</span><br><span class="line">        type: Object,</span><br><span class="line">        default: () =&gt; (&#123;</span><br><span class="line">          pageNum: 1,</span><br><span class="line">          pageSize: 20,</span><br><span class="line">        &#125;),</span><br><span class="line">      &#125;,</span><br><span class="line">      // å¤–éƒ¨ä¼ å…¥çš„tableæ•°æ®æº ä¸èµ°ç»„ä»¶å†…æ¥å£</span><br><span class="line">      sourceData: &#123;</span><br><span class="line">        type: Array,</span><br><span class="line">        default: () =&gt; [],</span><br><span class="line">      &#125;,</span><br><span class="line">      contentType: &#123;</span><br><span class="line">        type: String,</span><br><span class="line">        default: &#x27;application/json&#x27;,</span><br><span class="line">      &#125;,</span><br><span class="line">      isLoad: &#123;</span><br><span class="line">        type: Boolean,</span><br><span class="line">        default: true,</span><br><span class="line">      &#125;,</span><br><span class="line">      columns: &#123;</span><br><span class="line">        type: Array,</span><br><span class="line">        default: () =&gt; [],</span><br><span class="line">      &#125;,</span><br><span class="line">      // æ¯é¡µæ¡æ•°é€‰æ‹©å™¨</span><br><span class="line">      pageSizes: &#123;</span><br><span class="line">        type: Array,</span><br><span class="line">        default: () =&gt; [10, 20, 50, 100],</span><br><span class="line">      &#125;,</span><br><span class="line">      // æ§åˆ¶åˆ†é¡µç»„ä»¶çš„æ˜¾ç¤ºéšè—</span><br><span class="line">      hidden: &#123;</span><br><span class="line">        type: Boolean,</span><br><span class="line">        default: false,</span><br><span class="line">      &#125;,</span><br><span class="line">      // tableç»„ä»¶çš„å±æ€§è®¾ç½®</span><br><span class="line">      tableAttr: &#123;</span><br><span class="line">        type: Object,</span><br><span class="line">        default: () =&gt; (&#123;</span><br><span class="line">          border: true,</span><br><span class="line">        &#125;),</span><br><span class="line">      &#125;,</span><br><span class="line">      // æ˜¯å¦å¯é€‰æ‹©è¡Œ</span><br><span class="line">      selectVisible: &#123;</span><br><span class="line">        type: Boolean,</span><br><span class="line">        default: false,</span><br><span class="line">      &#125;,</span><br><span class="line">      selectable: &#123;</span><br><span class="line">        type: Function,</span><br><span class="line">        default: () =&gt; &#123;&#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    emits: [</span><br><span class="line">      &#x27;getTotal&#x27;,</span><br><span class="line">      &#x27;update:params&#x27;,</span><br><span class="line">      &#x27;update:pageRequest&#x27;,</span><br><span class="line">      &#x27;pagination&#x27;,</span><br><span class="line">      &#x27;selectionChange&#x27;,</span><br><span class="line">    ],</span><br><span class="line"></span><br><span class="line">    setup(props, &#123; emit &#125;) &#123;</span><br><span class="line">      const $baseTableHeight = inject(&#x27;$baseTableHeight&#x27;)</span><br><span class="line"></span><br><span class="line">      const state = reactive(&#123;</span><br><span class="line">        height: $baseTableHeight() - 30,</span><br><span class="line">        loading: false,</span><br><span class="line">        downloadLoading: false,</span><br><span class="line">        selections: [], // å½“å‰é€‰æ‹©é¡¹çš„é›†åˆ</span><br><span class="line">        tableData: [],</span><br><span class="line">        total: 0,</span><br><span class="line">        pageOpt: props.pageRequest,</span><br><span class="line">        selfLoading: true,</span><br><span class="line">      &#125;)</span><br><span class="line">      // åˆ¤æ–­æ˜¯å¦æœ‰å¤–éƒ¨æ•°æ®æºä¼ å…¥</span><br><span class="line">      const isExternal = computed(() =&gt; &#123;</span><br><span class="line">        const &#123; sourceData = [] &#125; = props</span><br><span class="line">        return sourceData.length</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      onMounted(() =&gt; &#123;</span><br><span class="line">        if (!isExternal.value &amp;&amp; props.isLoad) &#123;</span><br><span class="line">          initTable()</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      // cåˆå§‹åŒ–æ•°æ®</span><br><span class="line">      const initTable = async () =&gt; &#123;</span><br><span class="line">        state.loading = true</span><br><span class="line">        const realParams = resetParams(props.params)</span><br><span class="line">        const reqOpt = props.url.split(&#x27;|&#x27;)</span><br><span class="line">        const [method, url] = reqOpt[1] ? reqOpt : [&#x27;post&#x27;, reqOpt[0]]</span><br><span class="line">        const reqKey = reqOpt[2]</span><br><span class="line">          ? reqOpt[2]</span><br><span class="line">          : method.toLowerCase() === &#x27;post&#x27;</span><br><span class="line">          ? &#x27;data&#x27;</span><br><span class="line">          : &#x27;params&#x27;</span><br><span class="line">        try &#123;</span><br><span class="line">          const &#123; data &#125; = await request(&#123;</span><br><span class="line">            url,</span><br><span class="line">            method,</span><br><span class="line">            [reqKey]: &#123;</span><br><span class="line">              ...state.pageOpt,</span><br><span class="line">              ...realParams,</span><br><span class="line">            &#125;,</span><br><span class="line">            headers: &#123;</span><br><span class="line">              &#x27;Content-Type&#x27;: props.contentType,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;)</span><br><span class="line">          setTimeout(() =&gt; &#123;</span><br><span class="line">            state.loading = false</span><br><span class="line">            state.tableData = data.records || data.list</span><br><span class="line">            state.total = data.total</span><br><span class="line">            emit(&#x27;getTotal&#x27;, state.total)</span><br><span class="line">          &#125;, 500)</span><br><span class="line">        &#125; catch (e) &#123;</span><br><span class="line">          state.loading = false</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      // åˆ†é¡µ</span><br><span class="line">      const pagination = (ev) =&gt; &#123;</span><br><span class="line">        const &#123; page, limit &#125; = ev</span><br><span class="line">        state.pageOpt.pageNum = page</span><br><span class="line">        state.pageOpt.pageSize = limit</span><br><span class="line">        // æœ‰å¤–éƒ¨æ•°æ®æºæ³¨å…¥æ—¶ä¸èµ°å†…éƒ¨åˆ†é¡µ</span><br><span class="line">        if (isExternal.value) &#123;</span><br><span class="line">          emit(&#x27;update:pageRequest&#x27;, state.pageOpt)</span><br><span class="line">          emit(&#x27;pagination&#x27;, ev)</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          initTable()</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      const selectionChange = (selections) =&gt; &#123;</span><br><span class="line">        emit(&#x27;selectionChange&#x27;, selections)</span><br><span class="line">      &#125;</span><br><span class="line">      // ç»™å…ƒç´ è®¾ç½®å±æ€§</span><br><span class="line">      const setAttrs = (params) =&gt; &#123;</span><br><span class="line">        const &#123; ...options &#125; = params</span><br><span class="line">        if (!options.align) &#123;</span><br><span class="line">          options.align = &#x27;left&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">        return &#123; ...options &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      watchEffect(() =&gt; &#123;</span><br><span class="line">        if (props.sourceData.length) &#123;</span><br><span class="line">          state.tableData = props.sourceData</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      watch(</span><br><span class="line">        () =&gt; props.params,</span><br><span class="line">        (params) =&gt; &#123;</span><br><span class="line">          const &#123; request &#125; = params</span><br><span class="line">          if (request) &#123;</span><br><span class="line">            state.pageOpt.pageNum = 1</span><br><span class="line">            initTable()</span><br><span class="line">          &#125;</span><br><span class="line">          params[&#x27;request&#x27;] = false</span><br><span class="line">          emit(&#x27;update:params&#x27;, params)</span><br><span class="line">        &#125;</span><br><span class="line">      )</span><br><span class="line">      return &#123;</span><br><span class="line">        ...toRefs(state),</span><br><span class="line">        isExternal,</span><br><span class="line">        pagination,</span><br><span class="line">        selectionChange,</span><br><span class="line">        setAttrs,</span><br><span class="line">        initTable,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;scss&quot;&gt;</span><br><span class="line">  .el-popper &#123;</span><br><span class="line">    max-width: 50%;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h4 id="æœ€åè¯´ä¸‹æ€ä¹ˆä½¿ç”¨ï¼Œä¸¾ä¾‹ï¼š"><a href="#æœ€åè¯´ä¸‹æ€ä¹ˆä½¿ç”¨ï¼Œä¸¾ä¾‹ï¼š" class="headerlink" title="æœ€åè¯´ä¸‹æ€ä¹ˆä½¿ç”¨ï¼Œä¸¾ä¾‹ï¼š"></a>æœ€åè¯´ä¸‹æ€ä¹ˆä½¿ç”¨ï¼Œä¸¾ä¾‹ï¼š</h4><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230330134632530.png" alt="image-20230330134632530" style="zoom:50%;" /></p><ul><li>index.vueç»„ä»¶å†™æ³•å¦‚ä¸‹ï¼š</li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;form-cpn v-model:search-params=&quot;tableParams&quot; :items=&quot;formConfig&quot; /&gt;</span><br><span class="line">&lt;srm-table</span><br><span class="line">  ref=&quot;tableRef&quot;</span><br><span class="line">  :columns=&quot;contentTableConfig&quot;</span><br><span class="line">  :handel-delete=&quot;handelDelete&quot;</span><br><span class="line">  :handle-edit=&quot;handleEdit&quot;</span><br><span class="line">  :params=&quot;tableParams&quot;</span><br><span class="line">  url=&quot;post|/user/page&quot;</span><br><span class="line">/&gt;</span><br><span class="line">import contentTableConfig from &#x27;./config/content.config&#x27;</span><br><span class="line">import formConfig from &#x27;./config/form.config&#x27;</span><br></pre></td></tr></table></figure><ul><li>content.config.jsä»£ç å¦‚ä¸‹ï¼š</li></ul><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ElLink</span>, <span class="title class_">ElDivider</span>, <span class="title class_">ElTag</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">label</span>: <span class="string">&#x27;ç¼–å·&#x27;</span>,</span><br><span class="line">    <span class="attr">width</span>: <span class="number">80</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;index&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123; <span class="attr">label</span>: <span class="string">&#x27;å‘˜å·¥å§“å&#x27;</span>, <span class="attr">prop</span>: <span class="string">&#x27;staffName&#x27;</span> &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">label</span>: <span class="string">&#x27;è§’è‰²&#x27;</span>,</span><br><span class="line">    <span class="title function_">render</span>(<span class="params">props</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; roleVOList &#125; = props.<span class="property">row</span></span><br><span class="line">      <span class="keyword">return</span> [</span><br><span class="line">        roleVOList.<span class="title function_">map</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">ElTag</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span>&gt;</span>&#123;item.name&#125;<span class="tag">&lt;/<span class="name">ElTag</span>&gt;</span></span></span><br><span class="line">        &#125;),</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123; <span class="attr">label</span>: <span class="string">&#x27;æ‰‹æœºå·&#x27;</span>, <span class="attr">prop</span>: <span class="string">&#x27;phone&#x27;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">label</span>: <span class="string">&#x27;é‚®ç®±&#x27;</span>, <span class="attr">prop</span>: <span class="string">&#x27;email&#x27;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">label</span>: <span class="string">&#x27;åˆ›å»ºæ—¶é—´&#x27;</span>, <span class="attr">prop</span>: <span class="string">&#x27;createTime&#x27;</span> &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">label</span>: <span class="string">&#x27;çŠ¶æ€&#x27;</span>,</span><br><span class="line">    <span class="attr">width</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="attr">align</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">    <span class="title function_">render</span>(<span class="params">props</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; row &#125; = props</span><br><span class="line">      <span class="keyword">return</span> [</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">ElTag</span> <span class="attr">effect</span>=<span class="string">&quot;dark&quot;</span> <span class="attr">type</span>=<span class="string">&#123;[</span>&#x27;<span class="attr">success</span>&#x27;, &#x27;<span class="attr">warning</span>&#x27;][<span class="attr">row.state</span>]&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">          &#123;[&#x27;å¯ç”¨&#x27;, &#x27;åœç”¨&#x27;][row.state]&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">ElTag</span>&gt;</span></span>,</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">label</span>: <span class="string">&#x27;æ“ä½œ&#x27;</span>,</span><br><span class="line">    <span class="attr">align</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">    <span class="title function_">render</span>(<span class="params">props</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; row &#125; = props</span><br><span class="line">      <span class="keyword">return</span> [</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">ElLink</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> props[&#x27;handle-edit&#x27;](row)&#125;&gt;</span></span><br><span class="line"><span class="language-xml">          ç¼–è¾‘</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">ElLink</span>&gt;</span></span>,</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">ElDivider</span> <span class="attr">direction</span>=<span class="string">&quot;vertical&quot;</span> /&gt;</span></span>,</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">ElLink</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> props[&#x27;handel-delete&#x27;](row)&#125;&gt;</span></span><br><span class="line"><span class="language-xml">          åˆ é™¤</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">ElLink</span>&gt;</span></span>,</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><ul><li>form.config.jsä»£ç å¦‚ä¸‹ï¼š</li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> [</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">&#x27;å§“å&#x27;</span>, <span class="attr">key</span>: <span class="string">&#x27;userName&#x27;</span>, <span class="attr">clearable</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">&#x27;æ‰‹æœºå·&#x27;</span>, <span class="attr">key</span>: <span class="string">&#x27;mobile&#x27;</span>, <span class="attr">clearable</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;åˆ›å»ºæ—¶é—´&#x27;</span>,</span><br><span class="line">    <span class="attr">key</span>: <span class="string">&#x27;picker:beginTime,endTime&#x27;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;date-picker&#x27;</span>,</span><br><span class="line">    <span class="attr">span</span>: <span class="number">6</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><blockquote><p>ä»¥ä¸Šå°±æ˜¯ä¸€å¥—ç®€å•çš„å°è£…ï¼Œå¦‚æœ‰ä¸è¶³ï¼Œå¯ä»¥æå‡ºé—®é¢˜ï¼Œæ¬¢è¿å¤§å®¶è¡¥å……</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> vue3 </tag>
            
            <tag> element </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue3å°è£…echartsï¼ˆå‡çº§ç‰ˆï¼‰</title>
      <link href="/posts/9983.html"/>
      <url>/posts/9983.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>é¡¹ç›®ä¸­ç»å¸¸ç”¨åˆ°echartsï¼Œä¸åšå°è£…ç›´æ¥æ‹¿æ¥ä½¿ç”¨ä¹Ÿè¡Œï¼Œä½†ä¸å¯é¿å…è¦å†™å¾ˆå¤šé‡å¤çš„é…ç½®ä»£ç ï¼Œå°è£…ç¨ä¸æ³¨æ„åˆä¼šè¿‡åº¦å°è£…ï¼Œä¸¢å¤±äº†æ‰©å±•æ€§å’Œå¯è¯»æ€§ã€‚å§‹ç»ˆæ²¡æœ‰æ‰¾åˆ°ä¸€ä¸ªå¥½çš„å®è·µï¼Œå¶ç„¶çœ‹åˆ°ä¸€ç¯‡æ–‡ç« ï¼Œç»™äº†çµæ„Ÿã€‚æ‰¾åˆ°äº†ä¸€ä¸ªç›®å‰è®¤ä¸ºç”¨èµ·æ¥å¾ˆèˆ’æœçš„å°è£…ã€‚</p></blockquote><h1 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h1><ol><li>ç»“åˆé¡¹ç›®éœ€æ±‚ï¼Œé’ˆå¯¹ä¸åŒç±»å‹çš„å›¾è¡¨ï¼Œé…ç½®åŸºç¡€çš„é»˜è®¤é€šç”¨é…ç½®ï¼Œä¾‹å¦‚x/yï¼Œlabelï¼Œå›¾ä¾‹ç­‰çš„æ ·å¼</li><li>åˆ›å»ºå›¾è¡¨ç»„ä»¶å®ä¾‹ï¼ˆä¸è¦ä½¿ç”¨<code>id</code>,å®¹æ˜“é‡å¤ï¼Œè¿˜éœ€è¦æ“ä½œ<code>dom</code>ï¼Œç›´æ¥ç”¨<code>ref</code>è·å–å½“å‰ç»„ä»¶çš„<code>el</code>æ¥åˆ›å»ºå›¾è¡¨ï¼‰ï¼Œæä¾›<code>type</code>(å›¾è¡¨ç±»å‹)ï¼Œå’Œ<code>options</code>(å›¾è¡¨é…ç½®)ä¸¤ä¸ªå¿…è¦å±æ€§</li><li>æ ¹æ®ä¼ å…¥<code>type</code>ï¼ŒåŠ è½½é»˜è®¤çš„å›¾è¡¨é…ç½®</li><li>æ·±åº¦ç›‘å¬ä¼ å…¥çš„<code>options</code>ï¼Œå˜åŒ–æ—¶æ›´æ–°è¦†ç›–é»˜è®¤é…ç½®ï¼Œæ›´æ–°å›¾è¡¨</li><li><strong>æä¾›äº‹ä»¶æ”¯æŒï¼Œæ”¯æŒ<code>echart</code>äº‹ä»¶æŒ‰éœ€ç»‘å®šäº¤äº’</strong></li></ol><blockquote><p>æ³¨æ„è¦ç¡®ä¿æ‰€æœ‰ä¼ å…¥å›¾è¡¨ç»„ä»¶çš„optionsæ•°ç»„éƒ½æ˜¯<a href="https://cn.vuejs.org/api/reactivity-advanced.html#shallowreactive">shallowReactive</a>ç±»å‹ï¼Œé¿å…æ•°ç»„é‡è¿‡å¤§ï¼Œæ·±åº¦å“åº”å¼å¯¼è‡´æ€§èƒ½é—®é¢˜</p></blockquote><h2 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">â”œâ”€v-charts</span><br><span class="line">â”‚  â”‚  index.ts     <span class="comment">// å¯¼å‡ºç±»å‹å®šä¹‰ä»¥åŠå›¾è¡¨ç»„ä»¶æ–¹ä¾¿ä½¿ç”¨</span></span><br><span class="line">â”‚  â”‚  <span class="keyword">type</span>.d.ts    <span class="comment">// å„ç§å›¾è¡¨çš„ç±»å‹å®šä¹‰</span></span><br><span class="line">â”‚  â”‚  useCharts.ts <span class="comment">// å›¾è¡¨hooks</span></span><br><span class="line">â”‚  â”‚  v-charts.vue <span class="comment">// echartså›¾è¡¨ç»„ä»¶</span></span><br><span class="line">â”‚  â”‚</span><br><span class="line">â”‚  â””â”€options <span class="comment">// å›¾è¡¨é…ç½®æ–‡ä»¶</span></span><br><span class="line">â”‚          bar.ts</span><br><span class="line">â”‚          gauge.ts</span><br><span class="line">â”‚          pie.ts</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/202303301114540.png" alt="ç›®å½•ç»“æ„"></p><hr><h1 id="ç»„ä»¶ä»£ç "><a href="#ç»„ä»¶ä»£ç " class="headerlink" title="ç»„ä»¶ä»£ç "></a>ç»„ä»¶ä»£ç </h1><h2 id="v-charts-vue"><a href="#v-charts-vue" class="headerlink" title="v-charts.vue"></a>v-charts.vue</h2><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;v-charts&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;chartRef&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%; height: 100%&quot;</span> /&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script lang=&quot;ts&quot; setup&gt;</span><br><span class="line">import &#123; onMounted, PropType, shallowRef, toRefs, watch &#125; from &quot;vue&quot;;</span><br><span class="line">import * as echarts from &quot;echarts/core&quot;;</span><br><span class="line">import &#123; ChartsEvents, ChartType, useCharts &#125; from &quot;./useCharts&quot;;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * echartsäº‹ä»¶ç±»å‹</span><br><span class="line"> * æˆªè‡³ç›®å‰ï¼Œvue3ç±»å‹å£°æ˜å‚æ•°å¿…é¡»æ˜¯ä»¥ä¸‹å†…å®¹ä¹‹ä¸€ï¼Œæš‚ä¸æ”¯æŒå¤–éƒ¨å¼•å…¥ç±»å‹å‚æ•°</span><br><span class="line"> * 1. ç±»å‹å­—é¢é‡</span><br><span class="line"> * 2. åœ¨åŒä¸€æ–‡ä»¶ä¸­çš„æ¥å£æˆ–ç±»å‹å­—é¢é‡çš„å¼•ç”¨</span><br><span class="line"> * // æ–‡æ¡£ä¸­æœ‰è¯´æ˜ï¼šhttps://cn.vuejs.org/api/sfc-script-setup.html#typescript-only-features</span><br><span class="line"> */</span><br><span class="line">interface EventEmitsType &#123;</span><br><span class="line">  &lt;T extends ChartsEvents.EventType&gt;(</span><br><span class="line">    e: `$&#123;T&#125;`,</span><br><span class="line">    event: ChartsEvents.Events[Uncapitalize&lt;T&gt;]</span><br><span class="line">  ): void;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">defineOptions(&#123;</span><br><span class="line">  name: &quot;VCharts&quot;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// å®šä¹‰propsï¼Œæä¾›tsæ”¯æŒ</span><br><span class="line">const props = defineProps(&#123;</span><br><span class="line">  // å®šä¹‰Echartsç±»å‹</span><br><span class="line">  type: &#123;</span><br><span class="line">    type: String as PropType&lt;ChartType&gt;,</span><br><span class="line">    default: &quot;bar&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  // å®šä¹‰Echartsé…ç½®é¡¹</span><br><span class="line">  options: &#123;</span><br><span class="line">    type: Object as PropType&lt;echarts.EChartsCoreOption&gt;,</span><br><span class="line">    default: () =&gt; (&#123;&#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// å®šä¹‰äº‹ä»¶ï¼Œæä¾›tsæ”¯æŒ</span><br><span class="line">defineEmits&lt;EventEmitsType&gt;();</span><br><span class="line"></span><br><span class="line">// https://cn.vuejs.org/api/reactivity-utilities.html#toref</span><br><span class="line">const &#123; type, options &#125; = toRefs(props);</span><br><span class="line">// https://cn.vuejs.org/api/reactivity-advanced.html#shallowref</span><br><span class="line">const chartRef = shallowRef();</span><br><span class="line"></span><br><span class="line">const &#123; charts, setOptions, initChart &#125; = useCharts(&#123; type, el: chartRef &#125;);</span><br><span class="line"></span><br><span class="line">onMounted(async () =&gt; &#123;</span><br><span class="line">  // åˆå§‹åŒ–å›¾è¡¨</span><br><span class="line">  await initChart();</span><br><span class="line">  // è®¾ç½®å›¾è¡¨é…ç½®é¡¹</span><br><span class="line">  setOptions(options.value);</span><br><span class="line">&#125;);</span><br><span class="line">// ç›‘å¬optionså˜åŒ–ï¼Œæ›´æ–°å›¾è¡¨</span><br><span class="line">watch(</span><br><span class="line">  options,</span><br><span class="line">  () =&gt; &#123;</span><br><span class="line">    setOptions(options.value);</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    deep: true</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">// å¯ä»¥é€šè¿‡ defineExpose ç¼–è¯‘å™¨å®æ¥æ˜¾å¼æŒ‡å®šåœ¨ &lt;script setup&gt; ç»„ä»¶ä¸­è¦æš´éœ²å‡ºå»çš„å±æ€§</span><br><span class="line">defineExpose(&#123;</span><br><span class="line">  $charts: charts</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.v-charts &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 100%;</span><br><span class="line">  min-height: 200px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="useCharts-ts"><a href="#useCharts-ts" class="headerlink" title="useCharts.ts"></a>useCharts.ts</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å›¾è¡¨hooks</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ChartType</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./type&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> echarts <span class="keyword">from</span> <span class="string">&quot;echarts/core&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  <span class="title class_">ShallowRef</span>,</span><br><span class="line">  <span class="title class_">Ref</span>,</span><br><span class="line">  onBeforeUnmount,</span><br><span class="line">  shallowRef,</span><br><span class="line">  shallowReactive,</span><br><span class="line">  useAttrs</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  <span class="title class_">TitleComponent</span>,</span><br><span class="line">  <span class="title class_">LegendComponent</span>,</span><br><span class="line">  <span class="title class_">TooltipComponent</span>,</span><br><span class="line">  <span class="title class_">GridComponent</span>,</span><br><span class="line">  <span class="title class_">DatasetComponent</span>,</span><br><span class="line">  <span class="title class_">TransformComponent</span></span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&quot;echarts/components&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥å›¾è¡¨ç±»å‹</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BarChart</span>, <span class="title class_">LineChart</span>, <span class="title class_">PieChart</span>, <span class="title class_">GaugeChart</span> &#125; <span class="keyword">from</span> <span class="string">&quot;echarts/charts&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥å›¾è¡¨æ¸²æŸ“å™¨</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">LabelLayout</span>, <span class="title class_">UniversalTransition</span> &#125; <span class="keyword">from</span> <span class="string">&quot;echarts/features&quot;</span>;</span><br><span class="line"><span class="comment">// å¼•å…¥canvasæ¸²æŸ“å™¨</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">CanvasRenderer</span> &#125; <span class="keyword">from</span> <span class="string">&quot;echarts/renderers&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> optionsModules = <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">glob</span>&lt;&#123; <span class="attr">default</span>: echarts.<span class="property">EChartsCoreOption</span> &#125;&gt;(</span><br><span class="line">  <span class="string">&quot;./options/**.ts&quot;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">interface <span class="title class_">ChartHookOption</span> &#123;</span><br><span class="line">  type?: <span class="title class_">Ref</span>&lt;<span class="title class_">ChartType</span>&gt;;</span><br><span class="line">  <span class="attr">el</span>: <span class="title class_">ShallowRef</span>&lt;<span class="title class_">HTMLElement</span>&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  è§†å£å˜åŒ–æ—¶echartå›¾è¡¨è‡ªé€‚åº”è°ƒæ•´</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ChartsResize</span> &#123;</span><br><span class="line">  #charts = <span class="keyword">new</span> <span class="title class_">Set</span>&lt;echarts.<span class="property">ECharts</span>&gt;(); <span class="comment">// ç¼“å­˜å·²ç»åˆ›å»ºçš„å›¾è¡¨å®ä¾‹</span></span><br><span class="line">  #timeId = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>, <span class="variable language_">this</span>.<span class="property">handleResize</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>)); <span class="comment">// è§†å£å˜åŒ–æ—¶è°ƒæ•´å›¾è¡¨</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">getCharts</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [...<span class="variable language_">this</span>.#charts];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">handleResize</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">clearTimeout</span>(<span class="variable language_">this</span>.#timeId);</span><br><span class="line">    <span class="variable language_">this</span>.#timeId = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.#charts.<span class="title function_">forEach</span>(<span class="function"><span class="params">chart</span> =&gt;</span> &#123;</span><br><span class="line">        chart.<span class="title function_">resize</span>();</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;, <span class="number">500</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">add</span>(<span class="params">chart: echarts.ECharts</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.#charts.<span class="title function_">add</span>(chart);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">remove</span>(<span class="params">chart: echarts.ECharts</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.#charts.<span class="title function_">delete</span>(chart);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">removeListener</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">removeEventListener</span>(<span class="string">&quot;resize&quot;</span>, <span class="variable language_">this</span>.<span class="property">handleResize</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå®ä¾‹</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> chartsResize = <span class="keyword">new</span> <span class="title class_">ChartsResize</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// å›¾è¡¨hooks</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">useCharts</span> = (<span class="params">&#123; type, el &#125;: ChartHookOption</span>) =&gt; &#123;</span><br><span class="line">  echarts.<span class="title function_">use</span>([</span><br><span class="line">    <span class="title class_">BarChart</span>,</span><br><span class="line">    <span class="title class_">LineChart</span>,</span><br><span class="line">    <span class="title class_">BarChart</span>,</span><br><span class="line">    <span class="title class_">PieChart</span>,</span><br><span class="line">    <span class="title class_">GaugeChart</span>,</span><br><span class="line">    <span class="title class_">TitleComponent</span>,</span><br><span class="line">    <span class="title class_">LegendComponent</span>,</span><br><span class="line">    <span class="title class_">TooltipComponent</span>,</span><br><span class="line">    <span class="title class_">GridComponent</span>,</span><br><span class="line">    <span class="title class_">DatasetComponent</span>,</span><br><span class="line">    <span class="title class_">TransformComponent</span>,</span><br><span class="line">    <span class="title class_">LabelLayout</span>,</span><br><span class="line">    <span class="title class_">UniversalTransition</span>,</span><br><span class="line">    <span class="title class_">CanvasRenderer</span></span><br><span class="line">  ]);</span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–å®Œæˆæ ‡è¯†</span></span><br><span class="line">  <span class="keyword">let</span> initComplete = <span class="literal">false</span>;</span><br><span class="line">  <span class="comment">// å›¾è¡¨å®ä¾‹</span></span><br><span class="line">  <span class="keyword">const</span> charts = shallowRef&lt;echarts.<span class="property">ECharts</span>&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å›¾è¡¨é…ç½®</span></span><br><span class="line">  <span class="keyword">let</span> options!: echarts.<span class="property">EChartsCoreOption</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è·å–å›¾è¡¨é…ç½®</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">getOptions</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> moduleKey = <span class="string">`./options/<span class="subst">$&#123;type.value&#125;</span>.ts`</span>;</span><br><span class="line">    <span class="keyword">const</span> &#123; <span class="attr">default</span>: defaultOption &#125; = <span class="keyword">await</span> optionsModules[moduleKey]();</span><br><span class="line">    <span class="keyword">return</span> defaultOption;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è®¾ç½®å›¾è¡¨é…ç½®</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">setOptions</span> = (<span class="params">opt: echarts.EChartsCoreOption</span>) =&gt; &#123;</span><br><span class="line">    initComplete &amp;&amp; charts.<span class="property">value</span>.<span class="title function_">setOption</span>(opt);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–å›¾è¡¨</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">initChart</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    charts.<span class="property">value</span> = echarts.<span class="title function_">init</span>(el.<span class="property">value</span>);</span><br><span class="line">    options = <span class="keyword">await</span> <span class="title function_">getOptions</span>();</span><br><span class="line">    charts.<span class="property">value</span>.<span class="title function_">setOption</span>(options);</span><br><span class="line">    chartsResize.<span class="title function_">add</span>(charts.<span class="property">value</span>); <span class="comment">// å°†å›¾è¡¨å®ä¾‹æ·»åŠ åˆ°ç¼“å­˜ä¸­</span></span><br><span class="line">    <span class="title function_">initEvent</span>(); <span class="comment">// æ·»åŠ äº‹ä»¶æ”¯æŒ</span></span><br><span class="line">    initComplete = <span class="literal">true</span>;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * åˆå§‹åŒ–äº‹ä»¶</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">const</span> attrs = <span class="title function_">useAttrs</span>();</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">initEvent</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">keys</span>(attrs).<span class="title function_">forEach</span>(<span class="function"><span class="params">attrKey</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="regexp">/^on/</span>.<span class="title function_">test</span>(attrKey)) &#123;</span><br><span class="line">        <span class="keyword">const</span> cb = attrs[attrKey];</span><br><span class="line">        attrKey = attrKey.<span class="title function_">replace</span>(<span class="regexp">/^on(Chart)?/</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">        attrKey = <span class="string">`<span class="subst">$&#123;attrKey[<span class="number">0</span>]&#125;</span><span class="subst">$&#123;attrKey.substring(<span class="number">1</span>)&#125;</span>`</span>;</span><br><span class="line">        <span class="keyword">typeof</span> cb === <span class="string">&quot;function&quot;</span> &amp;&amp; charts.<span class="property">value</span>?.<span class="title function_">on</span>(attrKey, cb <span class="keyword">as</span> () =&gt; <span class="keyword">void</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">onBeforeUnmount</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    chartsResize.<span class="title function_">remove</span>(charts.<span class="property">value</span>); <span class="comment">// ç§»é™¤ç¼“å­˜</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    charts,</span><br><span class="line">    setOptions,</span><br><span class="line">    initChart,</span><br><span class="line">    initEvent</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> chartsOptions = &lt;T <span class="keyword">extends</span> echarts.<span class="property">EChartsCoreOption</span>&gt;<span class="function">(<span class="params">option: T</span>) =&gt;</span></span><br><span class="line">  shallowReactive&lt;T&gt;(option);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> * <span class="keyword">from</span> <span class="string">&quot;./type.d&quot;</span>;</span><br></pre></td></tr></table></figure><h2 id="type-d-ts"><a href="#type-d-ts" class="headerlink" title="type.d.ts"></a>type.d.ts</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Description:</span></span><br><span class="line"><span class="comment"> * @Version: 2.0</span></span><br><span class="line"><span class="comment"> * @Autor: GC</span></span><br><span class="line"><span class="comment"> * @Date: 2022-03-02 10:21:33</span></span><br><span class="line"><span class="comment"> * @LastEditors: GC</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2022-06-02 17:45:48</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// import * as echarts from &#x27;echarts/core&#x27;;</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> echarts <span class="keyword">from</span> <span class="string">&#x27;echarts&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">XAXisComponentOption</span>, <span class="title class_">YAXisComponentOption</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;echarts&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ECElementEvent</span>, <span class="title class_">SelectChangedPayload</span>, <span class="title class_">HighlightPayload</span>,  &#125; <span class="keyword">from</span> <span class="string">&#x27;echarts/types/src/util/types&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  <span class="title class_">TitleComponentOption</span>,</span><br><span class="line">  <span class="title class_">TooltipComponentOption</span>,</span><br><span class="line">  <span class="title class_">GridComponentOption</span>,</span><br><span class="line">  <span class="title class_">DatasetComponentOption</span>,</span><br><span class="line">  <span class="title class_">AriaComponentOption</span>,</span><br><span class="line">  <span class="title class_">AxisPointerComponentOption</span>,</span><br><span class="line">  <span class="title class_">LegendComponentOption</span>,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;echarts/components&#x27;</span>;<span class="comment">// ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  <span class="comment">// ç³»åˆ—ç±»å‹çš„å®šä¹‰åç¼€éƒ½ä¸º SeriesOption</span></span><br><span class="line">  <span class="title class_">BarSeriesOption</span>,</span><br><span class="line">  <span class="title class_">LineSeriesOption</span>,</span><br><span class="line">  <span class="title class_">PieSeriesOption</span>,</span><br><span class="line">  <span class="title class_">FunnelSeriesOption</span>,</span><br><span class="line">  <span class="title class_">GaugeSeriesOption</span></span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;echarts/charts&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Options</span> = <span class="title class_">LineECOption</span> | <span class="title class_">BarECOption</span> | <span class="title class_">PieECOption</span> | <span class="title class_">FunnelOption</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">BaseOptionType</span> = <span class="title class_">XAXisComponentOption</span> | <span class="title class_">YAXisComponentOption</span> | <span class="title class_">TitleComponentOption</span> | <span class="title class_">TooltipComponentOption</span> | <span class="title class_">LegendComponentOption</span> | <span class="title class_">GridComponentOption</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">BaseOption</span> = echarts.<span class="property">ComposeOption</span>&lt;<span class="title class_">BaseOptionType</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">LineECOption</span> = echarts.<span class="property">ComposeOption</span>&lt;<span class="title class_">LineSeriesOption</span> | <span class="title class_">BaseOptionType</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">BarECOption</span> = echarts.<span class="property">ComposeOption</span>&lt;<span class="title class_">BarSeriesOption</span> | <span class="title class_">BaseOptionType</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">PieECOption</span> = echarts.<span class="property">ComposeOption</span>&lt;<span class="title class_">PieSeriesOption</span> | <span class="title class_">BaseOptionType</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">FunnelOption</span> = echarts.<span class="property">ComposeOption</span>&lt;<span class="title class_">FunnelSeriesOption</span> | <span class="title class_">BaseOptionType</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">GaugeECOption</span> = echarts.<span class="property">ComposeOption</span>&lt;<span class="title class_">GaugeSeriesOption</span> | <span class="title class_">GridComponentOption</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">EChartsOption</span> = echarts.<span class="property">EChartsOption</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ChartType</span> = <span class="string">&#x27;bar&#x27;</span> | <span class="string">&#x27;line&#x27;</span> | <span class="string">&#x27;pie&#x27;</span> | <span class="string">&#x27;gauge&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// echartsäº‹ä»¶</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">ChartsEvents</span> &#123;</span><br><span class="line">  <span class="comment">// é¼ æ ‡äº‹ä»¶ç±»å‹</span></span><br><span class="line">  <span class="keyword">type</span> <span class="title class_">MouseEventType</span> = <span class="string">&#x27;click&#x27;</span> | <span class="string">&#x27;dblclick&#x27;</span> | <span class="string">&#x27;mousedown&#x27;</span> | <span class="string">&#x27;mousemove&#x27;</span> | <span class="string">&#x27;mouseup&#x27;</span> | <span class="string">&#x27;mouseover&#x27;</span> | <span class="string">&#x27;mouseout&#x27;</span> | <span class="string">&#x27;globalout&#x27;</span> | <span class="string">&#x27;contextmenu&#x27;</span> <span class="comment">// é¼ æ ‡äº‹ä»¶ç±»å‹</span></span><br><span class="line">  <span class="keyword">type</span> <span class="title class_">MouseEvents</span> = &#123;</span><br><span class="line">    [key <span class="keyword">in</span> <span class="title class_">Exclude</span>&lt;<span class="title class_">MouseEventType</span>,<span class="string">&#x27;globalout&#x27;</span>|<span class="string">&#x27;contextmenu&#x27;</span>&gt; <span class="keyword">as</span> <span class="string">`chart<span class="subst">$&#123;Capitalize&lt;key&gt;&#125;</span>`</span>] :<span class="title class_">ECElementEvent</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å…¶ä»–çš„äº‹ä»¶ç±»å‹æå‚æ•°</span></span><br><span class="line">  <span class="keyword">interface</span> <span class="title class_">Events</span> <span class="keyword">extends</span> <span class="title class_">MouseEvents</span> &#123;</span><br><span class="line">    <span class="attr">globalout</span>:<span class="title class_">ECElementEvent</span>,</span><br><span class="line">    <span class="attr">contextmenu</span>:<span class="title class_">ECElementEvent</span>,</span><br><span class="line">    <span class="attr">selectchanged</span>: <span class="title class_">SelectChangedPayload</span>;</span><br><span class="line">    <span class="attr">highlight</span>: <span class="title class_">HighlightPayload</span>;</span><br><span class="line">    <span class="attr">legendselected</span>: &#123; <span class="comment">// å›¾ä¾‹é€‰ä¸­åçš„äº‹ä»¶</span></span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;legendselected&#x27;</span>,</span><br><span class="line">      <span class="comment">// é€‰ä¸­çš„å›¾ä¾‹åç§°</span></span><br><span class="line">      <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">      <span class="comment">// æ‰€æœ‰å›¾ä¾‹çš„é€‰ä¸­çŠ¶æ€è¡¨</span></span><br><span class="line">      <span class="attr">selected</span>: &#123;</span><br><span class="line">        [<span class="attr">name</span>: <span class="built_in">string</span>]: <span class="built_in">boolean</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// ... å…¶ä»–ç±»å‹çš„äº‹ä»¶åœ¨è¿™é‡Œå®šä¹‰</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// echartsæ‰€æœ‰çš„äº‹ä»¶ç±»å‹</span></span><br><span class="line">  <span class="keyword">type</span> <span class="title class_">EventType</span> = keyof <span class="title class_">Events</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123;</span><br><span class="line">  <span class="title class_">BaseOption</span>,</span><br><span class="line">  <span class="title class_">ChartType</span>,</span><br><span class="line">  <span class="title class_">LineECOption</span>,</span><br><span class="line">  <span class="title class_">BarECOption</span>,</span><br><span class="line">  <span class="title class_">Options</span>,</span><br><span class="line">  <span class="title class_">PieECOption</span>,</span><br><span class="line">  <span class="title class_">FunnelOption</span>,</span><br><span class="line">  <span class="title class_">GaugeECOption</span>,</span><br><span class="line">  <span class="title class_">EChartsOption</span>,</span><br><span class="line">  <span class="title class_">ChartsEvents</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="options-bar-ts"><a href="#options-bar-ts" class="headerlink" title="options/bar.ts"></a>options/bar.ts</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BarECOption</span> &#125; <span class="keyword">from</span> <span class="string">&quot;../type&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">options</span>: <span class="title class_">BarECOption</span> = &#123;</span><br><span class="line">  <span class="attr">legend</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">tooltip</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">xAxis</span>: &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;category&quot;</span>,</span><br><span class="line">    <span class="attr">axisLine</span>: &#123;</span><br><span class="line">      <span class="attr">lineStyle</span>: &#123;</span><br><span class="line">        <span class="comment">// type: &quot;dashed&quot;,</span></span><br><span class="line">        <span class="attr">color</span>: <span class="string">&quot;#C8D0D7&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">axisTick</span>: &#123;</span><br><span class="line">      <span class="attr">show</span>: <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">axisLabel</span>: &#123;</span><br><span class="line">      <span class="attr">color</span>: <span class="string">&quot;#7D8292&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">yAxis</span>: &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;value&quot;</span>,</span><br><span class="line">    <span class="attr">alignTicks</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">splitLine</span>: &#123;</span><br><span class="line">      <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">lineStyle</span>: &#123;</span><br><span class="line">        <span class="attr">color</span>: <span class="string">&quot;#C8D0D7&quot;</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;dashed&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">axisLine</span>: &#123;</span><br><span class="line">      <span class="attr">lineStyle</span>: &#123;</span><br><span class="line">        <span class="attr">color</span>: <span class="string">&quot;#7D8292&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">grid</span>: &#123;</span><br><span class="line">    <span class="attr">left</span>: <span class="number">60</span>,</span><br><span class="line">    <span class="attr">bottom</span>: <span class="string">&quot;8%&quot;</span>,</span><br><span class="line">    <span class="attr">top</span>: <span class="string">&quot;20%&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">series</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="string">&quot;bar&quot;</span>,</span><br><span class="line">      <span class="attr">barWidth</span>: <span class="number">20</span>,</span><br><span class="line">      <span class="attr">itemStyle</span>: &#123;</span><br><span class="line">        <span class="attr">color</span>: &#123;</span><br><span class="line">          <span class="attr">type</span>: <span class="string">&quot;linear&quot;</span>,</span><br><span class="line">          <span class="attr">x</span>: <span class="number">0</span>,</span><br><span class="line">          <span class="attr">x2</span>: <span class="number">0</span>,</span><br><span class="line">          <span class="attr">y</span>: <span class="number">0</span>,</span><br><span class="line">          <span class="attr">y2</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="attr">colorStops</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">              <span class="attr">offset</span>: <span class="number">0</span>,</span><br><span class="line">              <span class="attr">color</span>: <span class="string">&quot;#62A5FF&quot;</span> <span class="comment">// 0% å¤„çš„é¢œè‰²</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              <span class="attr">offset</span>: <span class="number">1</span>,</span><br><span class="line">              <span class="attr">color</span>: <span class="string">&quot;#3365FF&quot;</span> <span class="comment">// 100% å¤„çš„é¢œè‰²</span></span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// label: &#123;</span></span><br><span class="line">      <span class="comment">//   show: true,</span></span><br><span class="line">      <span class="comment">//   position: &quot;top&quot;</span></span><br><span class="line">      <span class="comment">// &#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> options;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="é¡¹ç›®ä¸­ä½¿ç”¨"><a href="#é¡¹ç›®ä¸­ä½¿ç”¨" class="headerlink" title="é¡¹ç›®ä¸­ä½¿ç”¨"></a>é¡¹ç›®ä¸­ä½¿ç”¨</h1><h2 id="index-vue"><a href="#index-vue" class="headerlink" title="index.vue"></a>index.vue</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;home&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;bottom&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;device-statistics chart-box&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>ç´¯è®¡è®¾å¤‡æ¥å…¥ç»Ÿè®¡<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">v-charts</span></span></span><br><span class="line"><span class="tag">          <span class="attr">type</span>=<span class="string">&quot;bar&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">:options</span>=<span class="string">&quot;statisDeviceByUserObjectOpts&quot;</span></span></span><br><span class="line"><span class="tag">          @<span class="attr">selectchanged</span>=<span class="string">&quot;selectchanged&quot;</span></span></span><br><span class="line"><span class="tag">          @<span class="attr">chart-click</span>=<span class="string">&quot;handleChartClick&quot;</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;coordinate-statistics chart-box&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>åæ ‡æ•°æ®æ¥å…¥ç»Ÿè®¡<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">v-charts</span> <span class="attr">type</span>=<span class="string">&quot;bar&quot;</span> <span class="attr">:options</span>=<span class="string">&quot;statisCoordAccess&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  useStatisDeviceByUserObject,</span></span><br><span class="line"><span class="language-javascript">&#125; <span class="keyword">from</span> <span class="string">&quot;./hooks&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// è®¾å¤‡åˆ†ç±»ç»Ÿè®¡</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> &#123; <span class="attr">options</span>: statisDeviceByUserObjectOpts,selectchanged,handleChartClick &#125; = <span class="title function_">useStatisDeviceByUserObject</span>();</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="hooks-useStatisDeviceByUserObject-ts"><a href="#hooks-useStatisDeviceByUserObject-ts" class="headerlink" title="/hooks/useStatisDeviceByUserObject.ts"></a>/hooks/useStatisDeviceByUserObject.ts</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">useStatisDeviceByUserObject</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// ä½¿ç”¨chartsOptionsç¡®ä¿æ‰€æœ‰ä¼ å…¥v-chartsç»„ä»¶çš„optionsæ•°æ®éƒ½æ˜¯## shallowReactiveæµ…å±‚ä½œç”¨å½¢å¼ï¼Œé¿å…å¤§é‡æ•°æ®å¯¼è‡´æ€§èƒ½é—®é¢˜</span></span><br><span class="line">  <span class="keyword">const</span> options = chartsOptions&lt;<span class="title class_">BarECOption</span>&gt;(&#123;</span><br><span class="line">    <span class="attr">yAxis</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">xAxis</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">series</span>: []</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">init</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> xData = [];</span><br><span class="line">    <span class="keyword">const</span> sData = [];</span><br><span class="line">    <span class="keyword">const</span> dicts = useHashMapDics&lt;[<span class="string">&quot;dev_user_object&quot;</span>]&gt;([<span class="string">&quot;dev_user_object&quot;</span>]);</span><br><span class="line">    <span class="keyword">const</span> data = <span class="keyword">await</span> <span class="title function_">statisDeviceByUserObject</span>();</span><br><span class="line">    dicts.<span class="property">dictionaryMap</span>.<span class="property">dev_user_object</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">&#123; label, value &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (value === <span class="string">&quot;6&quot;</span>) <span class="keyword">return</span>; <span class="comment">// æ’é™¤å…¶ä»–</span></span><br><span class="line">      xData.<span class="title function_">push</span>(label);</span><br><span class="line">      <span class="keyword">const</span> temp = data.<span class="title function_">find</span>(<span class="function">(<span class="params">&#123; name &#125;</span>) =&gt;</span> name === value);</span><br><span class="line">      sData.<span class="title function_">push</span>(temp?.<span class="property">qty</span> || <span class="number">0</span>);</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// ç»™optionsèµ‹å€¼æ—¶è¦æ³¨æ„optionsæ˜¯æµ…å±‚å“åº”å¼</span></span><br><span class="line">      options.<span class="property">xAxis</span> = &#123; <span class="attr">data</span>: xData &#125;; </span><br><span class="line">      options.<span class="property">series</span> = [&#123; ...options.<span class="property">series</span>[<span class="number">0</span>], <span class="attr">data</span>: sData &#125;];</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// --------- äº‹ä»¶ S ----------</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">selectchanged</span> = (<span class="params">params: ChartsEvents.Events[<span class="string">&quot;selectchanged&quot;</span>]</span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(params, <span class="string">&quot;é€‰ä¸­å›¾ä¾‹äº†&quot;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">handleChartClick</span> = (<span class="params">params: ChartsEvents.Events[<span class="string">&quot;chartClick&quot;</span>]</span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(params, <span class="string">&quot;ç‚¹å‡»äº†å›¾è¡¨&quot;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// --------- äº‹ä»¶ E ----------</span></span><br><span class="line">  <span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">init</span>();</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    optionsï¼Œ</span><br><span class="line">    selectchanged,</span><br><span class="line">    handleChartClick</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨æ—¶è¾“å…¥@å¯ä»¥çœ‹åˆ°ç»„ä»¶æ”¯æŒçš„æ‰€æœ‰äº‹ä»¶ï¼š</p></blockquote><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230330112948554.png" alt="image-20230330112948554"></p><ul><li><a href="https://gitee.com/guochao0822/v-chart-charts-demo">å®Œæ•´demo</a></li><li></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> vue3 </tag>
            
            <tag> echarts </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue2é¡¹ç›®å¼€å‘æŠ€å·§</title>
      <link href="/posts/37642.html"/>
      <url>/posts/37642.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1-è·¯ç”±å‚æ•°è§£è€¦"><a href="#1-è·¯ç”±å‚æ•°è§£è€¦" class="headerlink" title="1.è·¯ç”±å‚æ•°è§£è€¦"></a><strong>1.è·¯ç”±å‚æ•°è§£è€¦</strong></h3><p>é€šå¸¸åœ¨ç»„ä»¶ä¸­ä½¿ç”¨è·¯ç”±å‚æ•°ï¼Œå¤§å¤šæ•°äººä¼šåšä»¥ä¸‹äº‹æƒ…ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="title function_">getParamsId</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">params</span>.<span class="property">id</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ $route ä¼šå¯¼è‡´ä¸å…¶ç›¸åº”è·¯ç”±çš„é«˜åº¦è€¦åˆï¼Œé€šè¿‡å°†å…¶é™åˆ¶ä¸ºæŸäº› URL æ¥é™åˆ¶ç»„ä»¶çš„çµæ´»æ€§ã€‚æ­£ç¡®çš„åšæ³•æ˜¯é€šè¿‡ props æ¥è§£è€¦ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [&#123;</span><br><span class="line">        <span class="attr">path</span>:  <span class="regexp">/user/</span>:id ,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">User</span>,</span><br><span class="line">        <span class="attr">props</span>: <span class="literal">true</span></span><br><span class="line">    &#125;]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å°†è·¯ç”±çš„ props å±æ€§è®¾ç½®ä¸º true åï¼Œç»„ä»¶å†…éƒ¨å¯ä»¥é€šè¿‡ props æ¥æ”¶ params å‚æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">props</span>: [ id ],</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="title function_">getParamsId</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">id</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‚¨è¿˜å¯ä»¥é€šè¿‡åŠŸèƒ½æ¨¡å¼è¿”å›props</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [&#123;</span><br><span class="line">        <span class="attr">path</span>:  <span class="regexp">/user/</span>:id ,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">User</span>,</span><br><span class="line">        <span class="attr">props</span>: <span class="function">(<span class="params">route</span>) =&gt;</span> (&#123;</span><br><span class="line">            <span class="attr">id</span>: route.<span class="property">query</span>.<span class="property">id</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="2-åŠŸèƒ½ç»„ä»¶"><a href="#2-åŠŸèƒ½ç»„ä»¶" class="headerlink" title="2.åŠŸèƒ½ç»„ä»¶"></a><strong>2.åŠŸèƒ½ç»„ä»¶</strong></h3><p>åŠŸèƒ½ç»„ä»¶æ˜¯æ— çŠ¶æ€çš„ï¼Œå®ƒä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•ç”Ÿå‘½å‘¨æœŸæˆ–æ–¹æ³•ã€‚åˆ›å»ºåŠŸèƒ½ç»„ä»¶ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€åœ¨æ¨¡æ¿ä¸­æ·»åŠ åŠŸèƒ½å£°æ˜å³å¯ã€‚å®ƒä¸€èˆ¬é€‚ç”¨äºåªä¾èµ–äºå¤–éƒ¨æ•°æ®å˜åŒ–çš„ç»„ä»¶ï¼Œå¹¶ä¸”ç”±äºå…¶è½»é‡çº§è€Œæé«˜äº†æ¸²æŸ“æ€§èƒ½ã€‚ç»„ä»¶éœ€è¦çš„ä¸€åˆ‡éƒ½é€šè¿‡ä¸Šä¸‹æ–‡å‚æ•°ä¼ é€’ã€‚å®ƒæ˜¯ä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œå…·ä½“å±æ€§è§æ–‡æ¡£ã€‚è¿™é‡Œçš„ props æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰ç»‘å®šå±æ€§çš„å¯¹è±¡ã€‚</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template functional&gt;</span><br><span class="line">    &lt;div class=&quot;list&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;item&quot; v-for=&quot;item in props.list&quot; :key=&quot;item.id&quot; @click=&quot;props.itemClick(item)&quot;&gt;</span><br><span class="line">            &lt;p&gt;&#123;&#123;item.title&#125;&#125;&lt;/p&gt;</span><br><span class="line">            &lt;p&gt;&#123;&#123;item.content&#125;&#125;&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p>çˆ¶ç»„ä»¶ä½¿ç”¨</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;List :list=&quot;list&quot; :itemClick=&quot;item =&gt; (currentItem = item)&quot; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">import List from  @/components/List.vue</span><br><span class="line">export default &#123;</span><br><span class="line">    components: &#123;</span><br><span class="line">        List</span><br><span class="line">    &#125;,</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            list: [&#123;</span><br><span class="line">                title:  title ,</span><br><span class="line">                content:  content</span><br><span class="line">            &#125;],</span><br><span class="line">            currentItem:</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-æ ·å¼èŒƒå›´"><a href="#3-æ ·å¼èŒƒå›´" class="headerlink" title="3.æ ·å¼èŒƒå›´"></a><strong>3.æ ·å¼èŒƒå›´</strong></h3><p>å¼€å‘ä¸­ä¿®æ”¹ç¬¬ä¸‰æ–¹ç»„ä»¶æ ·å¼å¾ˆå¸¸è§ï¼Œä½†æ˜¯ç”±äºscopedå±æ€§çš„æ ·å¼éš”ç¦»ï¼Œå¯èƒ½éœ€è¦å»æ‰scopedæˆ–è€…å¦èµ·ä¸€ä¸ªæ ·å¼ã€‚è¿™äº›åšæ³•æœ‰å‰¯ä½œç”¨ï¼ˆç»„ä»¶æ ·å¼æ±¡æŸ“ï¼Œç¼ºä¹ä¼˜é›…ï¼‰ï¼Œåœ¨cssé¢„å¤„ç†å™¨ä¸­ä½¿ç”¨æ ·å¼æ¸—é€æ¥ç”Ÿæ•ˆã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &gt;&gt;&gt; æˆ–è€… /deep/ æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p><figure class="highlight scss"><table><tr><td class="code"><pre><span class="line">&lt;style scoped&gt;</span><br><span class="line">Outer layer &gt;&gt;&gt; <span class="selector-class">.el-checkbox</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">26px</span>;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.el-checkbox__label</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/deep/ <span class="selector-class">.el-checkbox</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">26px</span>;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.el-checkbox__label</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="4-watchçš„é«˜çº§ä½¿ç”¨"><a href="#4-watchçš„é«˜çº§ä½¿ç”¨" class="headerlink" title="4.watchçš„é«˜çº§ä½¿ç”¨"></a><strong>4.watchçš„é«˜çº§ä½¿ç”¨</strong></h3><p>watch åœ¨ç›‘å¬å™¨å±æ€§å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ï¼Œæœ‰æ—¶æˆ‘ä»¬å¸Œæœ› watch åœ¨ç»„ä»¶åˆ›å»ºåç«‹å³æ‰§è¡Œã€‚å¯èƒ½æƒ³åˆ°çš„æ–¹å¼æ˜¯åœ¨åˆ›å»ºç”Ÿå‘½å‘¨æœŸä¸­è°ƒç”¨å®ƒä¸€æ¬¡ï¼Œä½†è¿™ä¸æ˜¯ä¸€ç§ä¼˜é›…çš„ç¼–å†™æ–¹å¼ï¼Œæ‰€ä»¥ä¹Ÿè®¸æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™æ ·çš„ä¸œè¥¿ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">name</span>:  <span class="title class_">Joe</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">watch</span>: &#123;</span><br><span class="line">        <span class="attr">name</span>: &#123;</span><br><span class="line">            <span class="attr">handler</span>:  sayName ,</span><br><span class="line">            <span class="attr">immediate</span>: <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="title function_">sayName</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Deep Listening</strong>ç›‘å¬ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå½“å¯¹è±¡å†…éƒ¨çš„å±æ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼Œwatchæ˜¯ä¸ä¼šè¢«è§¦å‘çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¸ºå®ƒè®¾ç½®æ·±åº¦ç›‘å¬ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">studen</span>: &#123;</span><br><span class="line">            <span class="attr">name</span>:  <span class="title class_">Joe</span> ,</span><br><span class="line">            <span class="attr">skill</span>: &#123;</span><br><span class="line">                <span class="attr">run</span>: &#123;</span><br><span class="line">                    <span class="attr">speed</span>:  fast</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">watch</span>: &#123;</span><br><span class="line">        <span class="attr">studen</span>: &#123;</span><br><span class="line">            <span class="attr">handler</span>:  sayName ,</span><br><span class="line">            <span class="attr">deep</span>: <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="title function_">sayName</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">studen</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è§¦å‘ç›‘å¬å™¨æ‰§è¡Œå¤šä¸ªæ–¹æ³•</strong>ä½¿ç”¨æ•°ç»„ï¼Œæ‚¨å¯ä»¥è®¾ç½®å¤šä¸ªå½¢å¼ï¼ŒåŒ…æ‹¬å­—ç¬¦ä¸²ã€å‡½æ•°ã€å¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">name</span>:  <span class="title class_">Joe</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">watch</span>: &#123;</span><br><span class="line">        <span class="attr">name</span>: [</span><br><span class="line">             sayName1 ,</span><br><span class="line">            <span class="keyword">function</span>(<span class="params">newVal, oldVal</span>) &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">sayName2</span>()</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">handler</span>:  sayName3 ,</span><br><span class="line">                <span class="attr">immaediate</span>: <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="title function_">sayName1</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>( sayName1==&gt; , <span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">sayName2</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>( sayName2==&gt; , <span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">sayName3</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>( sayName3==&gt; , <span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-watchç›‘å¬å¤šä¸ªå˜é‡"><a href="#5-watchç›‘å¬å¤šä¸ªå˜é‡" class="headerlink" title="5.watchç›‘å¬å¤šä¸ªå˜é‡"></a><strong>5.watchç›‘å¬å¤šä¸ªå˜é‡</strong></h3><p>watch æœ¬èº«ä¸èƒ½ç›‘å¬å¤šä¸ªå˜é‡ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿”å›å…·æœ‰è®¡ç®—å±æ€§çš„å¯¹è±¡ç„¶åç›‘å¬è¯¥å¯¹è±¡æ¥â€œç›‘å¬å¤šä¸ªå˜é‡â€ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">msg1</span>:  apple ,</span><br><span class="line">            <span class="attr">msg2</span>:  banana</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">compouted</span>: &#123;</span><br><span class="line">        <span class="title function_">msgObj</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> &#123; msg1, msg2 &#125; = <span class="variable language_">this</span></span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                msg1,</span><br><span class="line">                msg2</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">watch</span>: &#123;</span><br><span class="line">        <span class="attr">msgObj</span>: &#123;</span><br><span class="line">            <span class="title function_">handler</span>(<span class="params">newVal, oldVal</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (newVal.<span class="property">msg1</span> != oldVal.<span class="property">msg1</span>) &#123;</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">log</span>( msg1 is change )</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (newVal.<span class="property">msg2</span> != oldVal.<span class="property">msg2</span>) &#123;</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">log</span>( msg2 is change )</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">deep</span>: <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-äº‹ä»¶å‚æ•°-event"><a href="#6-äº‹ä»¶å‚æ•°-event" class="headerlink" title="6.äº‹ä»¶å‚æ•°$event"></a><strong>6.äº‹ä»¶å‚æ•°$event</strong></h3><p>$event æ˜¯äº‹ä»¶å¯¹è±¡çš„ä¸€ä¸ªç‰¹æ®Šå˜é‡ï¼Œå®ƒåœ¨æŸäº›åœºæ™¯ä¸‹ä¸ºæˆ‘ä»¬æä¾›äº†æ›´å¤šçš„å¯ç”¨å‚æ•°æ¥å®ç°å¤æ‚çš„åŠŸèƒ½ã€‚æœ¬æœºäº‹ä»¶ï¼šä¸æœ¬æœºäº‹ä»¶ä¸­çš„é»˜è®¤äº‹ä»¶å¯¹è±¡è¡Œä¸ºç›¸åŒã€‚</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; @input=&quot;inputHandler( hello , $event)&quot; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    methods: &#123;</span><br><span class="line">        inputHandler(msg, e) &#123;</span><br><span class="line">            console.log(e.target.value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‡ªå®šä¹‰äº‹ä»¶ï¼šåœ¨è‡ªå®šä¹‰äº‹ä»¶ä¸­è¡¨ç¤ºä¸ºæ•è·ä»å­ç»„ä»¶æŠ›å‡ºçš„å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="title function_">customEvent</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.$emit( custom-event ,  some value )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">my-item</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in list&quot;</span> @<span class="attr">custom-event</span>=<span class="string">&quot;customEvent(index, $event)&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">my-list</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="title function_">customEvent</span>(<span class="params">index, e</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(e) <span class="comment">//  some value</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-ç¨‹åºåŒ–äº‹ä»¶ç›‘å¬å™¨"><a href="#7-ç¨‹åºåŒ–äº‹ä»¶ç›‘å¬å™¨" class="headerlink" title="7.ç¨‹åºåŒ–äº‹ä»¶ç›‘å¬å™¨"></a><strong>7.ç¨‹åºåŒ–äº‹ä»¶ç›‘å¬å™¨</strong></h3><p>ä¾‹å¦‚ï¼Œåœ¨é¡µé¢æŒ‚è½½æ—¶å®šä¹‰ä¸€ä¸ªå®šæ—¶å™¨ï¼Œéœ€è¦åœ¨é¡µé¢é”€æ¯æ—¶æ¸…é™¤å®šæ—¶å™¨ã€‚è¿™ä¼¼ä¹ä¸æ˜¯é—®é¢˜ã€‚ä½†ä»”ç»†è§‚å¯Ÿï¼Œthis.timer çš„å”¯ä¸€ç›®çš„æ˜¯èƒ½å¤Ÿåœ¨ beforeDestroy ä¸­è·å–è®¡æ—¶å™¨ç¼–å·ï¼Œå¦åˆ™æ˜¯æ— ç”¨çš„ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">timer</span> = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Date</span>.<span class="title function_">now</span>())</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">beforeDestroy</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="built_in">clearInterval</span>(<span class="variable language_">this</span>.<span class="property">timer</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœå¯èƒ½ï¼Œæœ€å¥½åªè®¿é—®ç”Ÿå‘½å‘¨æœŸæŒ‚é’©ã€‚è¿™ä¸æ˜¯ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ï¼Œä½†å¯ä»¥è®¤ä¸ºæ˜¯æ··ä¹±ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ æˆ–once ç›‘å¬é¡µé¢ç”Ÿå‘½å‘¨æœŸé”€æ¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">creatInterval</span>( hello )</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">creatInterval</span>( world )</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">creatInterval</span>(<span class="params">msg</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> timer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(msg)</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">        <span class="variable language_">this</span>.$once( <span class="attr">hook</span>:beforeDestroy , <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="built_in">clearInterval</span>(timer)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œå³ä½¿æˆ‘ä»¬åŒæ—¶åˆ›å»ºå¤šä¸ªå®šæ—¶å™¨ï¼Œä¹Ÿä¸å½±å“æ•ˆæœã€‚è¿™æ˜¯å› ä¸ºå®ƒä»¬å°†åœ¨é¡µé¢è¢«é”€æ¯åä»¥ç¼–ç¨‹æ–¹å¼è‡ªåŠ¨æ¸…é™¤ã€‚</p><h3 id="8-ç›‘å¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"><a href="#8-ç›‘å¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="8.ç›‘å¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"></a><strong>8.ç›‘å¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</strong></h3><p>é€šå¸¸æˆ‘ä»¬ä½¿ç”¨ $emit ç›‘å¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸï¼Œçˆ¶ç»„ä»¶æ¥æ”¶äº‹ä»¶è¿›è¡Œé€šçŸ¥ã€‚<strong>å­ç»„ä»¶</strong></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.$emit( listenMounted )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>çˆ¶ç»„ä»¶</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;List @listenMounted=&quot;listenMounted&quot; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p>å…¶å®æœ‰ä¸€ç§ç®€å•çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨@hook æ¥ç›‘å¬ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼Œè€Œä¸éœ€è¦åœ¨ç»„ä»¶å†…éƒ¨åšä»»ä½•æ”¹åŠ¨ã€‚åŒæ ·ï¼Œåˆ›å»ºã€æ›´æ–°ç­‰ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ã€‚</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;List @hook:mounted=&quot;listenMounted&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p><strong>æ€»ç»“</strong>ä»¥ä¸Šå°±æ˜¯æˆ‘ä»Šå¤©è·Ÿä½ åˆ†äº«çš„8ä¸ªå…³äºVueçš„å¼€å‘æŠ€å·§ï¼Œå¸Œæœ›è¿™äº›å°æŠ€å·§å¯¹ä½ æœ‰ç”¨ã€‚</p><blockquote><p><em>è‹±æ–‡åŸæ–‡ï¼š</em></p><p><em><a href="https://levelup.gitconnected.com/8-awesome-vue-development-tips-661b7631aa47">https://levelup.gitconnected.com/8-awesome-vue-development-tips-661b7631aa47</a></em></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> vue2 </tag>
            
            <tag> æŠ€å·§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PiniaæŒä¹…åŒ–æ’ä»¶</title>
      <link href="/posts/50437.html"/>
      <url>/posts/50437.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="PiniaæŒä¹…åŒ–"><a href="#PiniaæŒä¹…åŒ–" class="headerlink" title="PiniaæŒä¹…åŒ–"></a>PiniaæŒä¹…åŒ–</h2><blockquote><p><code>pinia-plugin-persist</code>æ’ä»¶å®ç°<code>Pinia</code>çš„æ•°æ®æŒä¹…åŒ–</p></blockquote><h4 id="é£Ÿç”¨æ–¹æ³•"><a href="#é£Ÿç”¨æ–¹æ³•" class="headerlink" title="é£Ÿç”¨æ–¹æ³•"></a>é£Ÿç”¨æ–¹æ³•</h4><h5 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a><strong>å®‰è£…</strong></h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">npm</span></span><br><span class="line">npm install pinia-plugin-persist</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">yarn</span></span><br><span class="line">yarn add pinia-plugin-persist</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">pnpm</span></span><br><span class="line">pnpm add pinia-plugin-persist</span><br></pre></td></tr></table></figure><p><strong><code>store/index.ts</code>é…ç½®</strong></p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"><span class="keyword">import</span> piniaPersist <span class="keyword">from</span> <span class="string">&#x27;pinia-plugin-persist&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>()</span><br><span class="line">pinia.<span class="title function_">use</span>(piniaPersist)</span><br></pre></td></tr></table></figure><p><strong><code>tsconfig.ts</code>æ·»åŠ é…ç½®</strong></p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// tsconfig.ts</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;types&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;pinia-plugin-persist&quot;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h5 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a><strong>Usage</strong></h5><p>æºç å³æ–‡æ¡£</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> <span class="title class_">PersistStrategy</span> &#123;</span><br><span class="line">    key?: <span class="built_in">string</span>;</span><br><span class="line">    storage?: <span class="title class_">Storage</span>;</span><br><span class="line">    paths?: <span class="built_in">string</span>[];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> <span class="title class_">PersistOptions</span> &#123;</span><br><span class="line">    <span class="attr">enabled</span>: <span class="literal">true</span>;</span><br><span class="line">    strategies?: <span class="title class_">PersistStrategy</span>[];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">type</span> <span class="title class_">Store</span> = <span class="title class_">PiniaPluginContext</span>[<span class="string">&#x27;store&#x27;</span>];</span><br><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&#x27;pinia&#x27;</span> &#123;</span><br><span class="line">    <span class="keyword">interface</span> <span class="title class_">DefineStoreOptionsBase</span>&lt;S, <span class="title class_">Store</span>&gt; &#123;</span><br><span class="line">        persist?: <span class="title class_">PersistOptions</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>1. åŸºæœ¬ä½¿ç”¨</strong></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&quot;pinia&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useStore = <span class="title function_">defineStore</span>(<span class="string">&quot;StoreId&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">state</span>: <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">        <span class="attr">foo</span>: <span class="string">&quot;foo&quot;</span>,</span><br><span class="line">        <span class="attr">bar</span>: <span class="string">&quot;bar&quot;</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="comment">// å¼€å¯æ•°æ®ç¼“å­˜</span></span><br><span class="line">    <span class="attr">persist</span>: &#123;</span><br><span class="line">      <span class="attr">enabled</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">strategies</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">key</span>: <span class="string">&#x27;user&#x27;</span>,  <span class="comment">//è‡ªå®šä¹‰ Keyå€¼</span></span><br><span class="line">                <span class="attr">storage</span>: <span class="variable language_">localStorage</span>,  <span class="comment">// é€‰æ‹©å­˜å‚¨æ–¹å¼</span></span><br><span class="line">                <span class="attr">path</span>: [<span class="string">&#x27;foo&#x27;</span>], <span class="comment">// é»˜è®¤æ‰€æœ‰ state éƒ½ä¼šè¿›è¡Œç¼“å­˜ï¼Œé€šè¿‡ paths æŒ‡å®šè¦æŒä¹…åŒ–çš„å­—æ®µï¼Œå…¶ä½™çš„åˆ™ä¸ä¼šè¿›è¡ŒæŒä¹…åŒ–</span></span><br><span class="line">            &#125;,</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å¼€å¯ <code>enabled</code> ä¹‹åï¼Œé»˜è®¤ä¼šå¯¹æ•´ä¸ª <code>Store</code> çš„ <code>state</code> å†…å®¹è¿›è¡Œ <code>sessionStorage</code> å‚¨å­˜ã€‚</p><p><strong>2. è¿›é˜¶ç”¨æ³•</strong></p><p><code>strategies</code> å­—æ®µè¯´æ˜ï¼š</p><div class="table-container"><table><thead><tr><th>å±æ€§</th><th>æè¿°</th></tr></thead><tbody><tr><td>key</td><td>è‡ªå®šä¹‰å­˜å‚¨çš„ keyï¼Œé»˜è®¤æ˜¯ store.$id</td></tr><tr><td>storage</td><td>å¯ä»¥æŒ‡å®šä»»ä½• extends Storage çš„å®ä¾‹ï¼Œé»˜è®¤æ˜¯ sessionStorage</td></tr><tr><td>paths</td><td>state ä¸­çš„å­—æ®µåï¼ŒæŒ‰ç»„æ‰“åŒ…å‚¨å­˜(é»˜è®¤æ‰€æœ‰ state éƒ½ä¼šè¿›è¡Œç¼“å­˜ï¼Œé€šè¿‡ paths æŒ‡å®šè¦æŒä¹…åŒ–çš„å­—æ®µï¼Œå…¶ä½™çš„åˆ™ä¸ä¼šè¿›è¡ŒæŒä¹…åŒ–)</td></tr></tbody></table></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&quot;pinia&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useStore = <span class="title function_">defineStore</span>(<span class="string">&quot;YourStore&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> foo = <span class="title function_">ref</span>(<span class="string">&quot;foo&quot;</span>)</span><br><span class="line">    <span class="keyword">const</span> bar = <span class="title function_">ref</span>(<span class="string">&quot;bar&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> &#123; foo, bar &#125;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    <span class="attr">enabled</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">strategies</span>: [&#123;</span><br><span class="line">        <span class="comment">// è‡ªå®šä¹‰å­˜å‚¨çš„ keyï¼Œé»˜è®¤æ˜¯ store.$id</span></span><br><span class="line">        <span class="attr">key</span>: <span class="string">&quot;custom storageKey&quot;</span>,</span><br><span class="line">        <span class="comment">// å¯ä»¥æŒ‡å®šä»»ä½• extends Storage çš„å®ä¾‹ï¼Œé»˜è®¤æ˜¯ sessionStorage</span></span><br><span class="line">        <span class="attr">storage</span>: <span class="variable language_">localStorage</span>,</span><br><span class="line">        <span class="comment">// state ä¸­çš„å­—æ®µåï¼ŒæŒ‰ç»„æ‰“åŒ…å‚¨å­˜</span></span><br><span class="line">        <span class="attr">paths</span>: [<span class="string">&quot;foo&quot;</span>, <span class="string">&quot;bar&quot;</span>]</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><code>storage</code> å±æ€§å¯ä»¥ä½¿ç”¨ä»»ä½•ç»§æ‰¿è‡ª <code>Storage</code> åè®®çš„å¯¹è±¡ï¼Œè‡ªå®šä¹‰å­˜å‚¨å¯¹è±¡ä¹Ÿå¯ä»¥ï¼Œå¦‚ä¸‹ <code>cookiesStorage</code> ä¸ºä¾‹</p><figure class="highlight tsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Cookies</span> <span class="keyword">from</span> <span class="string">&#x27;js-cookie&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">cookiesStorage</span>: <span class="title class_">Storage</span> = &#123;</span><br><span class="line">  setItem (key, state) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Cookies</span>.<span class="title function_">set</span>(<span class="string">&#x27;accessToken&#x27;</span>, state.<span class="property">accessToken</span>, &#123; <span class="attr">expires</span>: <span class="number">3</span> &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  getItem (key) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">      <span class="attr">accessToken</span>: <span class="title class_">Cookies</span>.<span class="title function_">getJSON</span>(<span class="string">&#x27;accessToken&#x27;</span>),</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useStore = <span class="title function_">defineStore</span>(<span class="string">&quot;YourStore&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> foo = <span class="title function_">ref</span>(<span class="string">&quot;foo&quot;</span>)</span><br><span class="line">    <span class="keyword">const</span> bar = <span class="title function_">ref</span>(<span class="string">&quot;bar&quot;</span>)</span><br><span class="line">    <span class="keyword">const</span> accessToken = <span class="title function_">ref</span>(<span class="string">&quot;xxx&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> &#123; foo, bar, accessToken &#125;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    <span class="attr">enabled</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">strategies</span>: [&#123;</span><br><span class="line">        <span class="attr">key</span>: <span class="string">&quot;token&quot;</span>,</span><br><span class="line">        <span class="attr">storage</span>: cookiesStorage,</span><br><span class="line">        <span class="attr">paths</span>: [<span class="string">&quot;accessToken&quot;</span>]</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="æºç è§£è¯»"><a href="#æºç è§£è¯»" class="headerlink" title="æºç è§£è¯»"></a>æºç è§£è¯»</h4><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Store</span> = <span class="title class_">PiniaPluginContext</span>[<span class="string">&#x27;store&#x27;</span>];</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">PartialState</span> = <span class="title class_">Partial</span>&lt;<span class="title class_">Store</span>[<span class="string">&#x27;$state&#x27;</span>]&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">updateStorage</span> = (<span class="params">strategy: PersistStrategy, store: Store</span>) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é»˜è®¤ä½¿ç”¨ sessionStorage</span></span><br><span class="line">  <span class="keyword">const</span> storage = strategy.<span class="property">storage</span> || <span class="variable language_">sessionStorage</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// é»˜è®¤å­˜å‚¨ key ä¸º store.$id</span></span><br><span class="line">  <span class="keyword">const</span> storeKey = strategy.<span class="property">key</span> || store.<span class="property">$id</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (strategy.<span class="property">paths</span>) &#123;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// éå† paths å°†å¯¹åº”çš„å±æ€§æ”¶é›†åˆ° finalObj ä¸­</span></span><br><span class="line">    <span class="keyword">const</span> partialState = strategy.<span class="property">paths</span>.<span class="title function_">reduce</span>(<span class="function">(<span class="params">finalObj, key</span>) =&gt;</span> &#123;</span><br><span class="line">      finalObj[key] = store.<span class="property">$state</span>[key]</span><br><span class="line">      <span class="keyword">return</span> finalObj</span><br><span class="line">    &#125;, &#123;&#125; <span class="keyword">as</span> <span class="title class_">PartialState</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ‰§è¡Œå­˜å‚¨</span></span><br><span class="line">    storage.<span class="title function_">setItem</span>(storeKey, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(partialState))</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// å¦‚æœæ²¡æœ‰ pathsï¼Œåˆ™æŒ‰æ•´ä¸ª store.$state å­˜å‚¨</span></span><br><span class="line">    storage.<span class="title function_">setItem</span>(storeKey, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(store.<span class="property">$state</span>))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (&#123; options, store &#125;: <span class="title class_">PiniaPluginContext</span>): <span class="function"><span class="params">void</span> =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆ¤æ–­æ’ä»¶åŠŸèƒ½æ˜¯å¦å¼€å¯</span></span><br><span class="line">  <span class="keyword">if</span> (options.<span class="property">persist</span>?.<span class="property">enabled</span>) &#123;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// é»˜è®¤ç­–ç•¥å®ä¾‹</span></span><br><span class="line">    <span class="keyword">const</span> <span class="attr">defaultStrat</span>: <span class="title class_">PersistStrategy</span>[] = [&#123;</span><br><span class="line">      <span class="attr">key</span>: store.<span class="property">$id</span>,</span><br><span class="line">      <span class="attr">storage</span>: <span class="variable language_">sessionStorage</span>,</span><br><span class="line">    &#125;]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> strategies = options.<span class="property">persist</span>?.<span class="property">strategies</span>?.<span class="property">length</span> ? options.<span class="property">persist</span>?.<span class="property">strategies</span> : defaultStrat</span><br><span class="line"></span><br><span class="line">    strategies.<span class="title function_">forEach</span>(<span class="function">(<span class="params">strategy</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> storage = strategy.<span class="property">storage</span> || <span class="variable language_">sessionStorage</span></span><br><span class="line">      <span class="keyword">const</span> storeKey = strategy.<span class="property">key</span> || store.<span class="property">$id</span></span><br><span class="line">      <span class="keyword">const</span> storageResult = storage.<span class="title function_">getItem</span>(storeKey)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (storageResult) &#123;</span><br><span class="line">      </span><br><span class="line">        <span class="comment">// å¦‚æœ storage ä¸­å­˜åœ¨åŒæ­¥æ•°æ®</span></span><br><span class="line">        store.$patch(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(storageResult))</span><br><span class="line">        <span class="title function_">updateStorage</span>(strategy, store)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    store.$subscribe(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    </span><br><span class="line">      <span class="comment">// ç›‘å¬ state å˜åŒ–ï¼ŒåŒæ­¥æ›´æ–° storage</span></span><br><span class="line">      strategies.<span class="title function_">forEach</span>(<span class="function">(<span class="params">strategy</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">updateStorage</span>(strategy, store)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> vue3 </tag>
            
            <tag> pinia </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3é¡¹ç›®å¸¸ç”¨æ’ä»¶</title>
      <link href="/posts/21141.html"/>
      <url>/posts/21141.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="Vue3é¡¹ç›®æ’ä»¶"><a href="#Vue3é¡¹ç›®æ’ä»¶" class="headerlink" title="Vue3é¡¹ç›®æ’ä»¶"></a>Vue3é¡¹ç›®æ’ä»¶</h3><blockquote><p>åˆ—ä¸¾äº†ä¸€äº› Vueé¡¹ç›®ä¸­æ¯”è¾ƒå¥½ç”¨çš„æ’ä»¶</p></blockquote><h4 id="1ã€unplugin-auto-import"><a href="#1ã€unplugin-auto-import" class="headerlink" title="1ã€unplugin-auto-import"></a>1ã€unplugin-auto-import</h4><blockquote><p>æ”¯æŒ<code>vue</code>, <code>vue-router</code>, <code>vue-i18n</code>, <code>@vueuse/head</code>, <code>@vueuse/core</code>ç­‰è‡ªåŠ¨å¼•å…¥</p><p><a href="https://github.com/antfu/unplugin-auto-import">https://github.com/antfu/unplugin-auto-import</a></p><p><a href="https://juejin.cn/post/7162052830054842399">https://juejin.cn/post/7162052830054842399</a></p></blockquote><h6 id="ä¸€ã€æ•ˆæœ"><a href="#ä¸€ã€æ•ˆæœ" class="headerlink" title="ä¸€ã€æ•ˆæœ"></a>ä¸€ã€æ•ˆæœ</h6><figure class="highlight tsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥å‰</span></span><br><span class="line"><span class="keyword">import</span> &#123; ref, computed &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">const</span> count = <span class="title function_">ref</span>(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">const</span> doubled = <span class="title function_">computed</span>(<span class="function">() =&gt;</span> count.<span class="property">value</span> * <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¼•å…¥å</span></span><br><span class="line"><span class="keyword">const</span> count = <span class="title function_">ref</span>(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">const</span> doubled = <span class="title function_">computed</span>(<span class="function">() =&gt;</span> count.<span class="property">value</span> * <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥å‰</span></span><br><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">Counter</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = <span class="title function_">useState</span>(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123; count &#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¼•å…¥å</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">Counter</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = <span class="title function_">useState</span>(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123; count &#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="äºŒã€å®‰è£…"><a href="#äºŒã€å®‰è£…" class="headerlink" title="äºŒã€å®‰è£…"></a>äºŒã€å®‰è£…</h6><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm i -D unplugin-auto-import</span><br></pre></td></tr></table></figure><h6 id="ä¸‰ã€vite-config-tsé…ç½®"><a href="#ä¸‰ã€vite-config-tsé…ç½®" class="headerlink" title="ä¸‰ã€vite.config.tsé…ç½®"></a>ä¸‰ã€vite.config.tsé…ç½®</h6><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// vite.config.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">AutoImport</span> <span class="keyword">from</span> <span class="string">&#x27;unplugin-auto-import/vite&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title class_">AutoImport</span>(&#123;</span><br><span class="line">      <span class="attr">imports</span>: [<span class="string">&#x27;vue&#x27;</span>, <span class="string">&#x27;vue-router&#x27;</span>, <span class="string">&#x27;vue-i18n&#x27;</span>, <span class="string">&#x27;@vueuse/head&#x27;</span>, <span class="string">&#x27;@vueuse/core&#x27;</span>],</span><br><span class="line">      <span class="comment">// auto-import.d.tsç”Ÿæˆçš„ä½ç½®(é»˜è®¤æ˜¯åœ¨æ ¹ç›®å½•) ä¼šåœ¨</span></span><br><span class="line">      <span class="attr">dts</span>: <span class="string">&#x27;src/type/auto-import.d.ts&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="2ã€unplugin-vue-components"><a href="#2ã€unplugin-vue-components" class="headerlink" title="2ã€unplugin-vue-components"></a>2ã€unplugin-vue-components</h4><blockquote><p><a href="https://github.com/antfu/unplugin-vue-components">https://github.com/antfu/unplugin-vue-components</a></p></blockquote><h6 id="ä¸€ã€å®‰è£…"><a href="#ä¸€ã€å®‰è£…" class="headerlink" title="ä¸€ã€å®‰è£…"></a>ä¸€ã€å®‰è£…</h6><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm i unplugin-vue-components -D</span><br></pre></td></tr></table></figure><h6 id="äºŒã€vite-config-tsé…ç½®"><a href="#äºŒã€vite-config-tsé…ç½®" class="headerlink" title="äºŒã€vite.config.tsé…ç½®"></a>äºŒã€vite.config.tsé…ç½®</h6><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// vite.config.ts</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Components</span> <span class="keyword">from</span> <span class="string">&#x27;unplugin-vue-components/vite&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title class_">Components</span>(&#123; </span><br><span class="line">      <span class="comment">/* options */</span> </span><br><span class="line">      <span class="comment">// è‡ªåŠ¨å¼•å…¥æ–‡ä»¶çš„ä½ç½®</span></span><br><span class="line">      <span class="attr">dts</span>: <span class="string">&#x27;src/type/components.d.ts&#x27;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h6 id="ä¸‰ã€æ•ˆæœ"><a href="#ä¸‰ã€æ•ˆæœ" class="headerlink" title="ä¸‰ã€æ•ˆæœ"></a>ä¸‰ã€æ•ˆæœ</h6><p>It will automatically turn this</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;HelloWorld msg=&quot;Hello Vue 3.0 + Vite&quot; /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>into this</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;HelloWorld msg=&quot;Hello Vue 3.0 + Vite&quot; /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import HelloWorld from &#x27;./src/components/HelloWorld.vue&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    HelloWorld</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h6 id="å››ã€TS"><a href="#å››ã€TS" class="headerlink" title="å››ã€TS"></a>å››ã€TS</h6><p>ä¸ºäº†è·å¾—å¯¹è‡ªåŠ¨å¯¼å…¥ç»„ä»¶çš„TypeScriptæ”¯æŒï¼ŒVue 3æœ‰ä¸€ä¸ªPRæ‰©å±•äº†å…¨å±€ç»„ä»¶çš„æ¥å£ã€‚ç›®å‰ï¼ŒVolarå·²ç»æ”¯æŒè¿™ç§ç”¨æ³•ã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯Volarï¼Œæ‚¨å¯ä»¥å¦‚ä¸‹æ›´æ”¹é…ç½®ä»¥è·å¾—æ”¯æŒã€‚</p><figure class="highlight tsx"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Components</span>(&#123;</span><br><span class="line">  <span class="attr">dts</span>: <span class="literal">true</span>, <span class="comment">// enabled by default if `typescript` is installed</span></span><br><span class="line">  <span class="comment">// dts: &#x27;src/type/components.d.ts&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åœ¨<code>include</code>ä¸‹å°†<code>components.d.ts</code>æ·»åŠ åˆ°<code>tsconfig.json</code>ä¸­</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;include&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;src/**/*.ts&quot;</span><span class="punctuation">,</span> <span class="string">&quot;src/**/*.d.ts&quot;</span><span class="punctuation">,</span> <span class="string">&quot;src/**/*.tsx&quot;</span><span class="punctuation">,</span> <span class="string">&quot;src/**/*.vue&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h6 id="äº”ã€æ”¯æŒä»UIåº“å¯¼å…¥"><a href="#äº”ã€æ”¯æŒä»UIåº“å¯¼å…¥" class="headerlink" title="äº”ã€æ”¯æŒä»UIåº“å¯¼å…¥"></a>äº”ã€æ”¯æŒä»UIåº“å¯¼å…¥</h6><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/img/image-20230217150510906.png" alt="image-20230217150510906"  /></p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// vite.config.ts</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Components</span> <span class="keyword">from</span> <span class="string">&#x27;unplugin-vue-components/vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  <span class="title class_">AntDesignVueResolver</span>,</span><br><span class="line">  <span class="title class_">ElementPlusResolver</span>,</span><br><span class="line">  <span class="title class_">VantResolver</span>,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;unplugin-vue-components/resolvers&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// your plugin installation</span></span><br><span class="line"><span class="title class_">Components</span>(&#123;</span><br><span class="line">  <span class="attr">resolvers</span>: [</span><br><span class="line">    <span class="title class_">AntDesignVueResolver</span>(),</span><br><span class="line">    <span class="title class_">ElementPlusResolver</span>(),</span><br><span class="line">    <span class="title class_">VantResolver</span>(),</span><br><span class="line">  ],</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>å¯ä»¥å»antfuå¤§ä½¬çš„æ’ä»¶é“¾æ¥æŸ¥çœ‹æ›´å¤šçš„é…ç½®</p></blockquote><h4 id="3ã€unplugin-vue-define-options"><a href="#3ã€unplugin-vue-define-options" class="headerlink" title="3ã€unplugin-vue-define-options"></a>3ã€unplugin-vue-define-options</h4><blockquote><p>Vue3 ä¸­å†™è°ƒè¯•ä»£ç éœ€è¦name</p><p><a href="https://vue-macros.sxzz.moe/macros/define-options.html">https://vue-macros.sxzz.moe/macros/define-options.html</a></p></blockquote><h6 id="ä¸€ã€å®‰è£…-1"><a href="#ä¸€ã€å®‰è£…-1" class="headerlink" title="ä¸€ã€å®‰è£…"></a>ä¸€ã€å®‰è£…</h6><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install unplugin-vue-define-options -D</span><br></pre></td></tr></table></figure><h6 id="äºŒã€é…ç½®"><a href="#äºŒã€é…ç½®" class="headerlink" title="äºŒã€é…ç½®"></a>äºŒã€é…ç½®</h6><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">//vite.config.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&#x27;@vitejs/plugin-vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> defineOptions <span class="keyword">from</span> <span class="string">&#x27;unplugin-vue-define-options/dist/vite&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [<span class="title function_">vue</span>(), <span class="title function_">defineOptions</span>()],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h6 id="ä¸‰ã€TypeScriptæ”¯æŒ"><a href="#ä¸‰ã€TypeScriptæ”¯æŒ" class="headerlink" title="ä¸‰ã€TypeScriptæ”¯æŒ"></a>ä¸‰ã€TypeScriptæ”¯æŒ</h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// tsconfig.json</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">&quot;types&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;unplugin-vue-define-options/macros-global&quot;</span> <span class="comment">/* ... */</span><span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h6 id="å››ã€ä½¿ç”¨"><a href="#å››ã€ä½¿ç”¨" class="headerlink" title="å››ã€ä½¿ç”¨"></a>å››ã€ä½¿ç”¨</h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script lang=&quot;ts&quot; setup&gt;</span><br><span class="line">  defineOptions(&#123;</span><br><span class="line">    name: &#x27;YourName&#x27;,</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="4ã€vite-plugin-vue-setup-extend"><a href="#4ã€vite-plugin-vue-setup-extend" class="headerlink" title="4ã€vite-plugin-vue-setup-extend"></a>4ã€vite-plugin-vue-setup-extend</h4><blockquote><p>vue3 ä¸­å¦å¤–ä¸€ç§nameå®šä¹‰æ–¹å¼ï¼Œç›´æ¥å†™åœ¨scriptæ ‡ç­¾ä¸Š</p></blockquote><p><a href="https://github.com/vbenjs/vite-plugin-vue-setup-extend">https://github.com/vbenjs/vite-plugin-vue-setup-extend</a></p><p>ä¸€ã€å®‰è£…</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm i vite-plugin-vue-setup-extend -D</span><br></pre></td></tr></table></figure><p>äºŒã€é…ç½® vite.config.tsä¸­</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> vueSetupExtend <span class="keyword">from</span> <span class="string">&#x27;vite-plugin-vue-setup-extend&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [<span class="title function_">vue</span>(), <span class="title function_">vueSetupExtend</span>()],</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä¸‰ã€ä½¿ç”¨</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;App&quot;&gt;</span><br><span class="line">  // script é‡Œé¢å¿…é¡»æœ‰ä¸œè¥¿ å“ªæ€•æ˜¯ä¸€ä¸ªæ³¨é‡Šéƒ½è¡Œ</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="5ã€pinia-plugin-persist"><a href="#5ã€pinia-plugin-persist" class="headerlink" title="5ã€pinia-plugin-persist"></a>5ã€pinia-plugin-persist</h4><blockquote><p>PiniaæŒä¹…åŒ–æ’ä»¶</p><p>è¯¦æƒ…çœ‹: [<a href="https://github.com/pan52yu/MyNote/blob/main/article/Vue3%E5%AD%A6%E4%B9%A0/Pinia.md](">https://github.com/pan52yu/MyNote/blob/main/article/Vue3%E5%AD%A6%E4%B9%A0/Pinia.md](</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> vue3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Macä¸‹è½½å’Œç ´è§£WebStorm</title>
      <link href="/posts/6134.html"/>
      <url>/posts/6134.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ä¸‹è½½å’Œç ´è§£-WebStorm"><a href="#ä¸‹è½½å’Œç ´è§£-WebStorm" class="headerlink" title="ä¸‹è½½å’Œç ´è§£ WebStorm"></a>ä¸‹è½½å’Œç ´è§£ WebStorm</h1><p>WebStorm æ˜¯ä¸€æ¬¾éå¸¸ä¼˜ç§€çš„å‰ç«¯å¼€å‘å·¥å…·ï¼Œä½†å®ƒæ˜¯æ”¶è´¹è½¯ä»¶ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•ä¸‹è½½ WebStorm å¹¶ç ´è§£å®ƒï¼Œä»¥ä¾¿æ‚¨å¯ä»¥å…è´¹ä½¿ç”¨å®ƒã€‚</p><h2 id="æ‰‹åŠ¨æ¿€æ´»"><a href="#æ‰‹åŠ¨æ¿€æ´»" class="headerlink" title="æ‰‹åŠ¨æ¿€æ´»"></a>æ‰‹åŠ¨æ¿€æ´»</h2><blockquote><p><a href="https://blog.idejihuo.com/jetbrains/idea-2023-1-permanent-activation-tutorial-manual-activation.html">https://blog.idejihuo.com/jetbrains/idea-2023-1-permanent-activation-tutorial-manual-activation.html</a></p></blockquote><h3 id="ä¸‹è½½æ–‡ä»¶"><a href="#ä¸‹è½½æ–‡ä»¶" class="headerlink" title="ä¸‹è½½æ–‡ä»¶"></a>ä¸‹è½½æ–‡ä»¶</h3><blockquote><p>åœ°å€ï¼š<a href="https://fileio.lanzoue.com/iRPnH0rf3htc">https://fileio.lanzoue.com/iRPnH0rf3htc</a></p><p>ä¸‹è½½å®Œè®°å¾—è§£å‹</p></blockquote><h3 id="ä¿®æ”¹å‚æ•°æ–‡ä»¶"><a href="#ä¿®æ”¹å‚æ•°æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹å‚æ•°æ–‡ä»¶"></a>ä¿®æ”¹å‚æ•°æ–‡ä»¶</h3><blockquote><p>æ–‡ä»¶ åœ¨WebStorm &gt; å¸®åŠ©ï¼ˆhelpï¼‰ &gt; ç¼–è¾‘è‡ªå®šä¹‰è™šæ‹Ÿæœºé€‰é¡¹ï¼ˆEdit Custom VM Optionsâ€¦ï¼‰</p><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230725171605064.png" alt="image-20230725171605064" style="zoom: 33%;" /></p><p>ä¿®æ”¹ä¸º</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-Xms128m</span><br><span class="line">-Xmx1024m</span><br><span class="line">-XX:ReservedCodeCacheSize=512m</span><br><span class="line">-XX:+IgnoreUnrecognizedVMOptions</span><br><span class="line">-XX:+UseG1GC</span><br><span class="line">-XX:SoftRefLRUPolicyMSPerMB=50</span><br><span class="line">-XX:CICompilerCount=2</span><br><span class="line">-XX:+HeapDumpOnOutOfMemoryError</span><br><span class="line">-XX:-OmitStackTraceInFastThrow</span><br><span class="line">-ea</span><br><span class="line">-Dsun.io.useCanonCaches=false</span><br><span class="line">-Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot;</span><br><span class="line">-Djdk.attach.allowAttachSelf=true</span><br><span class="line">-Djdk.module.illegalAccess.silent=true</span><br><span class="line">-Dkotlinx.coroutines.debug=off</span><br><span class="line">-XX:ErrorFile=$USER_HOME/java_error_in_idea_%p.log</span><br><span class="line">-XX:HeapDumpPath=$USER_HOME/java_error_in_idea.hprof</span><br><span class="line"></span><br><span class="line">--add-opens=java.base/jdk.internal.org.objectweb.asm=ALL-UNNAMED</span><br><span class="line">--add-opens=java.base/jdk.internal.org.objectweb.asm.tree=ALL-UNNAMED</span><br><span class="line"></span><br><span class="line">#ä¸‹é¢javaagentè·¯å¾„ æ¢æˆä½ çš„</span><br><span class="line">-javaagent:/Users/luxi/Documents/jihuo-tool-2022.2.3/jetbra/ja-netfilter.jar=jetbrains</span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong>javaagentçš„è·¯å¾„ä¸€å®šè¦æ­£ç¡®ï¼Œå¦åˆ™æ‰¾ä¸åˆ°è¡¥ä¸æ–‡ä»¶ï¼ŒIDE å¯èƒ½æ— æ³•æ­£å¸¸å¯åŠ¨</p></blockquote><h3 id="é‡å¯WebStorm"><a href="#é‡å¯WebStorm" class="headerlink" title="é‡å¯WebStorm"></a>é‡å¯WebStorm</h3><h3 id="è¾“å…¥æ¿€æ´»ç "><a href="#è¾“å…¥æ¿€æ´»ç " class="headerlink" title="è¾“å…¥æ¿€æ´»ç "></a>è¾“å…¥æ¿€æ´»ç </h3><blockquote><ul><li><p>ä»è¿™ä¸ªç½‘ç«™æ‰¾ä¸€ä¸ªæœ€å¿«çš„ç½‘ç«™è¿›å»<a href="https://3.jetbra.in/">https://3.jetbra.in/</a></p></li><li><p>å¤åˆ¶WebStormçš„æ¿€æ´»ç </p></li><li><p>ç²˜è´´æ¿€æ´»ç ï¼ˆä½ç½®åœ¨é¡¶éƒ¨å¯¼èˆª &gt; å¸®åŠ© &gt; æ³¨å†Œâ€¦ï¼‰</p></li></ul><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230725172049052.png" alt="image-20230725172049052" style="zoom:50%;" /></p><ul><li>æ¿€æ´»æˆåŠŸ</li></ul><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230725172037696.png" style="zoom:50%;" /></p></blockquote><h2 id="è‡ªåŠ¨æ¿€æ´»"><a href="#è‡ªåŠ¨æ¿€æ´»" class="headerlink" title="è‡ªåŠ¨æ¿€æ´»"></a>è‡ªåŠ¨æ¿€æ´»</h2><blockquote><p>æ³¨æ„ï¼š2023-07-25 è¿è¡Œ <code>sudo bash install.sh</code>å›æŠ¥é”™ï¼Œæ­¤æ–¹æ³•å¯èƒ½å·²ç»å¤±æ•ˆ</p></blockquote><h3 id="ä¸‹è½½-WebStorm"><a href="#ä¸‹è½½-WebStorm" class="headerlink" title="ä¸‹è½½ WebStorm"></a>ä¸‹è½½ WebStorm</h3><p>é¦–å…ˆï¼Œæ‚¨éœ€è¦ä» JetBrains å®˜ç½‘ä¸Šä¸‹è½½ WebStormã€‚è¯·è®¿é—®ä»¥ä¸‹é“¾æ¥ä»¥è·å–ä¸‹è½½é¡µé¢ï¼š<a href="https://www.jetbrains.com/zh-cn/webstorm/">https://www.jetbrains.com/zh-cn/webstorm/</a></p><p>ä¸‹è½½å®Œæ¯•åï¼Œæ‚¨å¯ä»¥å®‰è£… WebStormã€‚åœ¨å®‰è£…å®Œæˆåï¼Œæ‚¨å¯ä»¥å¿½ç•¥å®ƒï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦ä¸‹è½½è¡¥ä¸å¹¶æ‰§è¡Œç ´è§£ã€‚</p><h3 id="ä¸‹è½½è¡¥ä¸å¹¶ç ´è§£-WebStorm"><a href="#ä¸‹è½½è¡¥ä¸å¹¶ç ´è§£-WebStorm" class="headerlink" title="ä¸‹è½½è¡¥ä¸å¹¶ç ´è§£ WebStorm"></a>ä¸‹è½½è¡¥ä¸å¹¶ç ´è§£ WebStorm</h3><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤æ¥ä¸‹è½½è¡¥ä¸å¹¶ç ´è§£ WebStormï¼š</p><ol><li>ä¸‹è½½è¡¥ä¸ï¼šè¯·è®¿é—®ä»¥ä¸‹é“¾æ¥ä»¥ä¸‹è½½è¡¥ä¸ï¼š<a href="https://www.123pan.com/s/EHHDVv-mImMv">https://www.123pan.com/s/EHHDVv-mImMv</a></li><li>è§£å‹è¡¥ä¸ï¼šä¸‹è½½å®Œæ¯•åï¼Œæ‚¨éœ€è¦è§£å‹è¡¥ä¸æ–‡ä»¶ã€‚</li><li>æ‰§è¡Œç ´è§£è„šæœ¬ï¼šæ¥ä¸‹æ¥ï¼Œæ‚¨éœ€è¦æ‰“å¼€ç»ˆç«¯å¹¶è¿›å…¥ <code>/jetbra/scripts</code> æ–‡ä»¶å¤¹ã€‚åœ¨è¯¥æ–‡ä»¶å¤¹ä¸­ï¼Œæ‚¨éœ€è¦æ‰§è¡Œ <code>install.sh</code> è„šæœ¬ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‰§è¡Œè„šæœ¬ï¼š</li></ol><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo bash install.sh</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œè„šæœ¬æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸€ä¸ªé”™è¯¯ï¼Œé”™è¯¯ä¿¡æ¯å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sed: RE error: illegal byte sequence</span><br></pre></td></tr></table></figure><p>å¦‚æœå‡ºç°æ­¤é”™è¯¯ï¼Œè¯·åœ¨æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ä¹‹å‰æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">export LC_COLLATE=&#x27;C&#x27;</span><br><span class="line">export LC_CTYPE=&#x27;C&#x27;</span><br></pre></td></tr></table></figure><p>æ‰§è¡ŒæˆåŠŸåï¼Œæ‚¨å°†çœ‹åˆ° â€œdoneâ€ æç¤ºã€‚æ­¤æ—¶ï¼Œæ‚¨éœ€è¦é‡æ–°å¯åŠ¨æ‚¨çš„è®¡ç®—æœºã€‚</p><ol><li>æ¿€æ´» WebStormï¼šå½“æ‚¨çš„è®¡ç®—æœºé‡æ–°å¯åŠ¨åï¼Œæ‰“å¼€ WebStormã€‚æ¥ä¸‹æ¥ï¼Œæ‚¨éœ€è¦ä»ä»¥ä¸‹é“¾æ¥ä¸­è·å–æ¿€æ´»ç ï¼š<a href="https://ipfs.io/ipfs/bafybeiatyghkzrrtodzt3stm652rkrjxndg4hq2ublfdmifk7plg5k5brq/">https://ipfs.io/ipfs/bafybeiatyghkzrrtodzt3stm652rkrjxndg4hq2ublfdmifk7plg5k5brq/</a></li></ol><p>åœ¨è¯¥é¡µé¢ä¸Šï¼Œæ‰¾åˆ° WebStorm å¹¶ç‚¹å‡»å®ƒã€‚è¿™å°†è‡ªåŠ¨å¤åˆ¶æ¿€æ´»ç ã€‚æ¥ä¸‹æ¥ï¼Œæ‚¨éœ€è¦å°†æ¿€æ´»ç ç²˜è´´åˆ° WebStorm ä¸­çš„ â€œActivation codeâ€ æ ä¸­ã€‚æœ€åï¼Œç‚¹å‡» â€œActivateâ€ æŒ‰é’®ä»¥æ¿€æ´» WebStormã€‚</p><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><p>è¯·æ³¨æ„ï¼Œæ‚¨ç ´è§£åçš„ WebStorm æ˜¯ä¸å—æ”¯æŒçš„è½¯ä»¶ç‰ˆæœ¬ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼ŒJetBrains ä¸ä¼šä¸ºæ‚¨æä¾›æ”¯æŒã€‚æ­¤å¤–ï¼Œå¦‚æœæ‚¨çš„ WebStorm é‡å¤å¯åŠ¨ä»¥è·å–æ¿€æ´»çŠ¶æ€ï¼Œå®ƒå¯èƒ½ä¼šåœæ­¢å·¥ä½œã€‚å¦‚æœæ‚¨é‡åˆ°æ­¤é—®é¢˜ï¼Œè¯·å¸è½½å¹¶é‡æ–°å®‰è£… WebStormã€‚</p><p>æ­¤å¤–ï¼Œå¦‚æœæ‚¨åˆ é™¤äº†è§£å‹åçš„è¡¥ä¸åŒ…ï¼Œæ‚¨çš„ WebStorm ç ´è§£å°†æ— æ•ˆã€‚å› æ­¤ï¼Œè¯·ä¸è¦åˆ é™¤è¡¥ä¸æ–‡ä»¶å¤¹ï¼ï¼ï¼</p>]]></content>
      
      
      
        <tags>
            
            <tag> å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>for...in å’Œ for...ofæœ‰ä»€ä¹ˆåŒºåˆ«</title>
      <link href="/posts/22447.html"/>
      <url>/posts/22447.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="forâ€¦in-å’Œ-forâ€¦ofæœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#forâ€¦in-å’Œ-forâ€¦ofæœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="forâ€¦in å’Œ forâ€¦ofæœ‰ä»€ä¹ˆåŒºåˆ«"></a><code>forâ€¦in</code> å’Œ <code>forâ€¦of</code>æœ‰ä»€ä¹ˆåŒºåˆ«</h1><h2 id="forâ€¦in"><a href="#forâ€¦in" class="headerlink" title="forâ€¦in"></a>forâ€¦in</h2><h3 id="1-éå†æ•°ç»„"><a href="#1-éå†æ•°ç»„" class="headerlink" title="1.éå†æ•°ç»„"></a>1.éå†æ•°ç»„</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&quot;element1&quot;</span>, <span class="string">&quot;element2&quot;</span>, <span class="string">&quot;element3&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">in</span> arr) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ for in&quot;</span>, arr[item])</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡º element1 element2 element3</span></span><br></pre></td></tr></table></figure><h3 id="2-éå†å¯¹è±¡"><a href="#2-éå†å¯¹è±¡" class="headerlink" title="2.éå†å¯¹è±¡"></a>2.éå†å¯¹è±¡</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;obj&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ for in&quot;</span>, item, obj[item])</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">//  name obj</span></span><br><span class="line"><span class="comment">//  age 18</span></span><br></pre></td></tr></table></figure><blockquote><p>æ£€æµ‹æ˜¯å¦å¯æšä¸¾</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ &quot;</span>, <span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptor</span>(obj, <span class="string">&quot;name&quot;</span>))</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">//  &#123; value: &#x27;obj&#x27;, writable: true, enumerable: true, configurable: true &#125;</span></span><br><span class="line"><span class="comment">//  enumerable: true å¯æšä¸¾</span></span><br></pre></td></tr></table></figure></blockquote><h3 id="3-éå†å­—ç¬¦ä¸²"><a href="#3-éå†å­—ç¬¦ä¸²" class="headerlink" title="3.éå†å­—ç¬¦ä¸²"></a>3.éå†å­—ç¬¦ä¸²</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;hello!world&quot;</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">in</span> str) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ for in&quot;</span>, str[item])</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">//  h e l l o ! w o r l d</span></span><br></pre></td></tr></table></figure><h3 id="4-éå†å­—ç¬¦ä¸²ï¼ŒåŒ…å«unicodeå­—ç¬¦"><a href="#4-éå†å­—ç¬¦ä¸²ï¼ŒåŒ…å«unicodeå­—ç¬¦" class="headerlink" title="4.éå†å­—ç¬¦ä¸²ï¼ŒåŒ…å«unicodeå­—ç¬¦"></a>4.éå†å­—ç¬¦ä¸²ï¼ŒåŒ…å«unicodeå­—ç¬¦</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> str2 = <span class="string">&quot;ağ ®·c&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">in</span> str2) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ for in&quot;</span>, str2[item])</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">//  a ï¿½ ï¿½ c</span></span><br></pre></td></tr></table></figure><h3 id="5-éå†å¯¹è±¡ï¼Œçˆ¶ç±»å±æ€§ä¹Ÿä¼šéå†å‡ºæ¥"><a href="#5-éå†å¯¹è±¡ï¼Œçˆ¶ç±»å±æ€§ä¹Ÿä¼šéå†å‡ºæ¥" class="headerlink" title="5.éå†å¯¹è±¡ï¼Œçˆ¶ç±»å±æ€§ä¹Ÿä¼šéå†å‡ºæ¥"></a>5.éå†å¯¹è±¡ï¼Œçˆ¶ç±»å±æ€§ä¹Ÿä¼šéå†å‡ºæ¥</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fatter = &#123;</span><br><span class="line">  <span class="attr">fatherAttr</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> instance = <span class="title class_">Object</span>.<span class="title function_">create</span>(fatter)</span><br><span class="line"></span><br><span class="line">instance.<span class="property">a</span> = <span class="number">1</span>;</span><br><span class="line">instance.<span class="property">b</span> = <span class="number">2</span>;</span><br><span class="line">instance.<span class="property">c</span> = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> attr <span class="keyword">in</span> instance) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(attr, instance[attr])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">//  a 1</span></span><br><span class="line"><span class="comment">//  b 2</span></span><br><span class="line"><span class="comment">//  c 3</span></span><br><span class="line"><span class="comment">//  fatherAttr 1</span></span><br><span class="line"><span class="comment">// å°†åŸå‹é“¾ä¸Šçš„å±æ€§ä¹Ÿéå†å‡ºæ¥äº†</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ hasOwnProperty åˆ¤æ–­æ˜¯å¦æ˜¯è‡ªèº«å±æ€§</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> attr <span class="keyword">in</span> instance) &#123;</span><br><span class="line">  <span class="keyword">if</span> (instance.<span class="title function_">hasOwnProperty</span>(attr)) &#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(attr, instance[attr])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="forâ€¦of"><a href="#forâ€¦of" class="headerlink" title="forâ€¦of"></a>forâ€¦of</h2><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;ağ ®·c&#x27;</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> str) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(item)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">//  a ğ ®· c</span></span><br></pre></td></tr></table></figure><p><strong>éå†Map</strong></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>([[<span class="string">&quot;a&quot;</span>, <span class="number">1</span>], [<span class="string">&quot;b&quot;</span>, <span class="number">2</span>], [<span class="string">&quot;c&quot;</span>, <span class="number">3</span>]]);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> mapElement <span class="keyword">of</span> map) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(mapElement)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">//  [ &#x27;a&#x27;, 1 ] [ &#x27;b&#x27;, 2 ] [ &#x27;c&#x27;, 3 ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯è§£æ„</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> [key, value] <span class="keyword">of</span> map) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(key, value)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">//  a 1  b 2  c 3</span></span><br></pre></td></tr></table></figure><p><strong><code>Set</code>å’Œ<code>Array</code></strong></p><ul><li><code>entries()ã€keys()ã€values()</code> éƒ½è¿”å›ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡</li><li><code>entries()</code> è¿”å›å€¼ä¸ºé›†åˆçš„é”®å€¼å¯¹ <code>[[key, value], [key, value], [key, value]]</code>ï¼ˆå¯¹äºæ•°ç»„ï¼Œkey å°±æ˜¯ç´¢å¼•å€¼ï¼›å¯¹äº Setï¼Œkey å°±æ˜¯ valueï¼‰</li><li><code>keys()</code> è¿”å›å€¼ä¸ºé›†åˆçš„é”®å <code>[key, key, key]</code>ï¼ˆå¯¹äºæ•°ç»„ï¼Œkey å°±æ˜¯ç´¢å¼•å€¼ï¼›å¯¹äº Setï¼Œkey å°±æ˜¯ valueï¼‰</li><li><code>values()</code> è¿”å›å€¼ä¸ºé›†åˆçš„å€¼ <code>[value, value, value]</code></li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr2 = [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>];</span><br><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>(arr2);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.entries</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> entry <span class="keyword">of</span> set.<span class="title function_">entries</span>()) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(entry, <span class="string">&quot;entries&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">//  [ &#x27;a&#x27;, &#x27;a&#x27; ] [ &#x27;b&#x27;, &#x27;b&#x27; ] [ &#x27;c&#x27;, &#x27;c&#x27; ]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> arElement <span class="keyword">of</span> arr2.<span class="title function_">entries</span>()) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(arElement, <span class="string">&quot;arElement&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">//  [ 0, &#x27;a&#x27; ] [ 1, &#x27;b&#x27; ] [ 2, &#x27;c&#x27; ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.keys</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">of</span> set.<span class="title function_">keys</span>()) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(key, <span class="string">&quot;keys&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">//  a b c</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">of</span> arr2.<span class="title function_">keys</span>()) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(key, <span class="string">&quot;keys&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">//  0 1 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.values</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> value <span class="keyword">of</span> set.<span class="title function_">values</span>()) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(value, <span class="string">&quot;values&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">//  a b c</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> value <span class="keyword">of</span> arr2.<span class="title function_">values</span>()) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(value, <span class="string">&quot;values&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">//  a b c</span></span><br></pre></td></tr></table></figure><h2 id="forâ€¦in-å’Œ-forâ€¦of-çš„åŒºåˆ«"><a href="#forâ€¦in-å’Œ-forâ€¦of-çš„åŒºåˆ«" class="headerlink" title="forâ€¦in å’Œ forâ€¦of çš„åŒºåˆ«"></a>forâ€¦in å’Œ forâ€¦of çš„åŒºåˆ«</h2><div class="table-container"><table><thead><tr><th style="text-align:center">forâ€¦in</th><th style="text-align:center">forâ€¦of</th><th style="text-align:center"></th></tr></thead><tbody><tr><td style="text-align:center">key</td><td style="text-align:center">value</td><td style="text-align:center">ç»“æœ</td></tr><tr><td style="text-align:center">å¯æšä¸¾å±æ€§</td><td style="text-align:center">å¯è¿­ä»£å¯¹è±¡</td><td style="text-align:center">éå†</td></tr><tr><td style="text-align:center">éå†å¯¹è±¡</td><td style="text-align:center">éå†æ•°ç»„</td><td style="text-align:center">å¸¸ç”¨</td></tr></tbody></table></div><h2 id="æ‹“å±•æ“ä½œ"><a href="#æ‹“å±•æ“ä½œ" class="headerlink" title="æ‹“å±•æ“ä½œ"></a>æ‹“å±•æ“ä½œ</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> father = &#123;</span><br><span class="line">  <span class="attr">fatherAttr</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> instance = <span class="title class_">Object</span>.<span class="title function_">create</span>(father)</span><br><span class="line"></span><br><span class="line">instance.<span class="property">a</span> = <span class="number">1</span>;</span><br><span class="line">instance.<span class="property">b</span> = <span class="number">2</span>;</span><br><span class="line">instance.<span class="property">c</span> = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(instance, <span class="string">&quot;d&quot;</span>, &#123;</span><br><span class="line">  <span class="attr">value</span>: <span class="number">4</span>,</span><br><span class="line">  <span class="attr">enumerable</span>: <span class="literal">false</span>,  <span class="comment">// ä¸å¯æšä¸¾</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="1-Object-Keys-è·å–é”®åæ•°ç»„"><a href="#1-Object-Keys-è·å–é”®åæ•°ç»„" class="headerlink" title="1.Object.Keys è·å–é”®åæ•°ç»„"></a>1.Object.Keys è·å–é”®åæ•°ç»„</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">keys</span>(instance)) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(key, <span class="string">&quot;Object.keys&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">//  a b c</span></span><br></pre></td></tr></table></figure><blockquote><p><code>Object.keys</code> ä¸ä¼šéå†åŸå‹é“¾ä¸Šçš„å±æ€§ã€ä»¥åŠè‡ªèº«ä¸å¯æšä¸¾çš„å±æ€§</p><p><code>Object.keys</code> è¿”å›çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•</p></blockquote><ul><li><p>ps: <code>Object.keys</code> ä¸ <code>for in</code> çš„åŒºåˆ«</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> instanceKey <span class="keyword">in</span> instance) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(instanceKey, <span class="string">&quot;for in&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">//  a b c fatherAttr</span></span><br></pre></td></tr></table></figure><blockquote><p><code>for in</code> ä¼šéå†åŸå‹é“¾ä¸Šçš„å±æ€§ï¼Œä½†æ˜¯åŒæ ·ä¸ä¼šéå†è‡ªèº«ä¸å¯æšä¸¾çš„å±æ€§</p></blockquote></li></ul><h3 id="2-Object-getOwnPropertyNames-è·å–é”®åæ•°ç»„"><a href="#2-Object-getOwnPropertyNames-è·å–é”®åæ•°ç»„" class="headerlink" title="2.Object.getOwnPropertyNames() è·å–é”®åæ•°ç»„"></a>2.Object.getOwnPropertyNames() è·å–é”®åæ•°ç»„</h3><blockquote><p>Object.getOwnPropertyNames() ä¸ Object.keys() çš„åŒºåˆ«åœ¨äºï¼ŒObject.getOwnPropertyNames() ä¼šéå†è‡ªèº«ä¸å¯æšä¸¾çš„å±æ€§</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> instanceKey <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">getOwnPropertyNames</span>(instance)) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(instanceKey, <span class="string">&quot;Object.getOwnPropertyNames&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">//  a b c d</span></span><br></pre></td></tr></table></figure><h3 id="3-Object-entries-è·å–é”®å€¼å¯¹æ•°ç»„"><a href="#3-Object-entries-è·å–é”®å€¼å¯¹æ•°ç»„" class="headerlink" title="3.Object.entries() è·å–é”®å€¼å¯¹æ•°ç»„"></a>3.Object.entries() è·å–é”®å€¼å¯¹æ•°ç»„</h3><blockquote><p><code>Object.entries()</code> ä¸ä¼šéå†åŸå‹é“¾ä¸Šçš„å±æ€§å’Œè‡ªèº«ä¸å¯æšä¸¾çš„å±æ€§</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> instanceKey <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">entries</span>(instance)) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(instanceKey, <span class="string">&quot;Object.entries&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">//  [ &#x27;a&#x27;, 1 ] [ &#x27;b&#x27;, 2 ] [ &#x27;c&#x27;, 3 ]</span></span><br></pre></td></tr></table></figure><ul><li><p>ps: å½“ä½¿ç”¨å¯¹è±¡åˆå§‹åŒ–ä¸€ä¸ªMapå®ä¾‹ï¼Œå¯ä»¥ä½¿ç”¨<code>Object.entries()</code>æ¥åˆå§‹åŒ–</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: <span class="number">3</span>&#125;;</span><br><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>(<span class="title class_">Object</span>.<span class="title function_">entries</span>(obj));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map.<span class="title function_">get</span>(<span class="string">&quot;a&quot;</span>)) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="4-Object-values-è·å–å¯¹è±¡çš„å±æ€§å€¼æ•°ç»„"><a href="#4-Object-values-è·å–å¯¹è±¡çš„å±æ€§å€¼æ•°ç»„" class="headerlink" title="4.Object.values() è·å–å¯¹è±¡çš„å±æ€§å€¼æ•°ç»„"></a>4.Object.values() è·å–å¯¹è±¡çš„å±æ€§å€¼æ•°ç»„</h3><blockquote><p><code>Object.values()</code> ä¸ä¼šéå†åŸå‹é“¾ä¸Šçš„å±æ€§å’Œè‡ªèº«ä¸å¯æšä¸¾çš„å±æ€§</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> instanceKey <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">values</span>(instance)) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(instanceKey, <span class="string">&quot;Object.values&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">//  1 2 3</span></span><br></pre></td></tr></table></figure><h3 id="5-Object-getOwnPropertySymbols-è·å–Symbolå±æ€§å"><a href="#5-Object-getOwnPropertySymbols-è·å–Symbolå±æ€§å" class="headerlink" title="5.Object.getOwnPropertySymbols()è·å–Symbolå±æ€§å"></a>5.Object.getOwnPropertySymbols()è·å–Symbolå±æ€§å</h3><blockquote><p>ä¸Šé¢çš„æ–¹æ³•éƒ½æ— æ³•è·å–Symbolå±æ€§åï¼Œåªèƒ½é€šè¿‡<code>Object.getOwnPropertySymbols()</code>æ¥è·å–</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">instance[<span class="title class_">Symbol</span>(<span class="string">&quot;e&quot;</span>)] = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> instanceKey <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">getOwnPropertySymbols</span>(instance)) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(instanceKey, <span class="string">&quot;Object.getOwnPropertySymbols&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">//  Symbol(e)</span></span><br></pre></td></tr></table></figure><div class="reference-source"><span class="hidden-anchor" id="referfrom_[1]"></span><a class="reference-anchor" href="#referto_[1]">[1]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://juejin.cn/post/6844903724897271816">JavaScriptéªšæ“ä½œä¹‹éå†ã€æšä¸¾ä¸è¿­ä»£ï¼ˆä¸Šç¯‡ï¼‰</a></div><h2 id="ä»€ä¹ˆæ˜¯å¯æšä¸¾æ•°æ®å‘¢ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å¯æšä¸¾æ•°æ®å‘¢ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å¯æšä¸¾æ•°æ®å‘¢ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å¯æšä¸¾æ•°æ®å‘¢ï¼Ÿ</h2><p>ä¸¾ä¸ªä¾‹å­æ¥è¯´</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">x</span>: <span class="number">100</span> &#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä½¿ç”¨ <code>Object.getOwnPropertyDescriptors</code> æ–¹æ³•è·å–æŒ‡å®šå¯¹è±¡æ‰€æœ‰çš„è‡ªæœ‰å±æ€§çš„å±æ€§æè¿°ç¬¦ã€‚</p><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230726133156693.png" alt="æšä¸¾" style="zoom:50%;" /></p><p>è¿™æ—¶å€™å‘ç°ä»–çš„æ¯ä¸€ä¸ªå±æ€§ä¸­ enumerable éƒ½æ˜¯ trueï¼Œè¿™æ—¶å€™ä»–å°±æ˜¯å¯æšä¸¾çš„ã€‚</p><blockquote><p>å¦‚æœä¸€ä¸ªå±æ€§çš„<strong>enumerableä¸ºfalse</strong>ï¼Œä¸‹é¢ä¸‰ä¸ªæ“ä½œä¸ä¼šå–åˆ°è¯¥å±æ€§ã€‚</p><p>for..inå¾ªç¯</p><p>Object.keysæ–¹æ³•</p><p>JSON.stringifyæ–¹æ³•</p></blockquote><p>æ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹ å¯¹è±¡ã€æ•°ç»„ã€å­—ç¬¦ä¸²éƒ½æ˜¯å¯æšä¸¾çš„</p><h2 id="ä»€ä¹ˆæ˜¯å¯è¿­ä»£æ•°æ®å‘¢ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å¯è¿­ä»£æ•°æ®å‘¢ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å¯è¿­ä»£æ•°æ®å‘¢ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯<strong>å¯è¿­ä»£</strong>æ•°æ®å‘¢ï¼Ÿ</h2><p><strong>forâ€¦of</strong>ç”¨äº<strong>å¯è¿­ä»£</strong>çš„æ•°æ®ï¼Œå¦‚ï¼š</p><ul><li>æ•°ç»„</li><li>å­—ç¬¦ä¸²</li><li>Map</li><li>Set</li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br></pre></td></tr></table></figure><p>æ•°ç»„ä¸­æœ‰ä¸ª <code>Symbol.iterator</code>çš„å±æ€§ï¼š</p><ul><li>1.åªè¦ä¸€ä¸ªæ•°æ®å·²ç»å®ç°äº†Iteratoræ¥å£, é‚£ä¹ˆè¿™ä¸ªæ•°æ®å°±æœ‰ä¸€ä¸ªå«åš<code>[Symbol.iterator]</code>çš„å±æ€§</li><li>2.<code>[Symbol.iterator]</code>çš„å±æ€§ä¼šè¿”å›ä¸€ä¸ªå‡½æ•°</li><li>3.<code>[Symbol.iterator]</code>è¿”å›çš„å‡½æ•°æ‰§è¡Œä¹‹åä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡</li><li>4.<code>[Symbol.iterator]</code>å‡½æ•°è¿”å›çš„å¯¹è±¡ä¸­åˆä¸€ä¸ªåç§°å«åšnextçš„æ–¹æ³•</li><li>5.nextæ–¹æ³•æ¯æ¬¡æ‰§è¡Œéƒ½ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡<code>&#123;value: 1, done: false&#125;</code></li><li>6.è¿™ä¸ªå¯¹è±¡ä¸­å­˜å‚¨äº†å½“å‰å–å‡ºçš„æ•°æ®å’Œæ˜¯å¦å–å®Œäº†çš„æ ‡è®°</li></ul><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230726133554323.png" alt="è¿­ä»£" style="zoom:50%;" /></p><p>å°±ç±»ä¼¼è®¾è®¡æ¨¡å¼ä¸­çš„è¿­ä»£å™¨æ¨¡å¼ï¼š</p><p>ä¸æ–­æœ‰nextã€nextå»è°ƒç”¨ï¼š</p><ul><li>A next() =&gt; B</li><li>B next() =&gt; C</li><li>å¦‚æ­¤ å¦‚æ­¤</li></ul><p>äº†è§£äº†ä¸Šé¢çš„æƒ…å†µä¹‹åï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç†è§£ä»€ä¹ˆæ—¶å€™ç”¨ forâ€¦of ä»€ä¹ˆæ—¶å€™ç”¨ forâ€¦inï¼Ÿ</p><ul><li><strong>forâ€¦in</strong>å¯ä»¥ç”¨åœ¨<strong>å¯æšä¸¾</strong>çš„æ•°æ®</li><li><strong>forâ€¦of</strong>ç”¨äº<strong>å¯è¿­ä»£</strong>çš„æ•°æ®</li></ul><div class="reference-source"><span class="hidden-anchor" id="referfrom_[2]"></span><a class="reference-anchor" href="#referto_[2]">[2]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://juejin.cn/post/7104444342684614664">for...in å’Œ for...ofæœ‰ä»€ä¹ˆåŒºåˆ«</a></div>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vscodeæ’ä»¶æ¨è</title>
      <link href="/posts/12458.html"/>
      <url>/posts/12458.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ä¸€ã€åŸºç¡€çš„"><a href="#ä¸€ã€åŸºç¡€çš„" class="headerlink" title="ä¸€ã€åŸºç¡€çš„"></a>ä¸€ã€åŸºç¡€çš„</h2><h3 id="1ã€Auto-Rename-Tagâ­"><a href="#1ã€Auto-Rename-Tagâ­" class="headerlink" title="1ã€Auto Rename Tagâ­"></a>1ã€Auto Rename Tagâ­</h3><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230104135509199.png?x-oss-process=style/huyu" alt="image-20230104135509199"></p><blockquote><p><code>ä¿®æ”¹æ ‡ç­¾ä¼šåŒæ­¥ä¿®æ”¹</code></p></blockquote><h3 id="2ã€Auto-Import-ES6-TS-JSX-TSX"><a href="#2ã€Auto-Import-ES6-TS-JSX-TSX" class="headerlink" title="2ã€Auto Import - ES6, TS, JSX, TSX"></a>2ã€Auto Import - ES6, TS, JSX, TSX</h3><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230104135612575.png?x-oss-process=style/huyu" alt="image-20230104135612575"></p><blockquote><p>è‡ªåŠ¨æŸ¥æ‰¾ã€è§£æå¹¶ä¸ºæ‰€æœ‰å¯ç”¨å¯¼å…¥æä¾›ä»£ç æ“ä½œå’Œä»£ç å®Œæˆã€‚é€‚ç”¨äº JavaScript (ES6) å’Œ TypeScript (TS)</p></blockquote><h3 id="3ã€Code-Runnerâ­"><a href="#3ã€Code-Runnerâ­" class="headerlink" title="3ã€Code Runnerâ­"></a>3ã€Code Runnerâ­</h3><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/20230224171602.png?x-oss-process=style/huyu" alt="image-20230104135642398"></p><blockquote><p>å¿«é€Ÿè¿è¡Œ <code>è°ƒè¯•js</code></p></blockquote><h3 id="4ã€CSS-Peek"><a href="#4ã€CSS-Peek" class="headerlink" title="4ã€CSS Peek"></a>4ã€CSS Peek</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/working.gif" alt="working"></p><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/working.gif" alt=""></p><blockquote><p>è·³è½¬å¯¹åº” <code>css</code></p></blockquote><h3 id="5ã€DotENV"><a href="#5ã€DotENV" class="headerlink" title="5ã€DotENV"></a>5ã€DotENV</h3><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230104135834335.png?x-oss-process=style/huyu" alt="image-20230104135834335"></p><blockquote><p><code>é«˜äº®ENVæ–‡ä»¶</code></p></blockquote><h3 id="6ã€Error-Lens"><a href="#6ã€Error-Lens" class="headerlink" title="6ã€Error Lens"></a>6ã€Error Lens</h3><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/20230224171643.png?x-oss-process=style/huyu" alt="image-20230104135908882"></p><blockquote><p><code>æ˜¾ç¤ºé”™è¯¯</code></p></blockquote><h3 id="7ã€ESLint"><a href="#7ã€ESLint" class="headerlink" title="7ã€ESLint"></a>7ã€ESLint</h3><h3 id="8ã€GitLens-â€”-Git-superchargedâ­"><a href="#8ã€GitLens-â€”-Git-superchargedâ­" class="headerlink" title="8ã€GitLens â€” Git superchargedâ­"></a>8ã€GitLens â€” Git superchargedâ­</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230104135949372.png" alt="image-20230104135949372"></p><blockquote><p>åœ¨æ¯è¡Œä»£ç æŸ¥çœ‹ä»£ç æ˜¯è°ä¿®æ”¹çš„</p></blockquote><h3 id="9ã€JavaScript-ES6-code-snippets"><a href="#9ã€JavaScript-ES6-code-snippets" class="headerlink" title="9ã€JavaScript (ES6) code snippets"></a>9ã€JavaScript (ES6) code snippets</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230104140007707.png" alt="image-20230104140007707"></p><blockquote><p><code>ES6ä»£ç å—</code></p></blockquote><h3 id="10ã€jsdoc"><a href="#10ã€jsdoc" class="headerlink" title="10ã€jsdoc"></a>10ã€jsdoc</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230104140038243.png" alt="image-20230104140038243"></p><blockquote><p><code>å¿«é€Ÿç”Ÿæˆå‡½æ•°æ³¨é‡Š</code></p></blockquote><h3 id="11ã€npm-Intellisense"><a href="#11ã€npm-Intellisense" class="headerlink" title="11ã€npm Intellisense"></a>11ã€npm Intellisense</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230104140135028.png" alt="image-20230104140135028"></p><blockquote><p>æ™ºèƒ½npmå¼•å…¥ &gt;&gt;&gt; æ²¡å•¥ç”¨</p></blockquote><h3 id="12ã€open-in-browser"><a href="#12ã€open-in-browser" class="headerlink" title="12ã€open in browser"></a>12ã€open in browser</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230104140224748.png" alt="image-20230104140224748"></p><blockquote><p>CTRL + B åœ¨<code>æµè§ˆå™¨æ‰“å¼€</code></p></blockquote><h3 id="13ã€Path-Intellisenseâ­"><a href="#13ã€Path-Intellisenseâ­" class="headerlink" title="13ã€Path Intellisenseâ­"></a>13ã€Path Intellisenseâ­</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230104140257877.png" alt="image-20230104140257877"></p><blockquote><p>æ™ºèƒ½<code>è·¯å¾„</code>å¼•å…¥</p></blockquote><h3 id="14ã€Prettier-Code-formatter"><a href="#14ã€Prettier-Code-formatter" class="headerlink" title="14ã€Prettier - Code formatter"></a>14ã€Prettier - Code formatter</h3><h3 id="15ã€Smart-Click"><a href="#15ã€Smart-Click" class="headerlink" title="15ã€Smart Click"></a>15ã€Smart Click</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230104140336602.png" alt="image-20230104140336602"></p><blockquote><p><code>åŒå‡»æ ‡ç­¾ï¼Œé€‰ä¸­æ ‡ç­¾åŒ…è£¹çš„å†…å®¹</code></p></blockquote><h3 id="16ã€Tabnine-AIâ­â­"><a href="#16ã€Tabnine-AIâ­â­" class="headerlink" title="16ã€Tabnine AIâ­â­"></a>16ã€Tabnine AIâ­â­</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230104140439218.png" alt="image-20230104140439218"></p><blockquote><p><code>ä»£ç æç¤º</code></p></blockquote><h3 id="17ã€Turbo-Console-Log"><a href="#17ã€Turbo-Console-Log" class="headerlink" title="17ã€Turbo Console Log"></a>17ã€Turbo Console Log</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230104140506060.png" alt="image-20230104140506060"></p><blockquote><p>å¿«é€Ÿé«˜æ•ˆçš„<code>Console Log</code></p></blockquote><h3 id="18ã€vscode-extension-for-ECharts"><a href="#18ã€vscode-extension-for-ECharts" class="headerlink" title="18ã€vscode extension for ECharts"></a>18ã€vscode extension for ECharts</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230104140608693.png" alt="image-20230104140608693"></p><blockquote><p>æ™ºèƒ½æç¤º <code>echarts</code>çš„ options</p></blockquote><h3 id="19ã€vscode-element-helper"><a href="#19ã€vscode-element-helper" class="headerlink" title="19ã€vscode-element-helper"></a>19ã€vscode-element-helper</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230104140635575.png" alt="image-20230104140635575"></p><blockquote><p>æ™ºèƒ½æç¤º<code>element-ui</code></p></blockquote><h3 id="20ã€path-alias"><a href="#20ã€path-alias" class="headerlink" title="20ã€path-alias"></a>20ã€path-alias</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230104140717079.png" alt="image-20230104140717079"></p><blockquote><p>ä¸€ä¸ªå¯ä»¥è§£å†³è·¯å¾„åˆ«åæç¤ºï¼Œè·³è½¬çš„vscodeæ’ä»¶ &gt;&gt;&gt; æˆ‘æµ‹è¯•çš„æ—¶å€™æ²¡å•¥ç”¨</p></blockquote><h3 id="21ã€i18n-Allyâ­"><a href="#21ã€i18n-Allyâ­" class="headerlink" title="21ã€i18n Allyâ­"></a>21ã€i18n Allyâ­</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230105102945850.png" alt="image-20230105102945850"></p><blockquote><p>i18næ’ä»¶ï¼Œå®æ—¶é¢„è§ˆï¼Œéå¸¸çš„å¥½ç”¨,</p><p>è®°å¾—åœ¨settings.jsonä¸­é…ç½®ä¸‹é¢çš„ä»£ç </p></blockquote><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;i18n-ally.localesPaths&quot;</span><span class="punctuation">:</span> <span class="string">&quot;locales&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;i18n-ally.keystyle&quot;</span><span class="punctuation">:</span> <span class="string">&quot;nested&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;i18n-ally.sortKeys&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;i18n-ally.namespace&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;i18n-ally.enabledParsers&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;yaml&quot;</span><span class="punctuation">,</span> <span class="string">&quot;js&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;i18n-ally.sourceLanguage&quot;</span><span class="punctuation">:</span> <span class="string">&quot;en&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;i18n-ally.displayLanguage&quot;</span><span class="punctuation">:</span> <span class="string">&quot;zh-CN&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;i18n-ally.enabledFrameworks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;vue&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="22ã€Tailwind-CSS-IntelliSense"><a href="#22ã€Tailwind-CSS-IntelliSense" class="headerlink" title="22ã€Tailwind CSS IntelliSense"></a>22ã€Tailwind CSS IntelliSense</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230105145048207.png" alt="ä¸‹è½½Tailwind CSS"></p><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230105145216511.png" alt="Tailwind CSSæ•ˆæœ"></p><blockquote><p>æ™ºèƒ½æç¤º <code>Tailwind CSS</code>è¯­æ³•</p></blockquote><h3 id="23ã€vue-helper"><a href="#23ã€vue-helper" class="headerlink" title="23ã€vue-helper"></a>23ã€vue-helper</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230107085841024.png" alt="image-20230107085841024"></p><blockquote><p>Vue2 ç»„ä»¶è·³è½¬æºç  åŒ…æ‹¬ Element-UI å’Œ vux å’Œ iViewï¼Œä¹Ÿå¯ä»¥æ¯”å¦‚è¾“å…¥el-tableï¼Œå¯ä»¥ç”Ÿæˆä¸€ä¸ªéª¨æ¶</p></blockquote><h3 id="24ã€JSON-to-TS"><a href="#24ã€JSON-to-TS" class="headerlink" title="24ã€JSON to TS"></a>24ã€JSON to TS</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230107144600771.png" alt="image-20230107144600771"></p><blockquote><p>Jsonæ•°æ®ä¸€é”®è½¬Ts</p></blockquote><h2 id="äºŒã€Vueç›¸å…³çš„"><a href="#äºŒã€Vueç›¸å…³çš„" class="headerlink" title="äºŒã€Vueç›¸å…³çš„"></a>äºŒã€Vueç›¸å…³çš„</h2><h3 id="1ã€Vue-3-Snippets"><a href="#1ã€Vue-3-Snippets" class="headerlink" title="1ã€Vue 3 Snippets"></a>1ã€Vue 3 Snippets</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230104140836503.png" alt="image-20230104140836503"></p><blockquote><p>è¿™ä¸ªæ’ä»¶åŸºäºæœ€æ–°çš„ Vue 2 åŠ Vue 3 çš„ API æ·»åŠ äº† Code Snippetsï¼ˆä»£ç ç‰‡æ®µï¼‰ã€‚</p></blockquote><h3 id="2ã€Vue-VSCode-Snippets"><a href="#2ã€Vue-VSCode-Snippets" class="headerlink" title="2ã€Vue VSCode Snippets"></a>2ã€Vue VSCode Snippets</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230104140944234.png" alt="image-20230104140944234"></p><blockquote><p>ä¹Ÿæ˜¯ä¸€ä¸ªvueçš„ä»£ç ç‰‡æ®µ</p></blockquote><h3 id="3ã€vue-component"><a href="#3ã€vue-component" class="headerlink" title="3ã€vue-component"></a>3ã€vue-component</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230104141005999.png" alt="image-20230104141005999"></p><blockquote><p>æ™ºèƒ½å¼•å…¥è‡ªå·±å†™çš„ç»„ä»¶ + è·³è½¬ç»„ä»¶ &gt;&gt;&gt; è¯¦æƒ…å»çœ‹å®˜æ–¹è¯´æ˜</p></blockquote><h3 id="4ã€Vuterâ­â­â­"><a href="#4ã€Vuterâ­â­â­" class="headerlink" title="4ã€Vuterâ­â­â­"></a>4ã€Vuterâ­â­â­</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230104141142220.png" alt="image-20230104141142220"></p><blockquote><p><strong>vue2é¡¹ç›®å¿…å¼€æ’ä»¶</strong></p><p><strong>æ³¨æ„ï¼ï¼ï¼å†™ Vue2 é¡¹ç›®ä½¿ç”¨<code>Vuter</code>, å†™ Vue3 é¡¹ç›® ç”¨ <code>Volar</code>, ä¸¤ä¸ªæ’ä»¶ä¸å¯ä»¥å…±åŒä½¿ç”¨ï¼Œå¦åˆ™ä¼šå†²çªæŠ¥é”™ï¼ï¼ï¼</strong></p></blockquote><h3 id="5ã€Vue-Language-Features-Volar-â­â­â­"><a href="#5ã€Vue-Language-Features-Volar-â­â­â­" class="headerlink" title="5ã€Vue Language Features (Volar)â­â­â­"></a>5ã€Vue Language Features (Volar)â­â­â­</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230104141249104.png" alt="image-20230104141249104"></p><blockquote><p><strong>vue3é¡¹ç›®å¿…å¼€æ’ä»¶</strong></p></blockquote><h3 id="6ã€TypeScript-Vue-Plugin-Volar"><a href="#6ã€TypeScript-Vue-Plugin-Volar" class="headerlink" title="6ã€TypeScript Vue Plugin (Volar)"></a>6ã€TypeScript Vue Plugin (Volar)</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230104141445500.png" alt="image-20230104141445500"></p><blockquote><p>ä¹Ÿæ˜¯Vue3é¡¹ç›®ä½¿ç”¨çš„æ’ä»¶ï¼Œå…·ä½“å•¥åŠŸèƒ½æˆ‘ä¹Ÿæ²¡å»çœ‹</p></blockquote><h2 id="ä¸‰ã€ç¾åŒ–"><a href="#ä¸‰ã€ç¾åŒ–" class="headerlink" title="ä¸‰ã€ç¾åŒ–"></a>ä¸‰ã€ç¾åŒ–</h2><h3 id="1ã€Material-Icon-Themeâ­"><a href="#1ã€Material-Icon-Themeâ­" class="headerlink" title="1ã€Material Icon Themeâ­"></a>1ã€Material Icon Themeâ­</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230104140115548.png" alt="image-20230104140115548"></p><blockquote><p>å›¾æ ‡</p></blockquote><h3 id="2ã€Vitesse-Themeâ­â­â­"><a href="#2ã€Vitesse-Themeâ­â­â­" class="headerlink" title="2ã€Vitesse Themeâ­â­â­"></a>2ã€Vitesse Themeâ­â­â­</h3><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20230104140554217.png" alt="image-20230104140554217"></p><blockquote><p>ä¸»é¢˜ &gt;&gt;&gt; æ¨èä½¿ç”¨ <code>Vitesse Dark Soft</code></p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å¤–æŒ‚æ ‡ç­¾</title>
      <link href="/posts/34759.html"/>
      <url>/posts/34759.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class="reference-source"><span class="hidden-anchor" id="referfrom_[1]"></span><a class="reference-anchor" href="#referto_[1]">[1]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://niaobulashi.com/2021/05/17/2021-05-17-butterfly-tag-plugins-plus/#%E4%B8%8A%E6%A0%87%E6%A0%87%E7%AD%BE-tip">åŸºäº Butterfly çš„å¤–æŒ‚æ ‡ç­¾å¼•å…¥</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[2]"></span><a class="reference-anchor" href="#referto_[2]">[2]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://www.cnblogs.com/niaobulashi/p/16085666.html">åŸºäº Butterfly çš„å¤–æŒ‚æ ‡ç­¾å¼•å…¥æºç ç‰ˆ</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[3]"></span><a class="reference-anchor" href="#referto_[3]">[3]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://akilar.top/posts/615e2dec/#%E5%BC%95%E7%94%A8-note">Tag Plugins Plus | Akilarã®ç³–æœå±‹</a></div><h2 id="è¡Œå†…æ–‡æœ¬æ ·å¼-text"><a href="#è¡Œå†…æ–‡æœ¬æ ·å¼-text" class="headerlink" title="è¡Œå†…æ–‡æœ¬æ ·å¼ text"></a>è¡Œå†…æ–‡æœ¬æ ·å¼ text</h2><ol><li>å¸¦ <u>ä¸‹åˆ’çº¿</u> çš„æ–‡æœ¬</li><li>å¸¦ <emp>ç€é‡å·</emp> çš„æ–‡æœ¬</li><li>å¸¦ <wavy>æ³¢æµªçº¿</wavy> çš„æ–‡æœ¬</li><li>å¸¦ <del>åˆ é™¤çº¿</del> çš„æ–‡æœ¬</li><li>é”®ç›˜æ ·å¼çš„æ–‡æœ¬ <kbd>command</kbd> + <kbd>D</kbd></li><li>å¯†ç æ ·å¼çš„æ–‡æœ¬ï¼š<psw>è¿™é‡Œæ²¡æœ‰éªŒè¯ç </psw></li></ol><h2 id="è¡Œå†…æ–‡æœ¬-span"><a href="#è¡Œå†…æ–‡æœ¬-span" class="headerlink" title="è¡Œå†…æ–‡æœ¬ span"></a>è¡Œå†…æ–‡æœ¬ span</h2><ul><li>å½©è‰²æ–‡å­—<br>åœ¨ä¸€æ®µè¯ä¸­æ–¹ä¾¿æ’å…¥å„ç§é¢œè‰²çš„æ ‡ç­¾ï¼ŒåŒ…æ‹¬ï¼š<span class='p red'>çº¢è‰²</span><span class='p yellow'>é»„è‰²</span><span class='p green'>ç»¿è‰²</span><span class='p cyan'>é’è‰²</span><span class='p blue'>è“è‰²</span><span class='p gray'>ç°è‰²</span></li><li>è¶…å¤§å·æ–‡å­—<br>æ–‡æ¡£ã€Œå¼€å§‹ã€é¡µé¢ä¸­çš„æ ‡é¢˜éƒ¨åˆ†å°±æ˜¯è¶…å¤§å·æ–‡å­—ã€‚<span class='p center logo large'>Volantis</span><span class='p center small'>A Wonderful Theme for Hexo</span></li></ul><h2 id="æ®µè½æ–‡æœ¬-p"><a href="#æ®µè½æ–‡æœ¬-p" class="headerlink" title="æ®µè½æ–‡æœ¬ p"></a>æ®µè½æ–‡æœ¬ p</h2><ul><li>å½©è‰²æ–‡å­—<br>åœ¨ä¸€æ®µè¯ä¸­æ–¹ä¾¿æ’å…¥å„ç§é¢œè‰²çš„æ ‡ç­¾ï¼ŒåŒ…æ‹¬ï¼š<p class='p red'>çº¢è‰²</p><p class='p yellow'>é»„è‰²</p><p class='p green'>ç»¿è‰²</p><p class='p cyan'>é’è‰²</p><p class='p blue'>è“è‰²</p><p class='p gray'>ç°è‰²</p></li><li>è¶…å¤§å·æ–‡å­—<br>æ–‡æ¡£ã€Œå¼€å§‹ã€é¡µé¢ä¸­çš„æ ‡é¢˜éƒ¨åˆ†å°±æ˜¯è¶…å¤§å·æ–‡å­—ã€‚<p class='p center logo large'>Volantis</p><p class='p center small'>A Wonderful Theme for Hexo</p></li></ul><h2 id="ä¸Šæ ‡æ ‡ç­¾-tip"><a href="#ä¸Šæ ‡æ ‡ç­¾-tip" class="headerlink" title="ä¸Šæ ‡æ ‡ç­¾ tip"></a>ä¸Šæ ‡æ ‡ç­¾ tip</h2><div class="tip "><p>é»˜è®¤æƒ…å†µ</p></div><div class="tip success"><p>success</p></div><div class="tip error"><p>error</p></div><div class="tip warning"><p>warning</p></div><div class="tip bolt"><p>bolt</p></div><div class="tip ban"><p>ban</p></div><div class="tip home"><p>home</p></div><div class="tip sync"><p>sync</p></div><div class="tip cogs"><p>cogs</p></div><div class="tip key"><p>key</p></div><div class="tip bell"><p>bell</p></div><div class="tip fa-atom"><p>è‡ªå®šä¹‰font awesomeå›¾æ ‡</p></div><h2 id="å•å¼ å›¾ç‰‡-image"><a href="#å•å¼ å›¾ç‰‡-image" class="headerlink" title="å•å¼ å›¾ç‰‡ image"></a>å•å¼ å›¾ç‰‡ image</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;% image é“¾æ¥, width=å®½åº¦ï¼ˆå¯é€‰ï¼‰, height=é«˜åº¦ï¼ˆå¯é€‰ï¼‰, alt=æè¿°ï¼ˆå¯é€‰ï¼‰, bg=å ä½é¢œè‰²ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/1292433.webp?x-oss-process=style/huyu"/></div></div><h2 id="åˆ†æ -tab"><a href="#åˆ†æ -tab" class="headerlink" title="åˆ†æ  tab"></a>åˆ†æ  tab</h2><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">test1 1</button></li><li class="tab"><button type="button" data-href="#test1-2">test1 2</button></li><li class="tab"><button type="button" data-href="#test1-3">test1 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">ç¬¬ä¸€ä¸ªTab</button></li><li class="tab"><button type="button" data-href="#test4-2"><i class="fab fa-apple-pay" style="text-align: center;"></i></button></li><li class="tab"><button type="button" data-href="#test4-3"><i class="fas fa-bomb"></i>ç‚¸å¼¹</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p><strong>tabåå­—ä¸ºç¬¬ä¸€ä¸ªTab</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><p><strong>åªæœ‰å›¾æ ‡ æ²¡æœ‰Tabåå­—</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-3"><p><strong>åå­—+icon</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="åŠ¨æ€æ ‡ç­¾-animation"><a href="#åŠ¨æ€æ ‡ç­¾-animation" class="headerlink" title="åŠ¨æ€æ ‡ç­¾ animation"></a>åŠ¨æ€æ ‡ç­¾ animation</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">On DOM loadï¼ˆå½“é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºåŠ¨ç”»ï¼‰</span><br><span class="line">&#123;% tip warning faa-horizontal animated %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated %&#125;ban&#123;% endtip %&#125;</span><br><span class="line">è°ƒæ•´åŠ¨ç”»é€Ÿåº¦</span><br><span class="line">&#123;% tip warning faa-horizontal animated faa-fast %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated faa-slow %&#125;ban&#123;% endtip %&#125;</span><br><span class="line">On hoverï¼ˆå½“é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºåŠ¨ç”»ï¼‰</span><br><span class="line">&#123;% tip warning faa-horizontal animated-hover %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated-hover %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><h2 id="é“¾æ¥å¡ç‰‡-link"><a href="#é“¾æ¥å¡ç‰‡-link" class="headerlink" title="é“¾æ¥å¡ç‰‡ link"></a>é“¾æ¥å¡ç‰‡ link</h2><div class="tag link"><a class="link-card" title="é¸Ÿä¸æ‹‰è¯—" href="https://niaobulashi.com/"><div class="left"><img src="https://niaobulashi.com/favicon.ico"/></div><div class="right"><p class="text">é¸Ÿä¸æ‹‰è¯—</p><p class="url">https://niaobulashi.com/</p></div></a></div><h2 id="å¼•ç”¨æ–‡çŒ®"><a href="#å¼•ç”¨æ–‡çŒ®" class="headerlink" title="å¼•ç”¨æ–‡çŒ®"></a>å¼•ç”¨æ–‡çŒ®</h2><p>Akilarã®ç³–æœå±‹(akilar.top)æ˜¯ä¸€ä¸ªç§äººæ€§è´¨çš„åšå®¢<span class="hidden-anchor" id="referto_[1]"></span><sup class="reference"><a href="#referfrom_[1]">[1]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Akilarã®ç³–æœå±‹ç¾¤èŠç®€ä»‹</span><span class="reference-title">å‚è€ƒèµ„æ–™</span></span></span>ï¼Œä»å„ç±»æ•™ç¨‹è‡³ç”Ÿæ´»ç‚¹æ»´ï¼Œæ— è¯ä¸è°ˆã€‚å»ºç¾¤çš„ç›®çš„æ˜¯æä¾›ä¸€ä¸ªé—²èŠçš„åœºæ‰€ã€‚åšå®¢é‡‡ç”¨Hexoæ¡†æ¶<span class="hidden-anchor" id="referto_[2]"></span><sup class="reference"><a href="#referfrom_[2]">[2]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Hexoä¸­æ–‡æ–‡æ¡£</span><span class="reference-title">å‚è€ƒèµ„æ–™</span></span></span>ï¼ŒButterflyä¸»é¢˜<span class="hidden-anchor" id="referto_[3]"></span><sup class="reference"><a href="#referfrom_[3]">[3]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Butterfly å®‰è£…æ–‡æ¡£(ä¸€) å¿«é€Ÿå¼€å§‹</span><span class="reference-title">å‚è€ƒèµ„æ–™</span></span></span></p><p>æœ¬é¡¹ç›®å‚è€ƒäº†Volantis<span class="hidden-anchor" id="referto_[4]"></span><sup class="reference"><a href="#referfrom_[4]">[4]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">hexo-theme-volantis æ ‡ç­¾æ’ä»¶</span><span class="reference-title">å‚è€ƒèµ„æ–™</span></span></span>çš„æ ‡ç­¾æ ·å¼ã€‚å¼•å…¥<code>[tag].js</code>ï¼Œå¹¶é’ˆå¯¹<code>butterfly</code>ä¸»é¢˜ä¿®æ”¹äº†ç›¸åº”çš„<code>[tag].styl</code>ã€‚åœ¨æ­¤é¸£è°¢<code>Volantis</code>ä¸»é¢˜ä¼—å¼€å‘è€…ã€‚<br>ä¸»è¦å‚è€ƒå†…å®¹åŒ…æ‹¬å„ä¸ªvolantisçš„å†…ç½®æ ‡ç­¾æ’ä»¶æ–‡æ¡£<span class="hidden-anchor" id="referto_[5]"></span><sup class="reference"><a href="#referfrom_[5]">[5]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Volantisæ–‡æ¡£:å†…ç½®æ ‡ç­¾æ’ä»¶</span><span class="reference-title">å‚è€ƒèµ„æ–™</span></span></span><br>Butterflyä¸»é¢˜çš„å„ä¸ªè¡ç”Ÿé­”æ”¹<span class="hidden-anchor" id="referto_[6]"></span><sup class="reference"><a href="#referfrom_[6]">[6]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Butterfly å®‰è£…æ–‡æ¡£:æ ‡ç­¾å¤–æŒ‚ï¼ˆTag Plugins</span><span class="reference-title">å‚è€ƒèµ„æ–™</span></span></span><span class="hidden-anchor" id="referto_[7]"></span><sup class="reference"><a href="#referfrom_[7]">[7]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">å°å¼‹ã®ç”Ÿæ´»é¦†å…¨æ ·å¼é¢„è§ˆ</span><span class="reference-title">å‚è€ƒèµ„æ–™</span></span></span><span class="hidden-anchor" id="referto_[8]"></span><sup class="reference"><a href="#referfrom_[8]">[8]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">l-lin-font-awesome-animation</span><span class="reference-title">å‚è€ƒèµ„æ–™</span></span></span><span class="hidden-anchor" id="referto_[9]"></span><sup class="reference"><a href="#referfrom_[9]">[9]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">å°åº·çš„butterflyä¸»é¢˜ä½¿ç”¨æ–‡æ¡£</span><span class="reference-title">å‚è€ƒèµ„æ–™</span></span></span></p><div class="reference-source"><span class="hidden-anchor" id="referfrom_[1]"></span><a class="reference-anchor" href="#referto_[1]">[1]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://jq.qq.com/?_wv=1027&k=pGLB2C0N">Akilarã®ç³–æœå±‹ç¾¤èŠç®€ä»‹</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[2]"></span><a class="reference-anchor" href="#referto_[2]">[2]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://hexo.io/zh-cn/docs/">Hexoä¸­æ–‡æ–‡æ¡£</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[3]"></span><a class="reference-anchor" href="#referto_[3]">[3]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://butterfly.js.org/posts/21cfbf15/">Butterfly å®‰è£…æ–‡æ¡£(ä¸€) å¿«é€Ÿå¼€å§‹</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[4]"></span><a class="reference-anchor" href="#referto_[4]">[4]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://volantis.js.org/v5/tag-plugins/">hexo-theme-volantis æ ‡ç­¾æ’ä»¶</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[5]"></span><a class="reference-anchor" href="#referto_[5]">[5]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://volantis.js.org/tag-plugins/">Volantisæ–‡æ¡£:å†…ç½®æ ‡ç­¾æ’ä»¶</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[6]"></span><a class="reference-anchor" href="#referto_[6]">[6]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://butterfly.js.org/posts/4aa8abbe/#%E6%A8%99%E7%B1%A4%E5%A4%96%E6%8E%9B%EF%BC%88Tag-Plugins%EF%BC%89">Butterfly å®‰è£…æ–‡æ¡£:æ ‡ç­¾å¤–æŒ‚ï¼ˆTag Plugins</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[7]"></span><a class="reference-anchor" href="#referto_[7]">[7]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://lovelijunyi.gitee.io/posts/c898.html">å°å¼‹ã®ç”Ÿæ´»é¦†å…¨æ ·å¼é¢„è§ˆ</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[8]"></span><a class="reference-anchor" href="#referto_[8]">[8]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://github.com/l-lin/font-awesome-animation">l-lin-font-awesome-animation</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[9]"></span><a class="reference-anchor" href="#referto_[9]">[9]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://www.antmoe.com/posts/3b43914f/">å°åº·çš„butterflyä¸»é¢˜ä½¿ç”¨æ–‡æ¡£</a></div><h2 id="è¿›åº¦æ¡"><a href="#è¿›åº¦æ¡" class="headerlink" title="è¿›åº¦æ¡"></a>è¿›åº¦æ¡</h2><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-red"  style="width: 10%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"><p>è¿›åº¦æ¡æ ·å¼é¢„è§ˆ</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-yellow"  style="width: 30%" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"><p>è¿›åº¦æ¡æ ·å¼é¢„è§ˆ</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-green"  style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"><p>è¿›åº¦æ¡æ ·å¼é¢„è§ˆ</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-cyan"  style="width: 70%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"><p>è¿›åº¦æ¡æ ·å¼é¢„è§ˆ</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-blue"  style="width: 90%" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"><p>è¿›åº¦æ¡æ ·å¼é¢„è§ˆ</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-gray"  style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"><p>è¿›åº¦æ¡æ ·å¼é¢„è§ˆ</p></div></div><h2 id="æŠ˜å æ¡†"><a href="#æŠ˜å æ¡†" class="headerlink" title="æŠ˜å æ¡†"></a>æŠ˜å æ¡†</h2><details class="folding-tag" ><summary> æŸ¥çœ‹å›¾ç‰‡æµ‹è¯• </summary>              <div class='content'>              <p><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg" alt=""></p>              </div>            </details><details class="folding-tag" cyan open><summary> æŸ¥çœ‹é»˜è®¤æ‰“å¼€çš„æŠ˜å æ¡† </summary>              <div class='content'>              <p>è¿™æ˜¯ä¸€ä¸ªé»˜è®¤æ‰“å¼€çš„æŠ˜å æ¡†ã€‚</p>              </div>            </details><details class="folding-tag" green><summary> æŸ¥çœ‹ä»£ç æµ‹è¯• </summary>              <div class='content'>              <p>å‡è£…è¿™é‡Œæœ‰ä»£ç å—ï¼ˆä»£ç å—æ²¡æ³•åµŒå¥—ä»£ç å—ï¼‰</p>              </div>            </details><details class="folding-tag" yellow><summary> æŸ¥çœ‹åˆ—è¡¨æµ‹è¯• </summary>              <div class='content'>              <ul><li>haha</li><li>hehe</li></ul>              </div>            </details><details class="folding-tag" red><summary> æŸ¥çœ‹åµŒå¥—æµ‹è¯• </summary>              <div class='content'>              <details class="folding-tag" blue><summary> æŸ¥çœ‹åµŒå¥—æµ‹è¯•2 </summary>              <div class='content'>              <details class="folding-tag" ><summary> æŸ¥çœ‹åµŒå¥—æµ‹è¯•3 </summary>              <div class='content'>              <p>hahaha <span><img src='https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/tieba/%E6%BB%91%E7%A8%BD.png' style='height:24px'></span></p>              </div>            </details>              </div>            </details>              </div>            </details>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ChatGPTä¿å§†çº§æ³¨å†Œæ•™ç¨‹</title>
      <link href="/posts/64859.html"/>
      <url>/posts/64859.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class="tip warning"><p>æ³¨å†Œéœ€è¦ç§‘å­¦ä¸Šç½‘ï¼Œå¹¶ä¸”å¯¹èŠ‚ç‚¹çš„è¦æ±‚æ¯”è¾ƒé«˜ï¼Œä¸ä¼šç§‘å­¦ä¸Šç½‘çš„å¯ä»¥è‡ªè¡ŒGoogleï¼Œæˆ–è€…çœ‹æˆ‘ä¹‹å‰çš„æ•™ç¨‹<br>é“¾æ¥åœ¨æ­¤ï¼š<a href="https://www.aliyundrive.com/s/DcsNu5Lz8Lu">https://www.aliyundrive.com/s/DcsNu5Lz8Lu</a>  &gt;&gt;&gt; æ­¤é“¾æ¥ä¸ºé˜¿é‡Œäº‘ç›˜çš„é“¾æ¥</p></div><div class="tip warning"><p>æœºåœºæ¨èï¼š <a href="https://www.huyu001.top/tools/vpn/">https://www.huyu001.top/tools/vpn/</a></p></div><div class="tip "><p>ä»¥ä¸‹æ“ä½œéœ€è¦æ–°å»ºä¸€ä¸ªæ— ç—•çš„æµè§ˆå™¨çª—å£è¿›è¡Œæ“ä½œ</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230224094339443.png?x-oss-process=style/huyu"/></div></div></div><h2 id="æ³¨å†Œæ­¥éª¤"><a href="#æ³¨å†Œæ­¥éª¤" class="headerlink" title="æ³¨å†Œæ­¥éª¤"></a>æ³¨å†Œæ­¥éª¤</h2><h3 id="æ¥ç å¹³å°æ³¨å†Œ"><a href="#æ¥ç å¹³å°æ³¨å†Œ" class="headerlink" title="æ¥ç å¹³å°æ³¨å†Œ"></a>æ¥ç å¹³å°æ³¨å†Œ</h3><blockquote><p>æ³¨å†Œæ‰‹æœºå·éœ€è¦å›½å¤–çš„æ‰‹æœºå·ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰¾ä¸€ä¸‹èƒ½å¤Ÿæ¥æ”¶éªŒè¯ç çš„å›½å¤–æ‰‹æœºå·ï¼Œå¯ä»¥ä½¿ç”¨ <a href="https://sms-activate.org/">https://sms-activate.org/</a> è¿™ä¸ªç½‘ç«™è¿›è¡Œæ³¨å†Œ</p></blockquote><p>1ã€è¿›å…¥  <a href="https://sms-activate.org/">https://sms-activate.org/</a> æ³¨å†Œä¸€ä¸ªè´¦å·</p><p>2ã€è´¦æˆ·ä½™é¢å……å€¼</p><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230224094715010.png?x-oss-process=style/huyu" alt="image-20230224094715010"></p><blockquote><p>é€‰æ‹©æ”¯ä»˜å®ï¼Œå……å€¼1ç¾å…ƒ</p><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230224094739032.png?x-oss-process=style/huyu" alt="image-20230224094739032"></p></blockquote><h3 id="æ³¨å†ŒChatGPT"><a href="#æ³¨å†ŒChatGPT" class="headerlink" title="æ³¨å†ŒChatGPT"></a>æ³¨å†ŒChatGPT</h3><ul><li>å…ˆæŠŠèŠ‚ç‚¹å¼€åˆ°å…¨å±€ global</li></ul><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230224094942413.png?x-oss-process=style/huyu" alt="image-20230224094942413" style="zoom:67%;" /></p><ul><li>æ‰“å¼€ <a href="https://beta.openai.com/signup">https://beta.openai.com/signup</a> è¿›è¡ŒChatGPTæ³¨å†Œæµç¨‹</li></ul><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230224095030089.png?x-oss-process=style/huyu" alt="image-20230224095030089" style="zoom:67%;" /></p><div class="tip warning"><p>æ¨èä½¿ç”¨Googleè´¦å·è¿›è¡Œæ³¨å†Œ<br>æ²¡æœ‰Googleè´¦å·ï¼Œæ»‘åˆ°ä¸‹æ–¹æœ‰æ•™ç¨‹</p></div><ul><li>æ³¨å†ŒæˆåŠŸä¼šè·³è½¬åˆ°å¡«å†™æ‰‹æœºå·çš„é¡µé¢</li></ul><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230224095416641.png?x-oss-process=style/huyu" alt="image-20230224095416641"></p><ul><li>å‡†å¤‡æ¥ç </li></ul><blockquote><p>å›½å®¶é€‰æ‹©è‡ªå·±è¦æ¥ç æ‰‹æœºå·çš„å›½å®¶</p><ul><li><a href="https://sms-activate.org/">https://sms-activate.org/</a> ç½‘ç«™å·¦ä¾§æœç´¢<code>OpenAI</code></li></ul><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230224094504016.png?x-oss-process=style/huyu" alt="image-20230224094504016" style="zoom: 67%;" /></p><ul><li>é€‰æ‹©ä»»æ„å›½å®¶ ç‚¹å‡»å³ä¾§çš„è´­ç‰©è½¦</li></ul><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230224095625989.png?x-oss-process=style/huyu" alt="image-20230224095625989"></p><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230224095840266.png?x-oss-process=style/huyu" alt="image-20230224095840266"></p><ul><li><p>å¤åˆ¶æ‰‹æœºå·åˆ°ChatGPTå¡«å†™çš„æ‰‹æœºå·ï¼Œ</p><ul><li><p>æ³¨æ„ï¼šå›½å®¶ä¸€å®šè¦åˆ‡æ¢åˆ°ä½ é€‰æ‹©çš„å›½å®¶ï¼Œç‚¹å·¦ä¾§çš„å›½æ——å¯ä»¥é€‰æ‹©</p></li><li><p>æ²¡æ”¶åˆ°ç ï¼Œå¯ä»¥åœ¨æœ‰æ•ˆæœŸå†…å…è´¹é€€ä¸€æ¬¡</p></li></ul></li></ul><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230224100742803.png?x-oss-process=style/huyu" alt="image-20230224100742803"></p></blockquote><h3 id="å¼€å§‹ä½¿ç”¨ChatGPT"><a href="#å¼€å§‹ä½¿ç”¨ChatGPT" class="headerlink" title="å¼€å§‹ä½¿ç”¨ChatGPT"></a>å¼€å§‹ä½¿ç”¨ChatGPT</h3><ul><li>å»ç™»å½• <a href="https://chat.openai.com/auth/login">https://chat.openai.com/auth/login</a></li></ul><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230224100857099.png?x-oss-process=style/huyu" alt="image-20230224100857099"></p><ul><li>ç”¨ä½ åˆšæ‰æ³¨å†Œçš„è´¦å·ç™»å½•å°±è¡Œ</li></ul><div class="tip warning"><p>æ³¨æ„ï¼šå¯èƒ½ä¼šå‡ºç°<code>429</code>çš„æƒ…å†µ &gt;&gt;&gt; æ˜¯èŠ‚ç‚¹ä½¿ç”¨å¤ªå¤šçš„é—®é¢˜<br>å¯ä»¥æ¢èŠ‚ç‚¹ï¼Œæˆ–è€…å†ç”¨æ— ç—•é¡µé¢æ‰“å¼€ï¼Œå¤šè¯•å‡ æ¬¡å°±è¡Œ</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230224100942159.png?x-oss-process=style/huyu"/></div></div></div><ul><li>ç™»å½•æˆåŠŸåï¼Œåé¢å¯ä»¥ç›´æ¥è®¿é—® <a href="https://chat.openai.com/chat">https://chat.openai.com/chat</a> ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒ429çš„é—®é¢˜</li></ul><h2 id="Googleè´¦å·æ³¨å†Œ"><a href="#Googleè´¦å·æ³¨å†Œ" class="headerlink" title="Googleè´¦å·æ³¨å†Œ"></a>Googleè´¦å·æ³¨å†Œ</h2><p><a href="https://accounts.google.com/signup/v2/webcreateaccount?continue=https%3A%2F%2Faccounts.google.com%2Fsignin%2Fchrome%2Fsync%2Ffinish%3Fcontinue%3Dhttps%253A%252F%252Fwww.google.com%252F%26est%3DAIUG7QCSh1lg9m14Q45ms-v4eFVHCfDL5k9x5FgcrBhYVrcpUcrYA26jARh16z3_1Qfyh62CfuHHJT0FEl4rzXU&amp;dsh=S-49490967%3A1677204746549500&amp;biz=false&amp;flowName=GlifWebSignIn&amp;flowEntry=SignUp">æ³¨å†Œé¡µé¢</a></p><ul><li><p>å¡«å†™ä¿¡æ¯</p><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230224101502165.png?x-oss-process=style/huyu" alt=""></p></li><li><p>éªŒè¯æ‰‹æœºå· é€‰ä¸­å›½ å¡«è‡ªå·±çš„æ‰‹æœºå· å¡«éªŒè¯ç </p></li></ul><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230224101616028.png?x-oss-process=style/huyu" alt="image-20230224101616028"></p><ul><li>å¡«å†™åŸºæœ¬ä¿¡æ¯</li></ul><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20230224101703322.png?x-oss-process=style/huyu" alt="image-20230224101703322"></p>]]></content>
      
      
      
        <tags>
            
            <tag> ChatGPT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¸¸ç”¨çš„vueæ’ä»¶å’Œæ–‡æ¡£</title>
      <link href="/posts/38825.html"/>
      <url>/posts/38825.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Vue3-å®˜æ–¹æ–‡æ¡£"><a href="#Vue3-å®˜æ–¹æ–‡æ¡£" class="headerlink" title="Vue3 å®˜æ–¹æ–‡æ¡£"></a>Vue3 å®˜æ–¹æ–‡æ¡£</h2><iframe src="https://cn.vuejs.org/" width="100%" height="300px" frameborder="0" loading="lazy" allowfullscreen></iframe><h2 id="vue2-å®˜æ–¹æ–‡æ¡£"><a href="#vue2-å®˜æ–¹æ–‡æ¡£" class="headerlink" title="vue2 å®˜æ–¹æ–‡æ¡£"></a>vue2 å®˜æ–¹æ–‡æ¡£</h2><iframe src="https://v2.cn.vuejs.org/" width="100%" height="300px" frameborder="0" loading="lazy" allowfullscreen></iframe>]]></content>
      
      
      
        <tags>
            
            <tag> ç½‘ç«™ </tag>
            
            <tag> å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>templateæŠ¥é”™undefined</title>
      <link href="/posts/15503.html"/>
      <url>/posts/15503.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Vueé¡¹ç›®-templateæŠ¥é”™undefined"><a href="#Vueé¡¹ç›®-templateæŠ¥é”™undefined" class="headerlink" title="Vueé¡¹ç›® templateæŠ¥é”™undefined"></a>Vueé¡¹ç›® templateæŠ¥é”™undefined</h2><blockquote><p>è§£å†³vueé¡¹ç›®ä¸­é¡µé¢è°ƒç”¨æ•°æ® åœ¨æ•°æ®åŠ è½½å®Œæ¯•ä¹‹å‰å‡ºç°undefinedé—®é¢˜</p></blockquote><p>åœ¨Vueé¡¹ç›®ä¸­ï¼Œå½“æˆ‘ä»¬è°ƒç”¨åå°æ•°æ®æ—¶ï¼Œå¦‚æœæˆ‘ä»¬å°è¯•åœ¨æ•°æ®åŠ è½½ä¹‹å‰ä½¿ç”¨æ•°æ®ï¼Œå°±ä¼šé‡åˆ°undefinedçš„é—®é¢˜ã€‚</p><p>ä¾‹å¦‚ï¼šä¸€è¿›å…¥é¡µé¢ç›´æ¥å›æ˜¾æ•°æ®</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;&#123; data[0].name &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> data = []</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å› ä¸º <code>data</code>æ˜¯ç©ºæ•°ç»„ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™</p><font color='red'>TypeError: Cannot read property 'name' of  undefined</font><h2 id="å¦‚ä½•è§£å†³"><a href="#å¦‚ä½•è§£å†³" class="headerlink" title="å¦‚ä½•è§£å†³"></a>å¦‚ä½•è§£å†³</h2><p>1ã€å¯ä»¥é€šè¿‡ç»™ä¸ªé»˜è®¤å€¼çš„æ–¹å¼</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;&#123; data[0].name &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> data = [&#123;<span class="attr">name</span>:<span class="string">&#x27;æˆ‘æ˜¯name&#x27;</span>&#125;]</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå³ä½¿æˆ‘ä»¬æ²¡æœ‰ä»åå°åŠ è½½æ•°æ®ï¼Œ<code>data</code>æ•°ç»„ä¹Ÿæœ‰ä¸€ä¸ªé»˜è®¤å€¼ã€‚è¿™å°†ç¡®ä¿æˆ‘ä»¬åœ¨ä½¿ç”¨æ•°æ®ä¹‹å‰ï¼Œæ•°æ®å·²ç»æœ‰äº†ä¸€ä¸ªå€¼ï¼Œé¿å…äº†undefinedçš„é—®é¢˜ã€‚</p></blockquote><p>2ã€é€šè¿‡<code>v-if</code>åˆ¤æ–­ä¸€ä¸‹</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&#x27;data &amp;&amp; data.length&#x27;</span>&gt;</span></span><br><span class="line">    &#123;&#123; data[0].name &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> data = []</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<code>v-if</code>æŒ‡ä»¤æ¥æ£€æŸ¥<code>data</code>æ•°ç»„æ˜¯å¦å­˜åœ¨å¹¶ä¸”æ˜¯å¦æœ‰ä¸€ä¸ªé•¿åº¦ã€‚è¿™å°†ç¡®ä¿æˆ‘ä»¬åœ¨ä½¿ç”¨æ•°æ®ä¹‹å‰ï¼Œæ•°æ®å·²ç»å­˜åœ¨ï¼Œå¹¶ä¸”é¿å…äº†undefinedçš„é—®é¢˜ã€‚</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> å°æŠ€å·§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vueé¡µé¢åˆ·æ–°</title>
      <link href="/posts/49666.html"/>
      <url>/posts/49666.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="è·¯ç”±é¡µé¢åˆ·æ–°"><a href="#è·¯ç”±é¡µé¢åˆ·æ–°" class="headerlink" title="è·¯ç”±é¡µé¢åˆ·æ–°"></a>è·¯ç”±é¡µé¢åˆ·æ–°</h1><blockquote><p>å½“æˆ‘ä»¬åœ¨ä¸€ä¸ªé¡µé¢ä¸Šï¼Œé¡µé¢ä¸Šæœ‰ä¸åŒçš„åˆ†ç±»ï¼Œç‚¹å‡»ä¸åŒçš„åˆ†ç±»éœ€è¦ä¼ ä¸åŒçš„å‚æ•°æ¥è¯·æ±‚æ¥å£ï¼Œå½“æ¥å£è¿”å›æ•°æ®åï¼Œéœ€è¦å°†é¡µé¢çš„æ•°æ®é‡æ–°æ¸²æŸ“ï¼Œè€Œä¸æ˜¯ä¹‹å‰çš„æ•°æ®ã€‚</p></blockquote><p>æ¯”å¦‚ï¼š<br>ä¸€ä¸ªåœ°å€ï¼š<a href="http://xxx/#/music/orderMusic/editMusic?id=xxx">http://xxx/#/music/orderMusic/editMusic?id=xxx</a><br>path æ˜¯ï¼šâ€™/music/orderMusic/editMusicâ€™<br>fullPath æ˜¯ï¼šâ€™/music/orderMusic/editMusic?id=xxxâ€™</p><p>æˆ‘ä»¬æ¯æ¬¡åªæ”¹å˜==url==åé¢çš„==id==ï¼ŒåŒæ—¶å°†é¡µé¢é‡æ–°æ¸²æŸ“</p><p><strong>è§£å†³æ–¹æ³•</strong></p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <strong>router-viewä¸­çš„key=â€˜$route.fullPathâ€™</strong> æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;router-view :key=&#x27;$route.fullPath&#x27;&gt;</span><br></pre></td></tr></table></figure><blockquote><p><strong>é€šè¿‡ç»‘å®šä¸€ä¸ª<code>fullPath</code>ï¼Œå¯ä»¥è¯†åˆ«å½“å‰é¡µé¢è·¯ç”±çš„å®Œæ•´åœ°å€ï¼Œå½“åœ°å€å‘ç”Ÿæ”¹å˜(åŒ…æ‹¬å‚æ•°æ”¹å˜)åˆ™é‡æ–°æ¸²æŸ“é¡µé¢(ä¾‹å¦‚åŠ¨æ€è·¯ç”±å‚æ•°çš„å˜åŒ–)</strong></p></blockquote><p>å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡è¿™ä¸¤ç§åŠæ³•ï¼š</p><ul><li><p>1.<code>this.$router.go(0)</code></p></li><li><p>2.<code>location.reload()</code></p></li></ul><p>è¿™ä¸¤ç§éƒ½å¯ä»¥åˆ·æ–°å½“å‰é¡µé¢çš„ï¼Œç¼ºç‚¹å°±æ˜¯ç›¸å½“äºæŒ‰<code>ctrl + F5</code> å¼ºåˆ¶åˆ·æ–°é‚£ç§ï¼Œæ•´ä¸ªé¡µé¢é‡æ–°åŠ è½½ï¼Œä¼šå‡ºç°ä¸€ä¸ªç¬é—´çš„ç©ºç™½é¡µé¢ï¼Œç”¨æˆ·ä½“éªŒä¸å¥½ï¼Œæ‰€ä»¥ä¸æ¨èä½¿ç”¨ã€‚</p><h1 id="å±€éƒ¨åˆ·æ–°"><a href="#å±€éƒ¨åˆ·æ–°" class="headerlink" title="å±€éƒ¨åˆ·æ–°"></a>å±€éƒ¨åˆ·æ–°</h1><blockquote><p>æ¯”å¦‚ï¼šå½“æˆ‘ä»¬åœ¨æ¸²æŸ“è¡¨æ ¼è¯·æ±‚æ˜¯ï¼Œå¯èƒ½ä¼šå‡ºç°è¡¨æ ¼æ²¡å˜åŒ–çš„æƒ…å†µ</p></blockquote><p>==å¯ä»¥é€šè¿‡v-ifå»å¼ºåˆ¶åˆ¤æ–­==</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;Table :data=&#x27;tableData&#x27; v-if=&#x27;loading&#x27;&gt;</span><br><span class="line">    </span><br><span class="line">  &lt;/Table&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script lang=&#x27;ts&#x27; setup&gt;</span><br><span class="line">import &#123; ref &#125; form &#x27;vue&#x27;</span><br><span class="line">  </span><br><span class="line">  const loading = ref(true)</span><br><span class="line">  </span><br><span class="line">  const getTableData = async () =&gt; &#123;</span><br><span class="line">    const res = awiat ...</span><br><span class="line">    // ...é€»è¾‘ä»£ç </span><br><span class="line">    // è¯·æ±‚æˆåŠŸ</span><br><span class="line">    if(res.code === 200) &#123;</span><br><span class="line">      loading.value = false</span><br><span class="line">      setTimeout(() =&gt; &#123;</span><br><span class="line">        loading.value = true</span><br><span class="line">      &#125;,0)</span><br><span class="line">        // this.$nextTick(() =&gt; &#123;</span><br><span class="line">        //     this.isRouterAlive = true</span><br><span class="line">        // &#125;)</span><br><span class="line">      // è¿™æ ·tableå°±ä¼šè¿›è¡Œä¸€ä¸ªå¼ºåˆ¶åˆ·æ–°</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> å°æŠ€å·§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŠ å¯†æ–‡ç« </title>
      <link href="/posts/57058.html"/>
      <url>/posts/57058.html</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰, è¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹, è¯·å†è¯•è¯•." data-whm="æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.">  <script id="hbeData" type="hbeData" data-hmacdigest="a3f8fb23a65f24d05d1c6a41c246221b1ae72f5770acdf6c13e367e3c94f472e">22064b17c03cb0c0e58c99349b6889d0c7e9d327de57f2d214b057f3875d6b37b9b20ab3b449f9d3b0ba6ffe12bb71d82eff8171349bc71e3a2c9718b358eacc07c1e2d0dcdcc94bb927d4bdef70eb3993770cfdac6f952c0447d2bf630cf31fbf54ae1e01d0502eb9c885c2bb862caf025717a37044569fa7b58de602993a5345ee2d96f43c4f765189e061db15b39fc43aea018790d5a2d584a071f8bb273651fc037ffa6979fcc736d271d55a7b036045820a8509b0514d8b5a19cbffdce3cc38372d1982df50b8922f6613aa3754579ddda193850e17c53d4b7f3cb5a21ea68af69ef133e8fd02b2f98ac1c5660830424f17c7525a0175be23ecb8803b79c325c70b46b59466f9c71475aef47761e9068f4ab8e934347642a4446fff1132103eaea84bea0f602155996b671a620d83d8310055b43b25ea68220eb10fa095</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-shrink">      <input class="hbe hbe-input-field hbe-input-field-shrink" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-shrink" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-shrink">æ‚¨å¥½, è¿™é‡Œéœ€è¦å¯†ç .</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      
        <tags>
            
            <tag> åŠ å¯† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”¨imgæ ‡ç­¾å®ç°iconçš„æ—¶å€™å¯¹ä¸é½æ–‡å­—</title>
      <link href="/posts/48966.html"/>
      <url>/posts/48966.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="åˆ°åº•ä¸ºä»€ä¹ˆç”¨imgæ ‡ç­¾å®ç°iconçš„æ—¶å€™ç»å¸¸å¯¹ä¸é½æ–‡å­—"><a href="#åˆ°åº•ä¸ºä»€ä¹ˆç”¨imgæ ‡ç­¾å®ç°iconçš„æ—¶å€™ç»å¸¸å¯¹ä¸é½æ–‡å­—" class="headerlink" title="åˆ°åº•ä¸ºä»€ä¹ˆç”¨imgæ ‡ç­¾å®ç°iconçš„æ—¶å€™ç»å¸¸å¯¹ä¸é½æ–‡å­—"></a>åˆ°åº•ä¸ºä»€ä¹ˆç”¨imgæ ‡ç­¾å®ç°iconçš„æ—¶å€™ç»å¸¸å¯¹ä¸é½æ–‡å­—</h1><ul><li>ç”¨imgæ ‡ç­¾ç›´æ¥æ’å…¥å›¾ç‰‡ä¼šå‡ºç°å¯¹ä¸é½çš„æƒ…å†µ</li></ul><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20221227153953411.png?x-oss-process=style/huyu" alt="baseline"></p><blockquote><p>å› ä¸ºå›¾ç‰‡çš„<code>vertical-align</code>é»˜è®¤æ˜¯<code>baseline</code>çš„</p></blockquote><ul><li>å¦‚æœè®¾ä¸ºmiddleï¼Œä¼šåä¸‹</li></ul><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20221227154246039.png?x-oss-process=style/huyu" alt="middle" style="zoom:50%;" /></p><blockquote><p>ä½†æ˜¯å¯¹äºè‹±æ–‡å­—æ¯çœ‹ç€æ˜¯å±…ä¸­çš„ï¼Œå¯¹äºæ±‰å­—ä¼šåä¸‹</p></blockquote><ul><li>æ€ä¹ˆè§£å†³å‘¢</li></ul><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">1em</span>,</span><br><span class="line">    vertical-align: -<span class="number">0.15em</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20221227154445688.png?x-oss-process=style/huyu" alt="è§£å†³"></p><blockquote><p>è¿™æ ·å°±å¯¹é½äº†ï¼Œè€Œä¸”å­—ä½“å¤§å°æ”¹å˜ï¼Œå›¾ç‰‡ä¹Ÿä¼šå±…ä¸­æ˜¾ç¤º</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> å°æŠ€å·§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue é¡¹ç›®è·¯å¾„</title>
      <link href="/posts/45836.html"/>
      <url>/posts/45836.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="assetså’Œstaticæ–‡ä»¶å¤¹çš„åŒºåˆ«"><a href="#assetså’Œstaticæ–‡ä»¶å¤¹çš„åŒºåˆ«" class="headerlink" title="assetså’Œstaticæ–‡ä»¶å¤¹çš„åŒºåˆ«"></a>assetså’Œstaticæ–‡ä»¶å¤¹çš„åŒºåˆ«</h2><p>ä¸¤ä¸ªéƒ½æ˜¯æ”¾ç½®é™æ€èµ„æºçš„åœ°æ–¹ï¼Œåˆ†åˆ«æ˜¯<code>src/assets</code>æ–‡ä»¶å¤¹å’Œ<code>static</code>æ–‡ä»¶å¤¹</p><p><strong>assetsç›®å½•ä¸­çš„æ–‡ä»¶ä¼šè¢«webpackå¤„ç†è§£æä¸ºæ¨¡å—ä¾èµ–</strong>ï¼Œåªæ”¯æŒç›¸å¯¹è·¯å¾„å½¢å¼ã€‚</p><p><strong>static/ ç›®å½•ä¸‹çš„æ–‡ä»¶å¹¶ä¸ä¼šè¢«Webpackå¤„ç†ï¼šå®ƒä»¬ä¼šç›´æ¥è¢«å¤åˆ¶åˆ°æœ€ç»ˆçš„æ‰“åŒ…ç›®å½•ï¼ˆé»˜è®¤æ˜¯dist/staticï¼‰ä¸‹ã€‚</strong>å¿…é¡»ä½¿ç”¨ç»å¯¹è·¯å¾„å¼•ç”¨è¿™äº›æ–‡ä»¶ï¼Œè¿™æ˜¯é€šè¿‡åœ¨ config.js æ–‡ä»¶ä¸­çš„ build.assetsPublicPath å’Œ build.assetsSubDirectory è¿æ¥æ¥ç¡®å®šçš„ã€‚</p><p>ä»»ä½•æ”¾åœ¨ static/ ä¸­æ–‡ä»¶éœ€è¦ä»¥ç»å¯¹è·¯å¾„çš„å½¢å¼å¼•ç”¨ï¼š/static/[filename]ã€‚</p><p>åœ¨æˆ‘ä»¬å®é™…çš„å¼€å‘ä¸­ï¼Œæ€»çš„æ¥è¯´ï¼š<strong>staticæ”¾ä¸ä¼šå˜åŠ¨çš„æ–‡ä»¶ assetsæ”¾å¯èƒ½ä¼šå˜åŠ¨çš„æ–‡ä»¶ã€‚</strong></p><blockquote><p>1ã€assetsä¸static å¼•å…¥ä¸åŒ</p><ol><li>assetsæ–‡ä»¶æ˜¯srcä¸‹çš„ï¼Œæ‰€ä»¥æœ€åä¼šè¢«æ‰“åŒ…ï¼Œ</li><li>staticæ–‡ä»¶ä¸src åŒçº§ï¼Œä¸ä¼šè¢«æ‰“åŒ…</li><li>assetsä¸­çš„æ–‡ä»¶åœ¨vueä¸‹ç”¨../è¿™ç§ç›¸å¯¹è·¯å¾„çš„å½¢å¼è¿›è¡Œå¼•ç”¨ï¼Œåœ¨scriptä¸‹å¿…é¡»ç”¨@importçš„æ–¹å¼å¼•å…¥</li><li>staticä¸‹çš„æ–‡ä»¶åœ¨.vueä¸­çš„ä»»ä½•åœ°æ–¹éƒ½åªè¦ä½¿ç”¨../è¿™ç§ç›¸å¯¹è·¯å¾„çš„æ–¹å¼å¼•å…¥ï¼Œ</li></ol><p>2ã€æ–‡ä»¶å¤¹çš„åŒºåˆ«</p><p>ï¼ˆ1ï¼‰assetsç”¨æ¥æ”¾ç½®æ ·å¼ã€é™æ€å›¾ç‰‡ï¼Œåªè¦srcä¸‹é¢çš„ç»„ä»¶ä¸­ç”¨åˆ°çš„èµ„æºå°±æ”¾åœ¨assetsä¸­ã€‚</p><p>ï¼ˆ2ï¼‰staticç”¨æ¥æ”¾æ²¡æœ‰npmåŒ…çš„ç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œå­—ä½“æ–‡ä»¶ã€‚</p><p>ï¼ˆ3ï¼‰assetsä¸componentsåŒçº§ componentsä¸‹çš„.vueå¼•ç”¨é™æ€æ–‡ä»¶æ—¶ï¼Œç›¸å¯¹è·¯å¾„ä¸º ../assets/xxxx</p><p>3ã€vueå¦‚ä½•å¼•å…¥å…¶å®ƒé™æ€æ–‡ä»¶ï¼š</p><p>ï¼ˆ1ï¼‰srcç›®å½•ä¸‹çš„èµ„æºåªèƒ½importæˆ–requireã€‚</p><p>ï¼ˆ2ï¼‰æƒ³é™æ€å¼•å…¥çš„è¯ï¼Œå»ºç«‹ä¸€ä¸ªä¸srcåŒçº§çš„ç›®å½•staticï¼Œç„¶åæŠŠé™æ€èµ„æºæ”¾å…¥è¯¥æ–‡ä»¶å¤¹ä¸‹ï¼Œhtmlçš„å¼•å…¥è·¯å¾„å¦‚ä¸‹ï¼š./static/â€¦ï¼ˆæ³¨ï¼šè¯•è¿‡ä¸€å®šè¦æ”¾åœ¨staticæ–‡ä»¶å¤¹ä¸‹ï¼Œå¦åˆ™æŠ¥é”™ï¼‰</p></blockquote><h3 id="åœ¨jsæ•°æ®ä¸­å¦‚ä½•å¼•ç”¨å›¾ç‰‡"><a href="#åœ¨jsæ•°æ®ä¸­å¦‚ä½•å¼•ç”¨å›¾ç‰‡" class="headerlink" title="åœ¨jsæ•°æ®ä¸­å¦‚ä½•å¼•ç”¨å›¾ç‰‡"></a>åœ¨jsæ•°æ®ä¸­å¦‚ä½•å¼•ç”¨å›¾ç‰‡</h3><p>å› ä¸ºwebpackä¼šå°†å›¾ç‰‡å½“åšæ¨¡å—æ¥å¼•ç”¨ï¼Œæ‰€ä»¥åœ¨jsä¸­éœ€è¦ä½¿ç”¨requireå°†å›¾ç‰‡å¼•ç”¨è¿›æ¥ï¼Œä¸èƒ½ç›´æ¥ä»¥å­—ç¬¦ä¸²çš„å½¢å¼ã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">// jséƒ¨åˆ†</span><br><span class="line">data() &#123;</span><br><span class="line">return &#123;</span><br><span class="line">imgUrl: &#x27;å›¾ç‰‡åœ°å€&#x27;, // é”™è¯¯å†™æ³•</span><br><span class="line">imgUrl: &#x27;require(&#x27;å›¾ç‰‡åœ°å€&#x27;)&#x27; // æ­£ç¡®çš„å†™æ³•</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// templateéƒ¨åˆ†</span><br><span class="line">imgæ ‡ç­¾å½¢å¼ï¼š</span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">:src:</span>&quot;<span class="attr">img</span>&quot; /&gt;</span></span><br><span class="line">// æˆ–è€…divèƒŒæ™¯å›¾å½¢å¼</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">&quot;&#123; backgroud: &#x27;url(&#x27; + img + &#x27;)&#x27; &#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Vueä¸­å¦‚ä½•é…ç½®è‡ªå®šä¹‰è·¯å¾„åˆ«å"><a href="#Vueä¸­å¦‚ä½•é…ç½®è‡ªå®šä¹‰è·¯å¾„åˆ«å" class="headerlink" title="Vueä¸­å¦‚ä½•é…ç½®è‡ªå®šä¹‰è·¯å¾„åˆ«å"></a>Vueä¸­å¦‚ä½•é…ç½®è‡ªå®šä¹‰è·¯å¾„åˆ«å</h2><p>åœ¨æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­ï¼Œå¸¸å¸¸ä¼šå¯¼å…¥ä¸€äº›æ¨¡å—æˆ–è€…ç»„ä»¶ï¼Œå¦‚æœé‡‡ç”¨ç›¸å¯¹è·¯å¾„çš„æ–¹å¼ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import uEditor from <span class="string">&quot;../../../../../components/tools&quot;</span>;</span><br></pre></td></tr></table></figure><p>ä¼šå¾ˆè‡ƒè‚¿</p><h4 id="åˆ›å»ºvue-config-js-å†™å…¥é…ç½®ä»£ç "><a href="#åˆ›å»ºvue-config-js-å†™å…¥é…ç½®ä»£ç " class="headerlink" title="åˆ›å»ºvue.config.js,å†™å…¥é…ç½®ä»£ç "></a>åˆ›å»ºvue.config.js,å†™å…¥é…ç½®ä»£ç </h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">configureWebpack</span>: &#123;</span><br><span class="line">        <span class="attr">resolve</span>: &#123;</span><br><span class="line">            <span class="attr">alias</span>: &#123; <span class="comment">//é…ç½®åˆ«å,ä¿®æ”¹åéœ€è¦é‡æ–°ç¼–è¯‘æ‰èƒ½ç”Ÿæ•ˆ</span></span><br><span class="line">                <span class="string">&#x27;assets&#x27;</span>: <span class="string">&#x27;@/assets&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;common&#x27;</span>: <span class="string">&#x27;@/common&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;components&#x27;</span>: <span class="string">&#x27;@/components&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;network&#x27;</span>: <span class="string">&#x27;@/network&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;views&#x27;</span>: <span class="string">&#x27;@/views&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;static&#x27;</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;../static&#x27;</span>), <span class="comment">// ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šå¦‚æœåœ¨HTMLè·¯å¾„ä¸­ä½¿ç”¨åˆ«åï¼Œéœ€è¦åœ¨å¼•ç”¨å‰é¢åŠ ä¸Šâ€œ~â€å‰ç¼€</p><p><code>&lt;img src=&quot;~assets/img/...&quot; /&gt;</code></p><p>å…¶ä»–æ–‡ä»¶ä¸­ä½¿ç”¨</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="keyword">@import</span> <span class="string">&quot;assets/css/...&quot;</span></span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è™šæ‹Ÿåˆ—è¡¨</title>
      <link href="/posts/6256.html"/>
      <url>/posts/6256.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p class="note note-primary">todo:å¾…æ•´ç†</p><blockquote><p>è¯¦æƒ…è¯·çœ‹ï¼š<a href="https://www.huyu001.top/posts/21040.html">https://www.huyu001.top/posts/21040.html</a></p></blockquote><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- è™šæ‹Ÿåˆ—è¡¨ï¼šhttps://juejin.cn/post/7168645862296879117#heading-16 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;virtualList&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;phantom&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;&#123; height: listHeight + &#x27;px&#x27; &#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;content&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;&#123; transform: `translate3d(0, $&#123;currentOffset&#125;px, 0)` &#125;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;item in visibleData&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span> <span class="attr">:id</span>=<span class="string">&quot;item.id&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;items&quot;</span> <span class="attr">class</span>=<span class="string">&quot;list-item&quot;</span>&gt;</span></span><br><span class="line">          &#123;&#123; item.value &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> lodash <span class="keyword">from</span> <span class="string">&#x27;lodash&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> binarySearch = <span class="keyword">function</span> (<span class="params">list, target</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> len = list.<span class="property">length</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> left = <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">        right = len - <span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> tempIndex = <span class="literal">null</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">while</span> (left &lt;= right) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">let</span> midIndex = (left + right) &gt;&gt; <span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">let</span> midVal = list[midIndex].<span class="property">bottom</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">if</span> (midVal === target) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> midIndex</span></span><br><span class="line"><span class="language-javascript">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (midVal &lt; target) &#123;</span></span><br><span class="line"><span class="language-javascript">        left = midIndex + <span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">      &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// listä¸ä¸€å®šå­˜åœ¨ä¸targetç›¸ç­‰çš„é¡¹ï¼Œä¸æ–­æ”¶ç¼©å³åŒºé—´ï¼Œå¯»æ‰¾æœ€åŒ¹é…çš„é¡¹</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (tempIndex === <span class="literal">null</span> || tempIndex &gt; midIndex) &#123;</span></span><br><span class="line"><span class="language-javascript">          tempIndex = midIndex</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        right--</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// å¦‚æœæ²¡æœ‰æœç´¢åˆ°å®Œå…¨åŒ¹é…çš„é¡¹ å°±è¿”å›æœ€åŒ¹é…çš„é¡¹</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> tempIndex</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;newTest&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">listData</span>: [], <span class="comment">// åˆ—è¡¨æ•°æ®</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">positions</span>: [], <span class="comment">// è®°å½•ç´¢å¼• åç§»...</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">preItemSize</span>: <span class="number">50</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">screenHeight</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">currentOffset</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">start</span>: <span class="number">0</span>, <span class="comment">// å¼€å§‹</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">end</span>: <span class="number">0</span>, <span class="comment">// ç»“æŸ</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// count: 0,</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">bufferPercent</span>: <span class="number">0.5</span>, <span class="comment">// å³æ¯ä¸ªç¼“å†²åŒºåªç¼“å†² 0.5 * æœ€å¤§å¯è§åˆ—è¡¨é¡¹æ•° ä¸ªå…ƒç´ </span></span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">created</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= <span class="number">1000</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">listData</span>.<span class="title function_">push</span>(&#123;<span class="attr">id</span>: i, <span class="attr">value</span>: i + <span class="string">&#x27;å­—ç¬¦å†…å®¹&#x27;</span>.<span class="title function_">repeat</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">20</span>)&#125;)</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="title function_">initPositions</span>(<span class="variable language_">this</span>.<span class="property">listData</span>, <span class="variable language_">this</span>.<span class="property">preItemSize</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">screenHeight</span> = <span class="variable language_">this</span>.<span class="property">$el</span>.<span class="property">clientHeight</span></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">start</span> = <span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">end</span> = <span class="variable language_">this</span>.<span class="property">start</span> + <span class="variable language_">this</span>.<span class="property">visibleCount</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// ç»‘å®šæ»šåŠ¨äº‹ä»¶</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">let</span> target = <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">virtualList</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">let</span> <span class="title function_">scrollFn</span> = event =&gt; <span class="variable language_">this</span>.<span class="title function_">scrollEvent</span>(event.<span class="property">target</span>)</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">let</span> debounce_scroll = lodash.<span class="title function_">debounce</span>(scrollFn, <span class="number">160</span>)</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">let</span> throttle_scroll = lodash.<span class="title function_">throttle</span>(scrollFn, <span class="number">80</span>)</span></span><br><span class="line"><span class="language-javascript">      target.<span class="title function_">addEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>, debounce_scroll)</span></span><br><span class="line"><span class="language-javascript">      target.<span class="title function_">addEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>, throttle_scroll)</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// target.addEventListener(&quot;scroll&quot;,  scrollFn);</span></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">positions</span>, <span class="variable language_">this</span>.<span class="property">visibleData</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">updated</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.$nextTick(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">items</span> || !<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">items</span>.<span class="property">length</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// æ ¹æ®çœŸå®å…ƒç´ å¤§å°ï¼Œä¿®æ”¹å¯¹åº”çš„ç¼“å­˜åˆ—è¡¨</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">updatePositions</span>()</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// æ›´æ–°å®Œç¼“å­˜åˆ—è¡¨åï¼Œé‡æ–°èµ‹å€¼åç§»é‡</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">currentOffset</span> = <span class="variable language_">this</span>.<span class="title function_">getCurrentOffset</span>()</span></span><br><span class="line"><span class="language-javascript">      &#125;)</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">listHeight</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">positions</span>[<span class="variable language_">this</span>.<span class="property">positions</span>.<span class="property">length</span> - <span class="number">1</span>].<span class="property">bottom</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">visibleCount</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">ceil</span>(<span class="variable language_">this</span>.<span class="property">screenHeight</span> / <span class="variable language_">this</span>.<span class="property">preItemSize</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">visibleData</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">listData</span>.<span class="title function_">slice</span>(<span class="variable language_">this</span>.<span class="property">start</span> - <span class="variable language_">this</span>.<span class="property">aboveCount</span>, <span class="variable language_">this</span>.<span class="property">end</span> + <span class="variable language_">this</span>.<span class="property">belowCount</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">bufferCount</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> (<span class="variable language_">this</span>.<span class="property">visibleCount</span> * <span class="variable language_">this</span>.<span class="property">bufferPercent</span>) &gt;&gt; <span class="number">0</span> <span class="comment">// å‘ä¸‹å–æ•´</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// ä½¿ç”¨ç´¢å¼•å’Œç¼“å†²æ•°é‡çš„æœ€å°å€¼ é¿å…ç¼“å†²ä¸å­˜åœ¨æˆ–è€…è¿‡å¤šçš„æ•°æ®</span></span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">aboveCount</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">min</span>(<span class="variable language_">this</span>.<span class="property">start</span>, <span class="variable language_">this</span>.<span class="property">bufferCount</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">belowCount</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">min</span>(<span class="variable language_">this</span>.<span class="property">listData</span>.<span class="property">length</span> - <span class="variable language_">this</span>.<span class="property">end</span>, <span class="variable language_">this</span>.<span class="property">bufferCount</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// æ»šåŠ¨å›è°ƒ</span></span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">scrollEvent</span>(<span class="params">target</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> &#123;scrollTop&#125; = target</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">start</span> = <span class="variable language_">this</span>.<span class="title function_">getStartIndex</span>(scrollTop)</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">end</span> = <span class="variable language_">this</span>.<span class="property">start</span> + <span class="variable language_">this</span>.<span class="property">visibleCount</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">currentOffset</span> = <span class="variable language_">this</span>.<span class="title function_">getCurrentOffset</span>()</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// åˆå§‹åŒ–åˆ—è¡¨</span></span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">initPositions</span>(<span class="params">listData, itemSize</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">positions</span> = listData.<span class="title function_">map</span>(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            index,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">top</span>: index * itemSize,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">bottom</span>: (index + <span class="number">1</span>) * itemSize,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">height</span>: itemSize,</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// æ¸²æŸ“åæ›´æ–°positions</span></span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">updatePositions</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> nodes = <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">items</span></span></span><br><span class="line"><span class="language-javascript">        nodes.<span class="title function_">forEach</span>(<span class="function"><span class="params">node</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// è·å– çœŸå®DOMé«˜åº¦</span></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">const</span> &#123;height&#125; = node.<span class="title function_">getBoundingClientRect</span>()</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// æ ¹æ® å…ƒç´ ç´¢å¼• è·å– ç¼“å­˜åˆ—è¡¨å¯¹åº”çš„åˆ—è¡¨é¡¹</span></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">const</span> index = node.<span class="property">id</span> - <span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">let</span> oldHeight = <span class="variable language_">this</span>.<span class="property">positions</span>[index].<span class="property">height</span></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// dValueï¼šçœŸå®é«˜åº¦ä¸é¢„ä¼°é«˜åº¦çš„å·®å€¼ å†³å®šè¯¥åˆ—è¡¨é¡¹æ˜¯å¦è¦æ›´æ–°</span></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">let</span> dValue = oldHeight - height</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// å¦‚æœæœ‰é«˜åº¦å·® !!dValue === true</span></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">if</span> (dValue) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// æ›´æ–°å¯¹åº”åˆ—è¡¨é¡¹çš„ bottom å’Œ height</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">positions</span>[index].<span class="property">bottom</span> = <span class="variable language_">this</span>.<span class="property">positions</span>[index].<span class="property">bottom</span> - dValue</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">positions</span>[index].<span class="property">height</span> = height</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// ä¾æ¬¡æ›´æ–°positionsä¸­åç»­å…ƒç´ çš„ top bottom</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">for</span> (<span class="keyword">let</span> k = index + <span class="number">1</span>; k &lt; <span class="variable language_">this</span>.<span class="property">positions</span>.<span class="property">length</span>; k++) &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="variable language_">this</span>.<span class="property">positions</span>[k].<span class="property">top</span> = <span class="variable language_">this</span>.<span class="property">positions</span>[k - <span class="number">1</span>].<span class="property">bottom</span></span></span><br><span class="line"><span class="language-javascript">              <span class="variable language_">this</span>.<span class="property">positions</span>[k].<span class="property">bottom</span> = <span class="variable language_">this</span>.<span class="property">positions</span>[k].<span class="property">bottom</span> - dValue</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">getStartIndex</span>(<span class="params">scrollTop = <span class="number">0</span></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="title function_">binarySearch</span>(<span class="variable language_">this</span>.<span class="property">positions</span>, scrollTop)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">getCurrentOffset</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">start</span> &gt;= <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// è®¡ç®—åç§»é‡æ—¶åŒ…æ‹¬ä¸Šç¼“å†²åŒºçš„åˆ—è¡¨é¡¹</span></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">let</span> size =</span></span><br><span class="line"><span class="language-javascript">              <span class="variable language_">this</span>.<span class="property">positions</span>[<span class="variable language_">this</span>.<span class="property">start</span>].<span class="property">top</span> -</span></span><br><span class="line"><span class="language-javascript">              (<span class="variable language_">this</span>.<span class="property">positions</span>[<span class="variable language_">this</span>.<span class="property">start</span> - <span class="variable language_">this</span>.<span class="property">aboveCount</span>]</span></span><br><span class="line"><span class="language-javascript">                  ? <span class="variable language_">this</span>.<span class="property">positions</span>[<span class="variable language_">this</span>.<span class="property">start</span> - <span class="variable language_">this</span>.<span class="property">aboveCount</span>].<span class="property">top</span></span></span><br><span class="line"><span class="language-javascript">                  : <span class="number">0</span>)</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">positions</span>[<span class="variable language_">this</span>.<span class="property">start</span> - <span class="number">1</span>].<span class="property">bottom</span> - size</span></span><br><span class="line"><span class="language-javascript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> <span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">height</span>: <span class="number">50vh</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">overflow</span>: auto;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.phantom</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">right</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">height</span>: <span class="number">800px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.content</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">right</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.list-item</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#999</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> æå‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¼˜é›…çš„Commitä¿¡æ¯</title>
      <link href="/posts/50652.html"/>
      <url>/posts/50652.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ä¼˜é›…çš„Commitä¿¡æ¯"><a href="#ä¼˜é›…çš„Commitä¿¡æ¯" class="headerlink" title="ä¼˜é›…çš„Commitä¿¡æ¯"></a>ä¼˜é›…çš„Commitä¿¡æ¯</h1><blockquote><p>ä½¿ç”¨<a href="https://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-changelog-angular">Angular</a>å›¢é˜Ÿæäº¤è§„èŒƒ</p></blockquote><p>ä¸»è¦æœ‰ä»¥ä¸‹ç»„æˆ<br>æ ‡é¢˜è¡Œ: å¿…å¡«, æè¿°ä¸»è¦ä¿®æ”¹ç±»å‹å’Œå†…å®¹<br>ä¸»é¢˜å†…å®¹: æè¿°ä¸ºä»€ä¹ˆä¿®æ”¹, åšäº†ä»€ä¹ˆæ ·çš„ä¿®æ”¹, ä»¥åŠå¼€å‘çš„æ€è·¯ç­‰ç­‰<br>é¡µè„šæ³¨é‡Š: æ”¾ Breaking Changes æˆ– Closed Issues<br>å¸¸ç”¨çš„ä¿®æ”¹é¡¹<br>type: commit çš„ç±»å‹</p><blockquote><p>feat: æ–°ç‰¹æ€§<br>fix: ä¿®æ”¹é—®é¢˜<br>refactor: ä»£ç é‡æ„<br>docs: æ–‡æ¡£ä¿®æ”¹<br>style: ä»£ç æ ¼å¼ä¿®æ”¹, æ³¨æ„ä¸æ˜¯ css ä¿®æ”¹<br>test: æµ‹è¯•ç”¨ä¾‹ä¿®æ”¹<br>chore: å…¶ä»–ä¿®æ”¹, æ¯”å¦‚æ„å»ºæµç¨‹, ä¾èµ–ç®¡ç†.</p></blockquote><p>scope: commit å½±å“çš„èŒƒå›´, æ¯”å¦‚: route, component, utils, buildâ€¦<br>subject: commit çš„æ¦‚è¿°<br>body: commit å…·ä½“ä¿®æ”¹å†…å®¹, å¯ä»¥åˆ†ä¸ºå¤šè¡Œ<br>footer: ä¸€äº›å¤‡æ³¨, é€šå¸¸æ˜¯ BREAKING CHANGE æˆ–ä¿®å¤çš„ bug çš„é“¾æ¥.</p>]]></content>
      
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue.config.jsé…ç½®ï¼ˆvue2ï¼‰</title>
      <link href="/posts/58727.html"/>
      <url>/posts/58727.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="vue-config-jsæ–‡ä»¶"><a href="#vue-config-jsæ–‡ä»¶" class="headerlink" title="vue.config.jsæ–‡ä»¶"></a>vue.config.jsæ–‡ä»¶</h1><p>è¿™ä¸ªæ–‡ä»¶å¯¼å‡ºäº†ä¸€ä¸ªåŒ…å«äº†é€‰é¡¹çš„å¯¹è±¡ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="comment">// é€‰é¡¹...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼Œè¯¦ç»†ä»‹ç»ä¸€äº›é€‰é¡¹åŠé…ç½®ï¼š</p><h3 id="åŸºæœ¬é…ç½®"><a href="#åŸºæœ¬é…ç½®" class="headerlink" title="åŸºæœ¬é…ç½®"></a>åŸºæœ¬é…ç½®</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">productionSourceMap</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">publicPath</span>: <span class="string">&#x27;./&#x27;</span>,</span><br><span class="line">    <span class="attr">outputDir</span>: <span class="string">&#x27;dist&#x27;</span>,</span><br><span class="line">    <span class="attr">assetsDir</span>: <span class="string">&#x27;assets&#x27;</span>,</span><br><span class="line">    <span class="attr">devServer</span>: &#123;</span><br><span class="line">        <span class="attr">port</span>: <span class="number">8090</span>,</span><br><span class="line">        <span class="attr">host</span>: <span class="string">&#x27;0.0.0.0&#x27;</span>,</span><br><span class="line">        <span class="attr">https</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">open</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// å…¶ä»–é…ç½®</span></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>productionSourceMap</code>ï¼šç”Ÿäº§ç¯å¢ƒæ˜¯å¦è¦ç”Ÿæˆ <code>sourceMap</code></p><p><code>publicPath</code>ï¼šéƒ¨ç½²åº”ç”¨åŒ…æ—¶çš„åŸºæœ¬ URL,ç”¨æ³•å’Œ <code>webpack</code> æœ¬èº«çš„ <code>output.publicPath</code> ä¸€è‡´</p><p>å¯ä»¥é€šè¿‡ä¸‰å…ƒè¿ç®—å»é…ç½®<code>dev</code>å’Œ<code>prod</code>ç¯å¢ƒ,</p><blockquote><p><code>publicPath: process.env.NODE_ENV === &#39;production&#39; ? &#39;/prod/&#39; : &#39;./&#39;</code></p></blockquote><p><code>outputDir</code>: <code>build</code> æ—¶è¾“å‡ºçš„æ–‡ä»¶ç›®å½•</p><p><code>assetsDir</code>: æ”¾ç½®é™æ€æ–‡ä»¶å¤¹ç›®å½•</p><p><code>devServer</code>: devç¯å¢ƒä¸‹ï¼Œ<code>webpack-dev-server</code> ç›¸å…³é…ç½®</p><ul><li>port: å¼€å‘è¿è¡Œæ—¶çš„ç«¯å£</li><li>host: å¼€å‘è¿è¡Œæ—¶åŸŸåï¼Œè®¾ç½®æˆ<code>&#39;0.0.0.0&#39;</code>,åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹ï¼Œå¦‚æœä½ çš„é¡¹ç›®åœ¨è¿è¡Œï¼ŒåŒæ—¶å¯ä»¥é€šè¿‡ä½ çš„<a href="http://ip:port/...è®¿é—®ä½ çš„é¡¹ç›®">http://ip:port/...è®¿é—®ä½ çš„é¡¹ç›®</a></li><li>https: æ˜¯å¦å¯ç”¨ <code>https</code></li><li>open: <code>npm run serve</code> æ—¶æ˜¯å¦ç›´æ¥æ‰“å¼€æµè§ˆå™¨</li></ul><h3 id="æ’ä»¶åŠè§„åˆ™çš„é…ç½®"><a href="#æ’ä»¶åŠè§„åˆ™çš„é…ç½®" class="headerlink" title="æ’ä»¶åŠè§„åˆ™çš„é…ç½®"></a>æ’ä»¶åŠè§„åˆ™çš„é…ç½®</h3><p>åœ¨<code>vue.config.js</code>å¦‚æœè¦æ–°å¢/ä¿®æ”¹ <code>webpack</code> çš„ <code>plugins</code> æˆ–è€… <code>rules</code> , æœ‰2ç§æ–¹å¼ã€‚</p><p><code>configureWebpack</code> æ–¹å¼</p><p><code>configureWebpack</code> æ˜¯ç›¸å¯¹æ¯”è¾ƒç®€å•çš„ä¸€ç§æ–¹å¼</p><ul><li>å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼šå’Œ <code>webpack</code> æœ¬èº«é…ç½®æ–¹å¼æ˜¯ä¸€è‡´ï¼Œè¯¥å¯¹è±¡å°†ä¼šè¢« <code>webpack-merge</code> åˆå¹¶å…¥æœ€ç»ˆçš„ <code>webpack</code> é…ç½®</li><li>å®ƒä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼šç›´æ¥åœ¨å‡½æ•°å†…éƒ¨è¿›è¡Œä¿®æ”¹é…ç½®</li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">configureWebpack</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>:[],</span><br><span class="line">    <span class="attr">plugins</span>: []</span><br><span class="line">&#125;</span><br><span class="line"><span class="attr">configureWebpack</span>: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ä¾‹å¦‚ï¼Œé€šè¿‡åˆ¤æ–­è¿è¡Œç¯å¢ƒï¼Œè®¾ç½®mode</span></span><br><span class="line">    config.<span class="property">mode</span> = <span class="string">&#x27;production&#x27;</span></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p><code>chainWebpack</code> æ–¹å¼</p><p><code>chainWebpack</code> é“¾å¼æ“ä½œ (é«˜çº§)ï¼Œæ¥ä¸‹æ¥æ‰€æœ‰çš„é…ç½®æˆ‘éƒ½ä¼šåœ¨è¯¥é€‰é¡¹ä¸­è¿›è¡Œé…ç½®</p><h3 id="è§„åˆ™rulesçš„é…ç½®"><a href="#è§„åˆ™rulesçš„é…ç½®" class="headerlink" title="è§„åˆ™rulesçš„é…ç½®"></a>è§„åˆ™rulesçš„é…ç½®</h3><p>å…³äº<code>rules</code> çš„é…ç½®ï¼Œæˆ‘ä¼šåˆ†åˆ«ä»æ–°å¢/ä¿®æ”¹è¿›è¡Œä»‹ç»ã€‚</p><h4 id="rulesçš„æ–°å¢"><a href="#rulesçš„æ–°å¢" class="headerlink" title="rulesçš„æ–°å¢"></a>rulesçš„æ–°å¢</h4><p>åœ¨<code>webpack</code>ä¸­ <code>rules</code> æ˜¯ <code>module</code> çš„é…ç½®é¡¹ï¼Œè€Œæ‰€æœ‰çš„é…ç½®çš„éƒ½æ˜¯æŒ‚è½½åˆ° <code>config</code> ä¸‹çš„ï¼Œæ‰€ä»¥æ–°å¢ä¸€ä¸ªruleæ–¹å¼ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">config.<span class="property">module</span></span><br><span class="line">  .<span class="title function_">rule</span>(name)</span><br><span class="line">    .<span class="title function_">use</span>(name)</span><br><span class="line">      .<span class="title function_">loader</span>(loader)</span><br><span class="line">      .<span class="title function_">options</span>(options)</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹ï¼š<code>style-resources-loader</code> æ¥æ·»åŠ <code>less</code>å…¨å±€å˜é‡</p><p>æ¡ˆä¾‹ï¼š<code>svg-sprite-loader</code> å°†svgå›¾ç‰‡ä»¥é›ªç¢§å›¾çš„æ–¹å¼åœ¨é¡¹ç›®ä¸­åŠ è½½</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">chainWebpack</span>: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// é€šè¿‡ style-resources-loader æ¥æ·»åŠ lesså…¨å±€å˜é‡</span></span><br><span class="line">        <span class="keyword">const</span> types = [<span class="string">&#x27;vue-modules&#x27;</span>, <span class="string">&#x27;vue&#x27;</span>, <span class="string">&#x27;normal-modules&#x27;</span>, <span class="string">&#x27;normal&#x27;</span>];</span><br><span class="line">        types.<span class="title function_">forEach</span>(<span class="function"><span class="params">type</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> rule = config.<span class="property">module</span>.<span class="title function_">rule</span>(<span class="string">&#x27;less&#x27;</span>).<span class="title function_">oneOf</span>(type)</span><br><span class="line">            rule.<span class="title function_">use</span>(<span class="string">&#x27;style-resource&#x27;</span>)</span><br><span class="line">                .<span class="title function_">loader</span>(<span class="string">&#x27;style-resources-loader&#x27;</span>)</span><br><span class="line">                .<span class="title function_">options</span>(&#123;</span><br><span class="line">                    <span class="attr">patterns</span>: [path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;./lessVariates.less&#x27;</span>)]</span><br><span class="line">                &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">// `svg-sprite-loader`: å°†svgå›¾ç‰‡ä»¥é›ªç¢§å›¾çš„æ–¹å¼åœ¨é¡¹ç›®ä¸­åŠ è½½</span></span><br><span class="line">        config.<span class="property">module</span></span><br><span class="line">            .<span class="title function_">rule</span>(<span class="string">&#x27;svg&#x27;</span>)</span><br><span class="line">            .<span class="title function_">test</span>(<span class="regexp">/.svg$/</span>) <span class="comment">// åŒ¹é…svgæ–‡ä»¶</span></span><br><span class="line">            .<span class="property">include</span>.<span class="title function_">add</span>(<span class="title function_">resolve</span>(<span class="string">&#x27;src/svg&#x27;</span>)) <span class="comment">// ä¸»è¦åŒ¹é…src/svg</span></span><br><span class="line">            .<span class="title function_">end</span>() </span><br><span class="line">            .<span class="title function_">use</span>(<span class="string">&#x27;svg-sprite-loader&#x27;</span>)</span><br><span class="line">            .<span class="title function_">loader</span>(<span class="string">&#x27;svg-sprite-loader&#x27;</span>) <span class="comment">// ä½¿ç”¨çš„loaderï¼Œä¸»è¦è¦npmè¯¥æ’ä»¶</span></span><br><span class="line">            .<span class="title function_">options</span>(&#123;<span class="attr">symbolId</span>: <span class="string">&#x27;svg-[name]&#x27;</span>&#125;) <span class="comment">// å‚æ•°é…ç½®</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="rulesçš„ä¿®æ”¹"><a href="#rulesçš„ä¿®æ”¹" class="headerlink" title="rulesçš„ä¿®æ”¹"></a>rulesçš„ä¿®æ”¹</h4><p>é’ˆå¯¹å·²ç»å­˜åœ¨çš„ <code>rule</code> , å¦‚æœéœ€è¦ä¿®æ”¹å®ƒçš„å‚æ•°, å¯ä»¥ä½¿ç”¨ <code>tap</code> æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">config.<span class="property">module</span></span><br><span class="line">  .<span class="title function_">rule</span>(name)</span><br><span class="line">    .<span class="title function_">use</span>(name)</span><br><span class="line">      .<span class="title function_">tap</span>(<span class="function"><span class="params">options</span> =&gt;</span> newOptions)</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹ï¼šä¿®æ”¹<code>url-loader</code>çš„å‚æ•°</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">chainWebpack</span>: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// `url-loader`æ˜¯webpacké»˜è®¤å·²ç»é…ç½®çš„ï¼Œç°åœ¨æˆ‘ä»¬æ¥ä¿®æ”¹å®ƒçš„å‚æ•°</span></span><br><span class="line">        config.<span class="property">module</span>.<span class="title function_">rule</span>(<span class="string">&#x27;images&#x27;</span>)</span><br><span class="line">            .<span class="title function_">use</span>(<span class="string">&#x27;url-loader&#x27;</span>)</span><br><span class="line">            .<span class="title function_">tap</span>(<span class="function"><span class="params">options</span> =&gt;</span> (&#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;./assets/images/[name].[ext]&#x27;</span>,</span><br><span class="line">                <span class="attr">quality</span>: <span class="number">85</span>,</span><br><span class="line">                <span class="attr">limit</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">esModule</span>: <span class="literal">false</span>,</span><br><span class="line">            &#125;))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ’ä»¶plugins-çš„é…ç½®"><a href="#æ’ä»¶plugins-çš„é…ç½®" class="headerlink" title="æ’ä»¶plugins çš„é…ç½®"></a>æ’ä»¶plugins çš„é…ç½®</h3><p>å…³äº <code>plugins</code> çš„é…ç½®ï¼Œæˆ‘ä¼šåˆ†åˆ«ä»<code>æ–°å¢/ä¿®æ”¹/åˆ é™¤</code>è¿›è¡Œä»‹ç»ã€‚</p><h4 id="pluginsçš„æ–°å¢"><a href="#pluginsçš„æ–°å¢" class="headerlink" title="pluginsçš„æ–°å¢"></a>pluginsçš„æ–°å¢</h4><ul><li>æ³¨æ„ï¼šè¿™é‡ŒWebpackPluginä¸éœ€è¦é€šè¿‡<code>new WebpackPlugin()</code>ä½¿ç”¨ã€‚</li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">config</span><br><span class="line">  .<span class="title function_">plugin</span>(name)</span><br><span class="line">  .<span class="title function_">use</span>(<span class="title class_">WebpackPlugin</span>, args)</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹ï¼šæ–°å¢<code>hot-hash-webpack-plugin</code></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">HotHashWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;hot-hash-webpack-plugin&#x27;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">chainWebpack</span>: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// æ–°å¢ä¸€ä¸ª`hot-hash-webpack-plugin`</span></span><br><span class="line">        <span class="comment">// æ³¨æ„ï¼šè¿™é‡Œuseçš„æ—¶å€™ä¸éœ€è¦ä½¿ç”¨`new HotHashWebpackPlugin()`</span></span><br><span class="line">        config.<span class="title function_">plugin</span>(<span class="string">&#x27;hotHash&#x27;</span>)</span><br><span class="line">              .<span class="title function_">use</span>(<span class="title class_">HotHashWebpackPlugin</span>, [&#123; <span class="attr">version</span>: <span class="string">&#x27;1.0.0&#x27;</span> &#125;]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="pluginsçš„ä¿®æ”¹"><a href="#pluginsçš„ä¿®æ”¹" class="headerlink" title="pluginsçš„ä¿®æ”¹"></a>pluginsçš„ä¿®æ”¹</h4><p>åŒç†, <code>plugin</code> å‚æ•°çš„ä¿®æ”¹ä¹Ÿæ˜¯é€šè¿‡ <code>tap</code> å»ä¿®æ”¹ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">config</span><br><span class="line">    .<span class="title function_">plugin</span>(name)</span><br><span class="line">    .<span class="title function_">tap</span>(<span class="function"><span class="params">args</span> =&gt;</span> newArgs)</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹ï¼šä¿®æ”¹æ‰“åŒ…å<code>css</code>æŠ½ç¦»åçš„<code>filename</code>åŠæŠ½ç¦»æ‰€å±ç›®å½•</p><p>æ¡ˆä¾‹ï¼šåˆ é™¤<code>console</code>å’Œ<code>debugger</code></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">HotHashWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;hot-hash-webpack-plugin&#x27;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">chainWebpack</span>: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// ä¿®æ”¹æ‰“åŒ…æ—¶cssæŠ½ç¦»åçš„filenameåŠæŠ½ç¦»æ‰€å±ç›®å½•</span></span><br><span class="line">        config.<span class="title function_">plugin</span>(<span class="string">&#x27;extract-css&#x27;</span>)</span><br><span class="line">                .<span class="title function_">tap</span>(<span class="function"><span class="params">args</span> =&gt;</span> [&#123;</span><br><span class="line">                    <span class="attr">filename</span>: <span class="string">&#x27;css/[name].[contenthash:8].css&#x27;</span>,</span><br><span class="line">                    <span class="attr">chunkFilename</span>: <span class="string">&#x27;css/[name].[contenthash:8].css&#x27;</span></span><br><span class="line">                &#125;]);</span><br><span class="line">        <span class="comment">// æ­£å¼ç¯å¢ƒä¸‹ï¼Œåˆ é™¤consoleå’Œdebugger</span></span><br><span class="line">        config.<span class="property">optimization</span></span><br><span class="line">                .<span class="title function_">minimize</span>(<span class="literal">true</span>)</span><br><span class="line">                .<span class="title function_">minimizer</span>(<span class="string">&#x27;terser&#x27;</span>)</span><br><span class="line">                .<span class="title function_">tap</span>(<span class="function"><span class="params">args</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">let</span> &#123; terserOptions &#125; = args[<span class="number">0</span>];</span><br><span class="line">                    terserOptions.<span class="property">compress</span>.<span class="property">drop_console</span> = <span class="literal">true</span>;</span><br><span class="line">                    terserOptions.<span class="property">compress</span>.<span class="property">drop_debugger</span> = <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">return</span> args</span><br><span class="line">                &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="pluginsçš„åˆ é™¤"><a href="#pluginsçš„åˆ é™¤" class="headerlink" title="pluginsçš„åˆ é™¤"></a>pluginsçš„åˆ é™¤</h4><p>å¯¹äºä¸€äº›<code>webpack</code>é»˜è®¤çš„ <code>plugin</code> ï¼Œå¦‚æœä¸éœ€è¦å¯ä»¥è¿›è¡Œåˆ é™¤</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">config.<span class="property">plugins</span>.<span class="title function_">delete</span>(name)</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹ï¼šåˆ é™¤ <code>vue-cli3.X</code> æ¨¡å—çš„è‡ªåŠ¨åˆ†å‰²æŠ½ç¦»</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">chainWebpack</span>: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// vue-cli3.X ä¼šè‡ªåŠ¨è¿›è¡Œæ¨¡å—åˆ†å‰²æŠ½ç¦»ï¼Œå¦‚æœä¸éœ€è¦è¿›è¡Œåˆ†å‰²,å¯ä»¥æ‰‹åŠ¨åˆ é™¤</span></span><br><span class="line">        config.<span class="property">optimization</span>.<span class="title function_">delete</span>(<span class="string">&#x27;splitChunks&#x27;</span>); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸€äº›å¸¸è§çš„é…ç½®"><a href="#ä¸€äº›å¸¸è§çš„é…ç½®" class="headerlink" title="ä¸€äº›å¸¸è§çš„é…ç½®"></a>ä¸€äº›å¸¸è§çš„é…ç½®</h3><h4 id="ä¿®æ”¹enteræ–‡ä»¶"><a href="#ä¿®æ”¹enteræ–‡ä»¶" class="headerlink" title="ä¿®æ”¹enteræ–‡ä»¶"></a>ä¿®æ”¹enteræ–‡ä»¶</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">config.<span class="property">entryPoints</span>.<span class="title function_">clear</span>(); <span class="comment">// æ¸…ç©ºé»˜è®¤å…¥å£</span></span><br><span class="line">config.<span class="title function_">entry</span>(<span class="string">&#x27;test&#x27;</span>).<span class="title function_">add</span>(<span class="title function_">getPath</span>(<span class="string">&#x27;./test/main.ts&#x27;</span>)); <span class="comment">// é‡æ–°è®¾ç½®</span></span><br></pre></td></tr></table></figure><h4 id="DefinePlugin"><a href="#DefinePlugin" class="headerlink" title="DefinePlugin"></a>DefinePlugin</h4><p>å®šä¹‰å…¨å±€å…¨å±€å˜é‡ï¼Œ<code>DefinePlugin</code> æ˜¯ <code>webpack</code> å·²ç»é»˜è®¤é…ç½®çš„ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å‚æ•°è¿›è¡Œä¿®æ”¹</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">config.<span class="title function_">plugin</span>(<span class="string">&#x27;define&#x27;</span>).<span class="title function_">tap</span>(<span class="function"><span class="params">args</span> =&gt;</span> [&#123; </span><br><span class="line">    ...args, </span><br><span class="line">    <span class="string">&quot;window.isDefine&quot;</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="literal">true</span>),</span><br><span class="line">    &#125;]);</span><br></pre></td></tr></table></figure><h4 id="è‡ªå®šä¹‰filename-åŠ-chunkFilename"><a href="#è‡ªå®šä¹‰filename-åŠ-chunkFilename" class="headerlink" title="è‡ªå®šä¹‰filename åŠ chunkFilename"></a>è‡ªå®šä¹‰filename åŠ chunkFilename</h4><p>è‡ªå®šä¹‰æ‰“åŒ…åjsæ–‡ä»¶çš„è·¯å¾„åŠæ–‡ä»¶åå­—</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">config.<span class="property">output</span>.<span class="title function_">filename</span>(<span class="string">&#x27;./js/[name].[chunkhash:8].js&#x27;</span>);</span><br><span class="line">config.<span class="property">output</span>.<span class="title function_">chunkFilename</span>(<span class="string">&#x27;./js/[name].[chunkhash:8].js&#x27;</span>);</span><br></pre></td></tr></table></figure><h4 id="ä¿®æ”¹html-webpack-pluginå‚æ•°"><a href="#ä¿®æ”¹html-webpack-pluginå‚æ•°" class="headerlink" title="ä¿®æ”¹html-webpack-pluginå‚æ•°"></a>ä¿®æ”¹html-webpack-pluginå‚æ•°</h4><p><code>html-webpack-plugin</code> æ˜¯ <code>webpack</code> å·²ç»é»˜è®¤é…ç½®çš„ï¼Œé»˜è®¤çš„æºæ¨¡ç‰ˆæ–‡ä»¶æ˜¯ <code>public/index.html</code> ;æˆ‘ä»¬å¯ä»¥å¯¹å…¶å‚æ•°è¿›è¡Œä¿®æ”¹</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">config.<span class="title function_">plugin</span>(<span class="string">&#x27;html&#x27;</span>)</span><br><span class="line">       .<span class="title function_">tap</span>(<span class="function"><span class="params">options</span> =&gt;</span> [&#123;</span><br><span class="line">           <span class="attr">template</span>: <span class="string">&#x27;../../index.html&#x27;</span> <span class="comment">// ä¿®æ”¹æºæ¨¡ç‰ˆæ–‡ä»¶</span></span><br><span class="line">           <span class="attr">title</span>: <span class="string">&#x27;test&#x27;</span>,</span><br><span class="line">       &#125;]);</span><br></pre></td></tr></table></figure><h4 id="è®¾ç½®åˆ«åalias"><a href="#è®¾ç½®åˆ«åalias" class="headerlink" title="è®¾ç½®åˆ«åalias"></a>è®¾ç½®åˆ«åalias</h4><p><code>webpack</code>é»˜è®¤æ˜¯å°†<code>src</code>çš„åˆ«åè®¾ç½®ä¸º<code>@</code>, æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œæ·»åŠ </p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">config.<span class="property">resolve</span>.<span class="property">alias</span></span><br><span class="line">        .<span class="title function_">set</span>(<span class="string">&#x27;@&#x27;</span>, <span class="title function_">resolve</span>(<span class="string">&#x27;src&#x27;</span>)) </span><br><span class="line">        .<span class="title function_">set</span>(<span class="string">&#x27;api&#x27;</span>, <span class="title function_">resolve</span>(<span class="string">&#x27;src/apis&#x27;</span>))</span><br><span class="line">        .<span class="title function_">set</span>(<span class="string">&#x27;common&#x27;</span>, <span class="title function_">resolve</span>(<span class="string">&#x27;src/common&#x27;</span>))</span><br></pre></td></tr></table></figure><h3 id="é™„ä¸Šä¸€ä»½-vue-config-js-é…ç½®"><a href="#é™„ä¸Šä¸€ä»½-vue-config-js-é…ç½®" class="headerlink" title="é™„ä¸Šä¸€ä»½ vue.config.js é…ç½®"></a>é™„ä¸Šä¸€ä»½ vue.config.js é…ç½®</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HotHashWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;hot-hash-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">WebpackBar</span> = <span class="built_in">require</span>(<span class="string">&#x27;webpackbar&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">resolve</span> = dir =&gt; path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;.&#x27;</span>, dir)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">productionSourceMap</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">publicPath</span>: <span class="string">&#x27;./&#x27;</span>,</span><br><span class="line">    <span class="attr">outputDir</span>: <span class="string">&#x27;dist&#x27;</span>,</span><br><span class="line">    <span class="attr">assetsDir</span>: <span class="string">&#x27;assets&#x27;</span>,</span><br><span class="line">    <span class="attr">devServer</span>: &#123;</span><br><span class="line">        <span class="attr">port</span>: <span class="number">9999</span>,</span><br><span class="line">        <span class="attr">host</span>: <span class="string">&#x27;0.0.0.0&#x27;</span>,</span><br><span class="line">        <span class="attr">https</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">open</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">chainWebpack</span>: <span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> types = [<span class="string">&#x27;vue-modules&#x27;</span>, <span class="string">&#x27;vue&#x27;</span>, <span class="string">&#x27;normal-modules&#x27;</span>, <span class="string">&#x27;normal&#x27;</span>]</span><br><span class="line">        types.<span class="title function_">forEach</span>(<span class="function"><span class="params">type</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> rule = config.<span class="property">module</span>.<span class="title function_">rule</span>(<span class="string">&#x27;less&#x27;</span>).<span class="title function_">oneOf</span>(type)</span><br><span class="line">            rule.<span class="title function_">use</span>(<span class="string">&#x27;style-resource&#x27;</span>)</span><br><span class="line">                .<span class="title function_">loader</span>(<span class="string">&#x27;style-resources-loader&#x27;</span>)</span><br><span class="line">                .<span class="title function_">options</span>(&#123;</span><br><span class="line">                    <span class="attr">patterns</span>: [path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;./lessVariates.less&#x27;</span>)],</span><br><span class="line">                &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">        config.<span class="property">resolve</span>.<span class="property">alias</span></span><br><span class="line">            .<span class="title function_">set</span>(<span class="string">&#x27;@&#x27;</span>, <span class="title function_">resolve</span>(<span class="string">&#x27;src&#x27;</span>))</span><br><span class="line">            .<span class="title function_">set</span>(<span class="string">&#x27;api&#x27;</span>, <span class="title function_">resolve</span>(<span class="string">&#x27;src/apis&#x27;</span>))</span><br><span class="line">            .<span class="title function_">set</span>(<span class="string">&#x27;common&#x27;</span>, <span class="title function_">resolve</span>(<span class="string">&#x27;src/common&#x27;</span>))</span><br><span class="line">        config.<span class="property">module</span></span><br><span class="line">            .<span class="title function_">rule</span>(<span class="string">&#x27;images&#x27;</span>)</span><br><span class="line">            .<span class="title function_">use</span>(<span class="string">&#x27;url-loader&#x27;</span>)</span><br><span class="line">            .<span class="title function_">tap</span>(<span class="function"><span class="params">options</span> =&gt;</span> (&#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;./assets/images/[name].[ext]&#x27;</span>,</span><br><span class="line">                <span class="attr">quality</span>: <span class="number">85</span>,</span><br><span class="line">                <span class="attr">limit</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">esModule</span>: <span class="literal">false</span>,</span><br><span class="line">            &#125;))</span><br><span class="line">        config.<span class="property">module</span></span><br><span class="line">            .<span class="title function_">rule</span>(<span class="string">&#x27;svg&#x27;</span>)</span><br><span class="line">            .<span class="title function_">test</span>(<span class="regexp">/.svg$/</span>)</span><br><span class="line">            .<span class="property">include</span>.<span class="title function_">add</span>(<span class="title function_">resolve</span>(<span class="string">&#x27;src/svg&#x27;</span>))</span><br><span class="line">            .<span class="title function_">end</span>()</span><br><span class="line">            .<span class="title function_">use</span>(<span class="string">&#x27;svg-sprite-loader&#x27;</span>)</span><br><span class="line">            .<span class="title function_">loader</span>(<span class="string">&#x27;svg-sprite-loader&#x27;</span>)</span><br><span class="line">        config.<span class="title function_">plugin</span>(<span class="string">&#x27;define&#x27;</span>).<span class="title function_">tap</span>(<span class="function"><span class="params">args</span> =&gt;</span> [</span><br><span class="line">            &#123;</span><br><span class="line">                ...args,</span><br><span class="line">                <span class="string">&#x27;window.isDefine&#x27;</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="literal">true</span>),</span><br><span class="line">            &#125;,</span><br><span class="line">        ])</span><br><span class="line">        <span class="comment">// ç”Ÿäº§ç¯å¢ƒé…ç½®</span></span><br><span class="line">        <span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&#x27;production&#x27;</span>) &#123;</span><br><span class="line">            config.<span class="property">output</span>.<span class="title function_">filename</span>(<span class="string">&#x27;./js/[name].[chunkhash:8].js&#x27;</span>)</span><br><span class="line">            config.<span class="property">output</span>.<span class="title function_">chunkFilename</span>(<span class="string">&#x27;./js/[name].[chunkhash:8].js&#x27;</span>)</span><br><span class="line">            config.<span class="title function_">plugin</span>(<span class="string">&#x27;extract-css&#x27;</span>).<span class="title function_">tap</span>(<span class="function"><span class="params">args</span> =&gt;</span> [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">filename</span>: <span class="string">&#x27;css/[name].[contenthash:8].css&#x27;</span>,</span><br><span class="line">                    <span class="attr">chunkFilename</span>: <span class="string">&#x27;css/[name].[contenthash:8].css&#x27;</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">            ])</span><br><span class="line">            config.<span class="title function_">plugin</span>(<span class="string">&#x27;hotHash&#x27;</span>).<span class="title function_">use</span>(<span class="title class_">HotHashWebpackPlugin</span>, [&#123; <span class="attr">version</span>: <span class="string">&#x27;1.0.0&#x27;</span> &#125;])</span><br><span class="line">            config.<span class="title function_">plugin</span>(<span class="string">&#x27;webpackBar&#x27;</span>).<span class="title function_">use</span>(<span class="title class_">WebpackBar</span>)</span><br><span class="line">            config.<span class="property">optimization</span></span><br><span class="line">                .<span class="title function_">minimize</span>(<span class="literal">true</span>)</span><br><span class="line">                .<span class="title function_">minimizer</span>(<span class="string">&#x27;terser&#x27;</span>)</span><br><span class="line">                .<span class="title function_">tap</span>(<span class="function"><span class="params">args</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">let</span> &#123; terserOptions &#125; = args[<span class="number">0</span>]</span><br><span class="line">                    terserOptions.<span class="property">compress</span>.<span class="property">drop_console</span> = <span class="literal">true</span></span><br><span class="line">                    terserOptions.<span class="property">compress</span>.<span class="property">drop_debugger</span> = <span class="literal">true</span></span><br><span class="line">                    <span class="keyword">return</span> args</span><br><span class="line">                &#125;)</span><br><span class="line">            config.<span class="property">optimization</span>.<span class="title function_">splitChunks</span>(&#123;</span><br><span class="line">                <span class="attr">cacheGroups</span>: &#123;</span><br><span class="line">                    <span class="attr">common</span>: &#123;</span><br><span class="line">                        <span class="attr">name</span>: <span class="string">&#x27;common&#x27;</span>,</span><br><span class="line">                        <span class="attr">chunks</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                        <span class="attr">minSize</span>: <span class="number">1</span>,</span><br><span class="line">                        <span class="attr">minChunks</span>: <span class="number">2</span>,</span><br><span class="line">                        <span class="attr">priority</span>: <span class="number">1</span>,</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="attr">vendor</span>: &#123;</span><br><span class="line">                        <span class="attr">name</span>: <span class="string">&#x27;chunk-libs&#x27;</span>,</span><br><span class="line">                        <span class="attr">chunks</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                        <span class="attr">test</span>: <span class="regexp">/[\/]node_modules[\/]/</span>,</span><br><span class="line">                        <span class="attr">priority</span>: <span class="number">10</span>,</span><br><span class="line">                    &#125;,</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¯¦ç»†çš„é…ç½®"><a href="#è¯¦ç»†çš„é…ç½®" class="headerlink" title="è¯¦ç»†çš„é…ç½®"></a>è¯¦ç»†çš„é…ç½®</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    æ ¹æ®Vue Clié…ç½®çš„ä¸€äº›å¸¸ç”¨é…ç½®é¡¹, å…·ä½“å‚è€ƒ(https://cli.vuejs.org/zh/config/#pages)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">productionSourceMap</span>: <span class="literal">false</span>, <span class="comment">// ç”Ÿæˆç¯å¢ƒæ˜¯å¦å¼€å¯SourceMap(source mapçš„ä½œç”¨å°±æ˜¯å®šä½ã€‚source mapå®šä½çš„æ—¶æµè§ˆå™¨æ§åˆ¶å°è¾“å‡ºè¯­å¥åœ¨é¡¹ç›®æ–‡ä»¶çš„ä½ç½®ã€‚)</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">filenameHashing</span>: <span class="literal">false</span>, <span class="comment">// buildä¹‹åç”Ÿæˆçš„é™æ€èµ„æºé»˜è®¤æƒ…å†µä¸‹åŠ äº†hashå€¼ä»¥æ§åˆ¶é™æ€èµ„æºçš„ç¼“å­˜ï¼Œé»˜è®¤æ˜¯true</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">publicPath</span>: <span class="string">&#x27;./&#x27;</span>, <span class="comment">// éƒ¨ç½²åº”ç”¨åŒ…æ—¶çš„åŸºæœ¬ URL(å¯ä»¥é€šè¿‡ä¸‰å…ƒè¿ç®—å»é…ç½®devå’Œprodç¯å¢ƒ, publicPath: process.env.NODE_ENV === &#x27;production&#x27; ? &#x27;/prod/&#x27; : &#x27;./&#x27;)</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">indexPath</span>: <span class="string">&#x27;index.html&#x27;</span>, <span class="comment">// æŒ‡å®šç”Ÿæˆçš„ index.html çš„è¾“å‡ºè·¯å¾„ (ç›¸å¯¹äº outputDir)ã€‚ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç»å¯¹è·¯å¾„ã€‚</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">outputDir</span>: <span class="string">&#x27;dist&#x27;</span>, <span class="comment">// æ‰“åŒ…è¾“å‡ºæ–‡ä»¶ç›®å½•</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">assetsDir</span>: <span class="string">&#x27;assets&#x27;</span>, <span class="comment">// æ”¾ç½®é™æ€æ–‡ä»¶å¤¹ç›®å½•</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">lintOnSave</span>: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦åœ¨å¼€å‘ç¯å¢ƒä¸‹é€šè¿‡ eslint-loader åœ¨æ¯æ¬¡ä¿å­˜æ—¶ lint ä»£ç ã€‚è¿™ä¸ªå€¼ä¼šåœ¨ @vue/cli-plugin-eslint è¢«å®‰è£…ä¹‹åç”Ÿæ•ˆã€‚</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">runtimeCompiler</span>: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦ä½¿ç”¨åŒ…å«è¿è¡Œæ—¶ç¼–è¯‘å™¨çš„ Vue æ„å»ºç‰ˆæœ¬</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">transpileDependencies</span>: [], <span class="comment">// Babel æ˜¾å¼è½¬è¯‘åˆ—è¡¨</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">crossorigin</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// è®¾ç½®ç”Ÿæˆçš„ HTML ä¸­ &lt;link rel=&quot;stylesheet&quot;&gt; å’Œ &lt;script&gt; æ ‡ç­¾çš„ crossorigin å±æ€§ï¼ˆæ³¨ï¼šä»…å½±å“æ„å»ºæ—¶æ³¨å…¥çš„æ ‡ç­¾ï¼‰</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">integrity</span>: <span class="literal">false</span>, <span class="comment">// åœ¨ç”Ÿæˆçš„ HTML ä¸­çš„ &lt;link rel=&quot;stylesheet&quot;&gt; å’Œ &lt;script&gt; æ ‡ç­¾ä¸Šå¯ç”¨ Subresource Integrity (SRI)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        å¦‚æœè¿™ä¸ªå€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ä¼šé€šè¿‡ webpack-merge åˆå¹¶åˆ°æœ€ç»ˆçš„é…ç½®ä¸­ </span></span><br><span class="line"><span class="comment">        å¦‚æœä½ éœ€è¦åŸºäºç¯å¢ƒæœ‰æ¡ä»¶åœ°é…ç½®è¡Œä¸ºï¼Œæˆ–è€…æƒ³è¦ç›´æ¥ä¿®æ”¹é…ç½®ï¼Œé‚£å°±æ¢æˆä¸€ä¸ªå‡½æ•° (è¯¥å‡½æ•°ä¼šåœ¨ç¯å¢ƒå˜é‡è¢«è®¾ç½®ä¹‹åæ‡’æ‰§è¡Œ)ã€‚è¯¥æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¼šæ”¶åˆ°å·²ç»è§£æå¥½çš„é…ç½®ã€‚åœ¨å‡½æ•°å†…ï¼Œä½ å¯ä»¥ç›´æ¥ä¿®æ”¹é…ç½®ï¼Œæˆ–è€…è¿”å›ä¸€ä¸ªå°†ä¼šè¢«åˆå¹¶çš„å¯¹è±¡</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="attr">configureWebpack</span>: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">chainWebpack</span>: <span class="function">() =&gt;</span> &#123;&#125;, <span class="comment">// å¯¹å†…éƒ¨çš„ webpack é…ç½®ï¼ˆæ¯”å¦‚ä¿®æ”¹ã€å¢åŠ Loaderé€‰é¡¹ï¼‰(é“¾å¼æ“ä½œ)</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">pages</span>: &#123;</span><br><span class="line">        <span class="comment">// æ„å»ºå¤šé¡µé¢åº”ç”¨ï¼Œé¡µé¢çš„é…ç½®</span></span><br><span class="line">        <span class="attr">index</span>: &#123;</span><br><span class="line">            <span class="attr">entry</span>: <span class="string">&#x27;src/index/main.js&#x27;</span>, <span class="comment">// page çš„å…¥å£</span></span><br><span class="line"></span><br><span class="line">            <span class="attr">template</span>: <span class="string">&#x27;public/index.html&#x27;</span>, <span class="comment">// æ¨¡æ¿æ¥æº</span></span><br><span class="line"></span><br><span class="line">            <span class="attr">filename</span>: <span class="string">&#x27;index.html&#x27;</span>, <span class="comment">// åœ¨ dist/index.html çš„è¾“å‡º</span></span><br><span class="line"></span><br><span class="line">            <span class="attr">title</span>: <span class="string">&#x27;Index Page&#x27;</span>, <span class="comment">// å½“ä½¿ç”¨ title é€‰é¡¹æ—¶ï¼Œ template ä¸­çš„ title æ ‡ç­¾éœ€è¦æ˜¯ &lt;title&gt;&lt;%= htmlWebpackPlugin.options.title %&gt;&lt;/title&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="attr">chunks</span>: [<span class="string">&#x27;chunk-vendors&#x27;</span>, <span class="string">&#x27;chunk-common&#x27;</span>, <span class="string">&#x27;index&#x27;</span>], <span class="comment">// åœ¨è¿™ä¸ªé¡µé¢ä¸­åŒ…å«çš„å—ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šåŒ…å« æå–å‡ºæ¥çš„é€šç”¨ chunk å’Œ vendor chunkã€‚</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            å½“ä½¿ç”¨åªæœ‰å…¥å£çš„å­—ç¬¦ä¸²æ ¼å¼æ—¶ï¼Œ</span></span><br><span class="line"><span class="comment">            æ¨¡æ¿ä¼šè¢«æ¨å¯¼ä¸º `public/subpage.html`</span></span><br><span class="line"><span class="comment">            å¹¶ä¸”å¦‚æœæ‰¾ä¸åˆ°çš„è¯ï¼Œå°±å›é€€åˆ° `public/index.html`ã€‚</span></span><br><span class="line"><span class="comment">            è¾“å‡ºæ–‡ä»¶åä¼šè¢«æ¨å¯¼ä¸º `subpage.html`ã€‚</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="attr">subpage</span>: <span class="string">&#x27;src/subpage/main.js&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">devServer</span>: &#123;</span><br><span class="line">        <span class="comment">// devç¯å¢ƒ  NodeJsæ¶è®¾ä¸´æ—¶çš„æœåŠ¡å™¨ç”¨äºé¡¹ç›®çš„è¿è¡Œä¸è°ƒè¯•</span></span><br><span class="line">        <span class="attr">open</span>: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦è¿è¡Œå¥½ç›´æ¥åœ¨é»˜è®¤æµè§ˆå™¨æ‰“å¼€</span></span><br><span class="line">        <span class="attr">inline</span>: <span class="literal">true</span>, <span class="comment">// ç”¨äºè®¾ç½®ä»£ç ä¿å­˜æ—¶æ˜¯å¦è‡ªåŠ¨åˆ·æ–°é¡µé¢ã€‚</span></span><br><span class="line">        <span class="attr">hot</span>: <span class="literal">true</span>, <span class="comment">// ç”¨äºè®¾ç½®ä»£ç ä¿å­˜æ—¶æ˜¯å¦è¿›è¡Œçƒ­æ›´æ–°ï¼ˆå±€éƒ¨åˆ·æ–°ï¼Œä¸åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼‰ã€‚</span></span><br><span class="line">        <span class="attr">openPage</span>: <span class="string">&#x27;default/index&#x27;</span>, <span class="comment">//æŒ‡å®šdeserver ç¼–è¯‘å®Œæˆåè‡ªåŠ¨æ‰“å¼€çš„é¡µé¢ (æ³¨æ„ï¼šéœ€è¦é…åˆ openæ¥ä½¿ç”¨ã€‚å¦‚æœVue router ä¸º hash modeã€‚åº”åœ¨urlå‰é¢è¡¥ä¸Š/#ã€‚å¦‚ï¼šopenPage: &#x27;/#/about&#x27;)</span></span><br><span class="line">        <span class="attr">https</span>: <span class="literal">false</span>, <span class="comment">// ç”¨äºè®¾ç½®æ˜¯å¦å¯ç”¨https</span></span><br><span class="line">        <span class="attr">port</span>: <span class="number">8024</span>, <span class="comment">// æŒ‡å®šè¦ç›‘å¬è¯·æ±‚çš„ç«¯å£å·</span></span><br><span class="line">        <span class="attr">host</span>: <span class="string">&#x27;0.0.0.0&#x27;</span>, <span class="comment">// ç”¨äºæŒ‡å®šdevDerveä½¿ç”¨çš„host</span></span><br><span class="line">        <span class="attr">compress</span>: <span class="literal">true</span>, <span class="comment">// å¯¹devServer æ‰€æœ‰æœåŠ¡å¯ç”¨ gzip å‹ç¼©</span></span><br><span class="line">        <span class="attr">headers</span>: &#123;</span><br><span class="line">            <span class="comment">// åœ¨æ‰€æœ‰å“åº”ä¸­æ·»åŠ é¦–éƒ¨å†…å®¹</span></span><br><span class="line">            <span class="string">&#x27;X-Custom-Foo&#x27;</span>: <span class="string">&#x27;bar&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">/* å½“å‡ºç°ç¼–è¯‘å™¨é”™è¯¯æˆ–è­¦å‘Šæ—¶ï¼Œåœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºå…¨å±è¦†ç›–å±‚ã€‚é»˜è®¤ç¦ç”¨ã€‚ä¸¤ç§å†™æ³•*/</span></span><br><span class="line">        <span class="comment">// overlay: true, // ç¬¬ä¸€ç§</span></span><br><span class="line">        <span class="attr">overlay</span>: &#123;</span><br><span class="line">            <span class="comment">// ç¬¬äºŒç§</span></span><br><span class="line">            <span class="attr">warnings</span>: <span class="literal">true</span>, <span class="comment">// è­¦å‘Š</span></span><br><span class="line">            <span class="attr">errors</span>: <span class="literal">true</span>, <span class="comment">// é”™è¯¯</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">proxy</span>: &#123;</span><br><span class="line">            <span class="comment">// proxy:&#123;&#x27;/api&#x27;:&#123;&#125;&#125;,ä»£ç†å™¨ä¸­è®¾ç½®/api,é¡¹ç›®ä¸­è¯·æ±‚è·¯å¾„ä¸º/apiçš„æ›¿æ¢ä¸ºtarget</span></span><br><span class="line">            <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">                <span class="attr">target</span>: <span class="string">&#x27;http://127.0.0.10:3000&#x27;</span>, <span class="comment">// ä»£ç†çš„æœåŠ¡å™¨ï¼Œä¹Ÿå°±æ˜¯apiè¦è®¿é—®çš„æœåŠ¡å™¨</span></span><br><span class="line">                <span class="attr">ws</span>: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦ä»£ç†websocket,</span></span><br><span class="line">                <span class="attr">secure</span>: <span class="literal">false</span>, <span class="comment">// æ˜¯å¦ä½¿ç”¨HTTPSåè®®, é»˜è®¤false</span></span><br><span class="line">                <span class="attr">changeOrigin</span>: <span class="literal">true</span>, <span class="comment">// å°†ä¸»æœºå¤´çš„æ¥æºæ›´æ”¹ä¸ºç›®æ ‡URLï¼Œä¹Ÿå°±æ˜¯æ˜¯å¦å…è®¸è·¨åŸŸ</span></span><br><span class="line">                <span class="attr">pathRewrite</span>: &#123; <span class="string">&#x27;^/api&#x27;</span>: <span class="string">&#x27;&#x27;</span> &#125;, <span class="comment">// é‡å†™urlçš„pathéƒ¨åˆ†</span></span><br><span class="line">                <span class="comment">/*</span></span><br><span class="line"><span class="comment">                    pathRewriteè¯¦è§£</span></span><br><span class="line"><span class="comment">                    ç°åœ¨è¿™æ ·ä¸¤ä¸ª api:</span></span><br><span class="line"><span class="comment">                    (1): http://localhost:80/api/login</span></span><br><span class="line"><span class="comment">                    (2): /api/login</span></span><br><span class="line"><span class="comment">                    devServe.proxy ä¼šåŒ¹é…ç¬¬äºŒä¸ªï¼Œå› ä¸ºç¬¬äºŒä¸ªä»¥/apiå¼€å¤´ï¼Œè€Œç¬¬ä¸€ä¸ªä»¥httpå¼€å¤´ã€‚</span></span><br><span class="line"><span class="comment">                    å†ä¾‹å¦‚æœ‰è¿™æ ·çš„ apiï¼š/getUserInfoï¼Œå…¶æ‰€åœ¨çš„æœåŠ¡å™¨ä¸ºhttp://192.168.0.169ã€‚é‚£è¿™ä¸ª api çš„url å°±åº”è¯¥æ˜¯http://192.168.0.169/getUserInfoã€‚</span></span><br><span class="line"><span class="comment">                    ç„¶ååœ¨ axios é…ç½®çš„ route æ˜¯ /api/getUserinfoã€‚</span></span><br><span class="line"><span class="comment">                    è¿™æ ·é…ç½®ä¹‹åï¼ŒdevServer.proxy å°±èƒ½æŠŠ url æ”¹å†™æˆhttp://192.168.0.169/getUserInfo</span></span><br><span class="line"><span class="comment">                */</span></span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">css</span>: &#123;</span><br><span class="line">        <span class="attr">extract</span>: <span class="literal">false</span>, <span class="comment">// æ˜¯å¦ä½¿ç”¨cssåˆ†ç¦»æ’ä»¶ ExtractTextPlugin  å¼€å¯extractåï¼Œç»„ä»¶æ ·å¼ä»¥å†…éƒ¨æ ·å¼è¡¨çš„å½¢å¼åŠ è½½çš„, æ‰“åŒ…çš„ç»“æœä¼šå¤šå‡ºä¸€ä¸ª css æ–‡ä»¶å¤¹ä»¥åŠcss æ–‡ä»¶ã€‚</span></span><br><span class="line">        <span class="attr">sourceMap</span>: <span class="literal">true</span>, <span class="comment">// å¼€å¯ CSS source maps?</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// å› ä¸ºé…ç½®äº†loaderOptions.css, å°½ç®¡requireModuleExtensionçš„å€¼ä¸ºé»˜è®¤å€¼ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦æŒ‡å‡º</span></span><br><span class="line">        <span class="attr">requireModuleExtension</span>: <span class="literal">true</span>, <span class="comment">// ç”¨äºè®¾å®šï¼Œæ˜¯å¦åªæœ‰ *.module.[ext] ç»“å°¾çš„æ–‡ä»¶æ‰ä¼šè¢«è§†ä½œCSS Modules æ¨¡å—ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰æ–‡ä»¶åä¸­å«æœ‰.modulesçš„CSSç›¸å…³æ–‡ä»¶è¿˜èƒ½ä½¿ç”¨CSS Modulesã€‚</span></span><br><span class="line">        <span class="attr">loaderOptions</span>: &#123;</span><br><span class="line">            <span class="comment">//ç”¨äºå‘ CSS ç›¸å…³çš„ loader ä¼ é€’é€‰é¡¹ï¼ˆè®¾ç½®ï¼‰ã€‚</span></span><br><span class="line">            <span class="comment">/* </span></span><br><span class="line"><span class="comment">               æ³¨æ„ï¼šä»¥ä¸‹é…ç½®åœ¨ Vue CLI v4 ä¸ v3 ä¹‹é—´å­˜åœ¨å·®å¼‚ã€‚</span></span><br><span class="line"><span class="comment">               Vue CLI v3 ç”¨æˆ·å¯å‚è€ƒ css-loader v1 æ–‡æ¡£</span></span><br><span class="line"><span class="comment">               https://github.com/webpack-contrib/css-loader/tree/v1.0.1 </span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">            <span class="attr">css</span>: &#123;</span><br><span class="line">                <span class="comment">// é…ç½® CSS Modules çš„classå‘½åè§„åˆ™</span></span><br><span class="line">                <span class="attr">modules</span>: &#123;</span><br><span class="line">                    <span class="attr">localIdentName</span>: <span class="string">&#x27;[local]_[hash:base64:8]&#x27;</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">postcss</span>: &#123;</span><br><span class="line">                <span class="comment">// è¿™é‡Œçš„é€‰é¡¹ä¼šä¼ é€’ç»™ postcss-loader</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">sass</span>: &#123;</span><br><span class="line">                <span class="comment">// @/ æ˜¯ src/ çš„åˆ«å æ‰€ä»¥è¿™é‡Œå‡è®¾ä½ æœ‰ `src/variables.sass` è¿™ä¸ªæ–‡ä»¶ (æ³¨æ„ï¼šåœ¨ sass-loader v7 ä¸­ï¼Œè¿™ä¸ªé€‰é¡¹åæ˜¯ &quot;data&quot;)</span></span><br><span class="line">                <span class="attr">prependData</span>: <span class="string">`@import &quot;~@/variables.sass&quot;`</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">                é»˜è®¤æƒ…å†µä¸‹ `sass` é€‰é¡¹ä¼šåŒæ—¶å¯¹ `sass` å’Œ `scss` è¯­æ³•åŒæ—¶ç”Ÿæ•ˆ, å› ä¸º `scss` è¯­æ³•åœ¨å†…éƒ¨ä¹Ÿæ˜¯ç”± sass-loader å¤„ç†çš„;</span></span><br><span class="line"><span class="comment">                ä½†æ˜¯åœ¨é…ç½® `data` é€‰é¡¹çš„æ—¶å€™, `scss` è¯­æ³•ä¼šè¦æ±‚è¯­å¥ç»“å°¾å¿…é¡»æœ‰åˆ†å·ï¼Œ`sass` åˆ™è¦æ±‚å¿…é¡»æ²¡æœ‰åˆ†å· åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `scss` é€‰é¡¹ï¼Œå¯¹ `scss` è¯­æ³•è¿›è¡Œå•ç‹¬é…ç½®</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">            <span class="attr">scss</span>: &#123;</span><br><span class="line">                <span class="attr">prependData</span>: <span class="string">`@import &quot;~@/variables.scss&quot;;`</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">less</span>: &#123;</span><br><span class="line">                <span class="comment">// ç»™ less-loader ä¼ é€’ Less.js ç›¸å…³é€‰é¡¹</span></span><br><span class="line">                <span class="comment">// http://lesscss.org/usage/#less-options-strict-units `Global Variables`</span></span><br><span class="line">                <span class="comment">// `primary` is global variables fields name</span></span><br><span class="line">                <span class="attr">globalVars</span>: &#123;</span><br><span class="line">                    <span class="attr">primary</span>: <span class="string">&#x27;#fff&#x27;</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">parallel</span>: <span class="built_in">require</span>(<span class="string">&#x27;os&#x27;</span>).<span class="title function_">cpus</span>().<span class="property">length</span> &gt; <span class="number">1</span>, <span class="comment">// æ˜¯å¦ä¸º Babel æˆ– TypeScript ä½¿ç”¨ thread-loader</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">pwa</span>: &#123;&#125;, <span class="comment">// å‘ PWA æ’ä»¶ä¼ é€’é€‰é¡¹</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">pluginOptions</span>: &#123;&#125;, <span class="comment">// å¯ä»¥ç”¨æ¥ä¼ é€’ä»»ä½•ç¬¬ä¸‰æ–¹æ’ä»¶é€‰é¡¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</title>
      <link href="/posts/1791.html"/>
      <url>/posts/1791.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å¯Œæ–‡æœ¬ç¼–è¾‘å™¨TinyMce"><a href="#å¯Œæ–‡æœ¬ç¼–è¾‘å™¨TinyMce" class="headerlink" title="å¯Œæ–‡æœ¬ç¼–è¾‘å™¨TinyMce"></a>å¯Œæ–‡æœ¬ç¼–è¾‘å™¨TinyMce</h1><blockquote><p><a href="https://gitee.com/xiaodao/tinymce_powerpaste">å¼•ç”¨</a></p><p>ä¹‹å‰é¡¹ç›®ä¸­æœ‰ä¸ªéœ€æ±‚ï¼Œéœ€è¦ä»wordä¸­ç²˜è´´å†…å®¹åˆ°å¯Œæ–‡æœ¬ç¼–è¾‘å™¨é‡Œï¼Œä½†æ˜¯å›¾ç‰‡å¹¶ä¸èƒ½æ­£å¸¸çš„æ˜¾ç¤º</p><p>è¸©è¿‡å¾ˆå¤šå‘ä¹‹åï¼Œæ€»ç»“å‡º<code>tinymce</code> + <code>powerpaste</code> å¯ä»¥å®Œç¾è§£å†³ ä½†æ˜¯å®˜æ–¹çš„<code>powerpaste</code>éœ€è¦æ”¶è´¹ï¼Œé‚£æˆ‘å°±æ‰¾æ¥äº†å…è´¹çš„èµ„æº</p></blockquote><ul><li><p>æ³¨æ„ï¼šnpmä¸‹è½½çš„tinymceä¸å¯ä»¥ï¼Œå¿…é¡»ä»å®˜ç½‘ä¸‹è½½tinymce</p><ul><li><p>ä¸‹è½½åœ°å€ï¼š<a href="https://gitee.com/link?target=https%3A%2F%2Fwww.tiny.cloud%2Fget-tiny%2Fself-hosted%2F">https://www.tiny.cloud/get-tiny/self-hosted/</a></p></li><li><p>è¯­è¨€åŒ…ä¸‹è½½ï¼š<a href="https://gitee.com/link?target=https%3A%2F%2Fwww.tiny.cloud%2Fget-tiny%2Flanguage-packages%2F">https://www.tiny.cloud/get-tiny/language-packages/</a></p></li></ul></li></ul><blockquote><p>tinymce å¤§ç‰ˆæœ¬4ï¼Œå¯¹åº”powerpaste-3.3.3-308,</p><p>å¤§ç‰ˆæœ¬5å¯¹åº”4.0.1-317 &gt;&gt;&gt; powerpaste-4.0.1-317ï¼ˆå…¼å®¹tinymce5.2.0) ç‰ˆæœ¬å†é«˜è¿˜æ²¡æµ‹è¯•è¿‡</p><p>é™„å¸¦ä¸‹è½½åœ°å€ï¼š<a href="https://www.aliyundrive.com/s/KPmUsuWYk9P">https://www.aliyundrive.com/s/KPmUsuWYk9P</a></p></blockquote><h5 id="æ¡ˆä¾‹ä¸ºVue3"><a href="#æ¡ˆä¾‹ä¸ºVue3" class="headerlink" title="æ¡ˆä¾‹ä¸ºVue3"></a>æ¡ˆä¾‹ä¸ºVue3</h5><ul><li>å°†powerpasteæ”¾å…¥tinymceæ¨¡å—çš„publicæ–‡ä»¶å¤¹ä¸‹ã€‚æ”¾è¿›å»åçš„tinymceæ–‡ä»¶å¤¹é•¿è¿™æ ·</li></ul><p><a href="https://imgse.com/i/zn5xJS"><img src="https://s1.ax1x.com/2022/11/18/zn5xJS.png" alt="æ–‡ä»¶ç›®å½•"></a></p><ul><li>ç„¶åå†<code>index.html</code>ä¸­å¼•å…¥<code>tinymce.min.js</code></li></ul><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/tinymce/js/tinymce/tinymce.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>å°†powerpasteæ–‡ä»¶å¤¹å¤åˆ¶åˆ°<code>tinymce/js/tinymce/plugins</code>ä¸­</li></ul><p><a href="https://imgse.com/i/zn7BwR"><img src="https://s1.ax1x.com/2022/11/18/zn7BwR.png" alt="zn7BwR.png"></a></p><h4 id="é™„å¸¦è‡ªå·±å°è£…çš„ç»„ä»¶ï¼ˆVue3ç‰ˆæœ¬ï¼‰"><a href="#é™„å¸¦è‡ªå·±å°è£…çš„ç»„ä»¶ï¼ˆVue3ç‰ˆæœ¬ï¼‰" class="headerlink" title="é™„å¸¦è‡ªå·±å°è£…çš„ç»„ä»¶ï¼ˆVue3ç‰ˆæœ¬ï¼‰"></a>é™„å¸¦è‡ªå·±å°è£…çš„ç»„ä»¶ï¼ˆVue3ç‰ˆæœ¬ï¼‰</h4><ul><li>çˆ¶ç»„ä»¶</li></ul><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tiny-mce</span> <span class="attr">:age</span>=<span class="string">&quot;contents&quot;</span> @<span class="attr">updContent</span>=<span class="string">&quot;updContent&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">tiny-mce</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> <span class="title class_">TinyMce</span> <span class="keyword">from</span> <span class="string">&quot;/@/components/TinyMce/index.vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> contents = <span class="title function_">ref</span>(<span class="string">&quot;&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> <span class="title function_">updContent</span> = (<span class="params">e:any</span>) =&gt;&#123;</span></span><br><span class="line"><span class="language-javascript">    contents.<span class="property">value</span> = e.<span class="property">content</span>;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>TinyMce/index.vue</li></ul><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;tinymce-boxz&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Editor</span> <span class="attr">v-model</span>=<span class="string">&quot;content&quot;</span> <span class="attr">:init</span>=<span class="string">&quot;init&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--   å¯ä»¥ç»‘å®šAPIKey å¯ä»¥åœ¨å®˜ç½‘æ³¨å†Œ å½“ç„¶ æ˜¯å…è´¹çš„   --&gt;</span></span><br><span class="line">        &lt;- <span class="tag">&lt;<span class="name">Editor</span> <span class="attr">v-model</span>=<span class="string">&quot;content&quot;</span> <span class="attr">:api-key</span>=<span class="string">&quot;apiKey&quot;</span> <span class="attr">:init</span>=<span class="string">&quot;init&quot;</span> /&gt;</span> -&gt;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> <span class="title class_">Editor</span> <span class="keyword">from</span> <span class="string">&#x27;@tinymce/tinymce-vue&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; reactive, ref, toRefs, watch &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;tinyMce&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Editor</span>,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">props</span>: [<span class="string">&quot;age&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">setup</span>(<span class="params">props, &#123;emit&#125;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> content = <span class="title function_">ref</span>(props.<span class="property">age</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> tiny = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// apiKey: &quot;qagffr3pkuv17a8on1afax661irst1hbr4e6tbv888sz91jc&quot;, //https://github.com/tinymce/tinymce-vue/blob/main/src/demo/views/Iframe.vue</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">init</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">language</span>: <span class="string">&#x27;zh_CN&#x27;</span>, <span class="comment">//è¯­è¨€ç±»å‹</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">placeholder</span>: <span class="string">&#x27;è¯·è¾“å…¥......&#x27;</span>, <span class="comment">//textareaä¸­çš„æç¤ºä¿¡æ¯</span></span></span><br><span class="line"><span class="language-javascript">                auto_focus : <span class="literal">true</span>, <span class="comment">// è‡ªåŠ¨è·å–ç„¦ç‚¹</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">min_height</span>: <span class="number">220</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// height: 500, //æ³¨ï¼šå¼•å…¥autoresizeæ’ä»¶æ—¶ï¼Œæ­¤å±æ€§å¤±æ•ˆ</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">resize</span>: <span class="string">&#x27;true&#x27;</span>, <span class="comment">//ç¼–è¾‘å™¨å®½é«˜æ˜¯å¦å¯å˜ï¼Œfalse-å¦,true-é«˜å¯å˜ï¼Œ&#x27;both&#x27;-å®½é«˜å‡å¯ï¼Œæ³¨æ„å¼•å·</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">branding</span>: <span class="literal">false</span>, <span class="comment">//tinyæŠ€æœ¯æ”¯æŒä¿¡æ¯æ˜¯å¦æ˜¾ç¤º</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// statusbar: false,  //æœ€ä¸‹æ–¹çš„å…ƒç´ è·¯å¾„å’Œå­—æ•°ç»Ÿè®¡é‚£ä¸€æ æ˜¯å¦æ˜¾ç¤º</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">elementpath</span>: <span class="literal">false</span>, <span class="comment">//å…ƒç´ è·¯å¾„æ˜¯å¦æ˜¾ç¤º</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">font_formats</span>:</span></span><br><span class="line"><span class="language-javascript">                    <span class="string">&#x27;å¾®è½¯é›…é»‘=Microsoft YaHei,Helvetica Neue,PingFang SC,sans-serif;è‹¹æœè‹¹æ–¹=PingFang SC,Microsoft YaHei,sans-serif;å®‹ä½“=simsun,serif;ä»¿å®‹ä½“=FangSong,serif;é»‘ä½“=SimHei,sans-serif;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;&#x27;</span>, <span class="comment">//å­—ä½“æ ·å¼</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">plugins</span>:</span></span><br><span class="line"><span class="language-javascript">                    <span class="string">&#x27;powerpaste autoresize print preview searchreplace autolink directionality visualblocks visualchars fullscreen image link media template code codesample table charmap hr pagebreak nonbreaking anchor insertdatetime advlist lists wordcount textpattern autosave emoticons&#x27;</span>, <span class="comment">//æ’ä»¶é…ç½® axupimgs indent2em</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">/*// å·¥å…·æ </span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                toolbar: [</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    &#x27;fullscreen undo redo restoredraft | &#x27; +</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    &#x27;cut copy paste pastetext | &#x27; +</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    &#x27;forecolor backcolor bold italic underline strikethrough link anchor | &#x27; +</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    &#x27;alignleft aligncenter alignright alignjustify outdent indent | &#x27; +</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    &#x27;bullist numlist | &#x27; +</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    &#x27;blockquote subscript superscript removeformat &#x27;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    &quot;styleselect formatselect fontselect fontsizeselect |  &quot; +</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    &quot;table image axupimgs media emoticons charmap hr pagebreak insertdatetime  selectall visualblocks searchreplace | &quot; +</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    &quot;code print preview | &quot; +</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    &quot;indent2em lineheight formatpainter&quot;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                ],</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                // å·¥å…·æ é…ç½®ï¼Œè®¾ä¸ºfalseåˆ™éšè—</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                // menubar: &quot;file edit my1&quot;, //èœå•æ é…ç½®ï¼Œè®¾ä¸ºfalseåˆ™éšè—ï¼Œä¸é…ç½®åˆ™é»˜è®¤æ˜¾ç¤ºå…¨éƒ¨èœå•ï¼Œä¹Ÿå¯è‡ªå®šä¹‰é…ç½®--æŸ¥çœ‹ http://tinymce.ax-z.cn/configure/editor-appearance.php --æœç´¢â€œè‡ªå®šä¹‰èœå•â€*/</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">menubar</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">toolbar</span>: <span class="string">&quot;undo redo | fullscreen | formatselect alignleft aligncenter alignright alignjustify | link unlink | numlist bullist | image media table | fontselect fontsizeselect forecolor backcolor | bold italic underline strikethrough | indent outdent | superscript subscript | removeformat |&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">toolbar_drawer</span>: <span class="string">&quot;sliding&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// images_upload_url: &#x27;/apib/api-upload/uploadimg&#x27;,  //åç«¯å¤„ç†ç¨‹åºçš„urlï¼Œå»ºè®®ç›´æ¥è‡ªå®šä¹‰ä¸Šä¼ å‡½æ•°image_upload_handlerï¼Œè¿™ä¸ªå°±å¯ä»¥ä¸ç”¨äº†</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// images_upload_base_path: &#x27;/demo&#x27;,  //ç›¸å¯¹åŸºæœ¬è·¯å¾„--å…³äºå›¾ç‰‡ä¸Šä¼ å»ºè®®æŸ¥çœ‹--http://tinymce.ax-z.cn/general/upload-images.php</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">paste_data_images</span>: <span class="literal">true</span>, <span class="comment">//å›¾ç‰‡æ˜¯å¦å¯ç²˜è´´</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//æ­¤å¤„ä¸ºå›¾ç‰‡ä¸Šä¼ å¤„ç†å‡½æ•°</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">images_upload_handler</span>: <span class="function">(<span class="params">blobInfo, success</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// è¿™é‡Œç”¨base64çš„å›¾ç‰‡å½¢å¼ä¸Šä¼ å›¾ç‰‡,</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">let</span> reader = <span class="keyword">new</span> <span class="title class_">FileReader</span>(); <span class="comment">//æœ¬åœ°é¢„è§ˆ</span></span></span><br><span class="line"><span class="language-javascript">                    reader.<span class="title function_">readAsDataURL</span>(blobInfo.<span class="title function_">blob</span>());</span></span><br><span class="line"><span class="language-javascript">                    reader.<span class="property">onloadend</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">const</span> imgbase64 = reader.<span class="property">result</span>;</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">success</span>(imgbase64);</span></span><br><span class="line"><span class="language-javascript">                    &#125;;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">file_picker_types</span>: <span class="string">&#x27;file image media&#x27;</span>, <span class="comment">//file image mediaåˆ†åˆ«å¯¹åº”ä¸‰ä¸ªç±»å‹æ–‡ä»¶çš„ä¸Šä¼ ï¼šlinkæ’ä»¶ï¼Œimageå’Œaxupimgsæ’ä»¶ï¼Œmediaæ’ä»¶ã€‚æƒ³å±è”½æŸä¸ªæ’ä»¶çš„ä¸Šä¼ å°±å»æ‰å¯¹åº”çš„å‚æ•°</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// æ–‡ä»¶ä¸Šä¼ å¤„ç†å‡½æ•°</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">file_picker_callback</span>: <span class="keyword">function</span> (<span class="params">callback, value, meta</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// ä½¿ç”¨æ¡ˆä¾‹http://tinymce.ax-z.cn/general/upload-images.php</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// meta.filetype  //æ ¹æ®è¿™ä¸ªåˆ¤æ–­ç‚¹å‡»çš„æ˜¯ä»€ä¹ˆfile image media</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">let</span> filetype; <span class="comment">//é™åˆ¶æ–‡ä»¶çš„ä¸Šä¼ ç±»å‹,éœ€è¦ä»€ä¹ˆå°±æ·»åŠ ä»€ä¹ˆçš„åç¼€</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (meta.<span class="property">filetype</span> == <span class="string">&#x27;image&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        filetype = <span class="string">&#x27;.jpg, .jpeg, .png, .gif, .ico, .svg&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (meta.<span class="property">filetype</span> == <span class="string">&#x27;media&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        filetype = <span class="string">&#x27;.mp3, .mp4, .avi, .mov&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        filetype = <span class="string">&#x27;.pdf555, .txt, .zip, .rar, .7z, .doc, .docx, .xls, .xlsx, .ppt, .pptx, .mp3, .mp4, .jpg, .jpeg, .png, .gif, .ico, .svg&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">let</span> inputElem = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;input&#x27;</span>); <span class="comment">//åˆ›å»ºæ–‡ä»¶é€‰æ‹©</span></span></span><br><span class="line"><span class="language-javascript">                    inputElem.<span class="title function_">setAttribute</span>(<span class="string">&#x27;type&#x27;</span>, <span class="string">&#x27;file&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                    inputElem.<span class="title function_">setAttribute</span>(<span class="string">&#x27;accept&#x27;</span>, filetype);</span></span><br><span class="line"><span class="language-javascript">                    inputElem.<span class="title function_">click</span>();</span></span><br><span class="line"><span class="language-javascript">                    inputElem.<span class="property">onchange</span> = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">let</span> file = inputElem.<span class="property">files</span>[<span class="number">0</span>]; <span class="comment">//è·å–æ–‡ä»¶ä¿¡æ¯</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">// æ‰€æœ‰éƒ½è½¬æˆbase64æ–‡ä»¶æµ,æ¥è‡ªå®˜æ–¹æ–‡æ¡£ https://www.tiny.cloud/docs/configure/file-image-upload/#file_picker_callback</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">let</span> reader = <span class="keyword">new</span> <span class="title class_">FileReader</span>();</span></span><br><span class="line"><span class="language-javascript">                        reader.<span class="title function_">readAsDataURL</span>(file);</span></span><br><span class="line"><span class="language-javascript">                        reader.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="comment">// Note: Now we need to register the blob in TinyMCEs image blob</span></span></span><br><span class="line"><span class="language-javascript">                            <span class="comment">// registry. In the next release this part hopefully won&#x27;t be</span></span></span><br><span class="line"><span class="language-javascript">                            <span class="comment">// necessary, as we are looking to handle it internally.</span></span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">let</span> id = <span class="string">&#x27;blobid&#x27;</span> + <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>();</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">let</span> blobCache = tinymce.<span class="property">activeEditor</span>.<span class="property">editorUpload</span>.<span class="property">blobCache</span>;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">let</span> base64 = reader.<span class="property">result</span>.<span class="title function_">split</span>(<span class="string">&#x27;,&#x27;</span>)[<span class="number">1</span>];</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">let</span> blobInfo = blobCache.<span class="title function_">create</span>(id, file, base64);</span></span><br><span class="line"><span class="language-javascript">                            blobCache.<span class="title function_">add</span>(blobInfo);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                            <span class="comment">// call the callback and populate the Title field with the file name</span></span></span><br><span class="line"><span class="language-javascript">                            <span class="title function_">callback</span>(blobInfo.<span class="title function_">blobUri</span>(), &#123;<span class="attr">title</span>: file.<span class="property">name</span>&#125;);</span></span><br><span class="line"><span class="language-javascript">                        &#125;;</span></span><br><span class="line"><span class="language-javascript">                    &#125;;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// æ·»åŠ wordå¤åˆ¶ç²˜è´´æ‰©å±•æ’ä»¶</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">external_plugins</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">powerpaste</span>: <span class="string">&#x27;/tinymce/js/tinymce/plugins/powerpaste/powerpaste/plugin.min.js&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">powerpaste_word_import</span>: <span class="string">&#x27;merge&#x27;</span>, <span class="comment">// å‚æ•°å¯ä»¥æ˜¯propmt, merge, clearï¼Œæ•ˆæœè‡ªè¡Œåˆ‡æ¢å¯¹æ¯”</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">powerpaste_html_import</span>: <span class="string">&#x27;merge&#x27;</span>, <span class="comment">// propmt, merge, clear</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">powerpaste_allow_local_images</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> <span class="title function_">toFather</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">emit</span>(<span class="string">&#x27;updContent&#x27;</span>, &#123;<span class="attr">content</span>: content.<span class="property">value</span>&#125;);</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">watch</span>(</span></span><br><span class="line"><span class="language-javascript">            <span class="function">() =&gt;</span> content.<span class="property">value</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">toFather</span>();</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        );</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> <span class="title function_">eliminate</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">            content.<span class="property">value</span> = <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            content,</span></span><br><span class="line"><span class="language-javascript">            eliminate,</span></span><br><span class="line"><span class="language-javascript">            ...<span class="title function_">toRefs</span>(tiny),</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.tinymce-boxz</span> &gt; <span class="selector-tag">textarea</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="comment">/* éšè—apikeyæ²¡æœ‰ç»‘å®šå½“å‰åŸŸåçš„æç¤º */</span></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.tox-notifications-container</span> <span class="selector-class">.tox-notification--warning</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">display</span>: none <span class="meta">!important</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.tox</span><span class="selector-class">.tox-tinymce</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">max-width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Javascript æ³¨é‡Šè§„èŒƒ</title>
      <link href="/posts/36878.html"/>
      <url>/posts/36878.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="Javascript-ä»£ç æ³¨é‡Šè§„èŒƒ"><a href="#Javascript-ä»£ç æ³¨é‡Šè§„èŒƒ" class="headerlink" title="Javascript ä»£ç æ³¨é‡Šè§„èŒƒ"></a>Javascript ä»£ç æ³¨é‡Šè§„èŒƒ</h3><h4 id="ä¸€ã€è¯­æ³•"><a href="#ä¸€ã€è¯­æ³•" class="headerlink" title="ä¸€ã€è¯­æ³•"></a>ä¸€ã€è¯­æ³•</h4><ol><li>æ³¨é‡Šçš„è¯´æ˜<br>è¯­æ³•ï¼šå†™åœ¨æ³¨é‡Šå—ç¬¬ä¸€è¡Œ<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * events-function(è¿™æ˜¯æ³¨é‡Šçš„è¯´æ˜)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> åˆ‡æ¢éŸ³é¢‘æ’­æ”¾çŠ¶æ€ï¼ˆæ’­æ”¾/åœæ­¢ï¼‰</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="attr">togglePlay</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// çœç•¥å…¶å®ƒä»£ç ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>æ ‡ç­¾<br>è¯­æ³•ï¼š@tagName</li></ol><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/** <span class="doctag">@function</span> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>æ ‡ç­¾çš„è¯´æ˜<br>è¯­æ³•ï¼š- è¯´æ˜æ–‡å­—</li></ol><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@constructor</span> <span class="variable">Student</span> - å­¦ç”Ÿ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">name</span> - å­¦ç”Ÿçš„åå­—</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="keyword">function</span> <span class="title function_">Student</span>(<span class="params">name</span>) &#123;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><ol><li>ç±»å‹<br>è¯­æ³•ï¼š{typeName} (å¯ä¸æ ‡ç­¾ç»“åˆä½¿ç”¨ï¼Œå¦‚@param)</li></ol><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; a å¿…ä¼ å‚æ•°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">a, b, c</span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>å¯é€‰å‚æ•°<br>è¯­æ³•ï¼š[paramName] (å¯ä¸æ ‡ç­¾ç»“åˆä½¿ç”¨ï¼Œå¦‚@param)</li></ol><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; a å¿…ä¼ å‚æ•°</span></span><br><span class="line"><span class="comment"> *  <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; [b] å¯é€‰å‚æ•°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>å‚æ•°æœ‰é»˜è®¤å€¼<br>è¯­æ³•ï¼š[paramName=value] (å¯ä¸æ ‡ç­¾ç»“åˆä½¿ç”¨ï¼Œå¦‚@param)</li></ol><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; a å¿…ä¼ å‚æ•°</span></span><br><span class="line"><span class="comment"> *  <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; [c=666] å‚æ•°æœ‰é»˜è®¤å€¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">a, c</span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>é“¾æ¥<br>è¯­æ³•ï¼š[link text]{@link namepathOrURL}</li></ol><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * See &#123;<span class="doctag">@link</span> MyClass&#125; and [MyClass&#x27;s foo property]&#123;<span class="doctag">@link</span> MyClass#foo&#125;.</span></span><br><span class="line"><span class="comment"> * Also, check out &#123;<span class="doctag">@link</span> http://www.google.com|Google&#125; and</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@link</span> https://github.com GitHub&#125;.</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h4 id="äºŒã€ç¤ºä¾‹"><a href="#äºŒã€ç¤ºä¾‹" class="headerlink" title="äºŒã€ç¤ºä¾‹"></a>äºŒã€ç¤ºä¾‹</h4><ol><li>å‡½æ•°</li></ol><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è½¬æ¢æ—¶é—´å­—ç¬¦ä¸²ä¸ºæ—¶é—´å¯¹è±¡</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@function</span> <span class="variable">_str2time</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> strTime &#123;String&#125; - e.g &quot;2017-02-13 10:02:58&quot; or &quot;2017-02-13&quot; or &quot;9:10&quot;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> type &#123;String&#125; - e.g date, dateTime, time</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">_str2time</span>(<span class="params">strTime, type</span>) &#123;</span><br><span class="line">    <span class="comment">// çœç•¥å…¶å®ƒä»£ç </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>ç±»/æ„é€ å‡½æ•°<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å®šæ—¶å™¨</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@class</span> <span class="variable">Timer</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Timer</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_timeId</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_eventId</span> = -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">eventHandler</span> = &#123;</span><br><span class="line">        <span class="string">&#x27;stop&#x27;</span>: &#123;&#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å®šæ—¶å™¨æ˜¯å¦å¤„äºåœæ­¢çŠ¶æ€</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@memberof</span> <span class="variable">Timer</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@member</span> <span class="variable">stopped</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@instance</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">stopped</span> = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯åŠ¨å®šæ—¶å™¨</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@memberof</span> <span class="variable">Timer</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@instance</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@method</span> <span class="variable">start</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &#123;<span class="type">function</span>&#125; <span class="variable">handler</span> - å®šæ—¶å™¨æ¯æ¬¡æ‰§è¡Œæ—¶è°ƒç”¨çš„å‡½æ•°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">interval</span> - å®šæ—¶å™¨æ‰§è¡Œçš„æ—¶é—´é—´éš”</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">start</span> = <span class="keyword">function</span> (<span class="params">handler, interval</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">stopped</span> = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">let</span> _recursion = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">_timeId</span> = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="title function_">handler</span>()</span><br><span class="line">                    .<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">stopped</span>) &#123;</span><br><span class="line">                            <span class="built_in">clearTimeout</span>(<span class="variable language_">this</span>.<span class="property">_timeId</span>);</span><br><span class="line">                            <span class="variable language_">this</span>.<span class="title function_">_trigger</span>(<span class="string">&#x27;stop&#x27;</span>);</span><br><span class="line">                            <span class="keyword">return</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="title function_">_recursion</span>();</span><br><span class="line">                    &#125;)</span><br><span class="line">                    .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">                        <span class="built_in">clearTimeout</span>(<span class="variable language_">this</span>.<span class="property">_timeId</span>);</span><br><span class="line">                        <span class="variable language_">this</span>.<span class="property">stopped</span> = <span class="literal">true</span>;</span><br><span class="line">                        <span class="variable language_">this</span>.<span class="title function_">_trigger</span>(<span class="string">&#x27;stop&#x27;</span>);</span><br><span class="line">                        <span class="keyword">if</span> (err) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(err);</span><br><span class="line">                    &#125;);</span><br><span class="line">            &#125;, interval)</span><br><span class="line">        &#125;.<span class="title function_">bind</span>(<span class="variable language_">this</span>);</span><br><span class="line">        <span class="title function_">_recursion</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åœæ­¢å®šæ—¶å™¨</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@memberof</span> <span class="variable">Timer</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@instance</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@method</span> <span class="variable">stop</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">stop</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">stopped</span> = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›‘å¬äº‹ä»¶</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@memberof</span> <span class="variable">Timer</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@instance</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@method</span> <span class="variable">on</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">type</span> - äº‹ä»¶ç±»å‹  e.g &#x27;stop&#x27;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">function</span>&#125; <span class="variable">fn</span> - äº‹ä»¶å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125; <span class="variable">eventId</span> - äº‹ä»¶å¤„ç†å‡½æ•°Idï¼Œç”¨äºå–æ¶ˆç›‘å¬</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title class_">Timer</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">on</span> = <span class="keyword">function</span> (<span class="params">type, fn</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> _eventId = fn.<span class="property">name</span> || ++<span class="variable language_">this</span>.<span class="property">_eventId</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">eventHandler</span>[type][_eventId] = fn;</span><br><span class="line">    <span class="keyword">return</span> _eventId;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è§¦å‘äº‹ä»¶</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@private</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title class_">Timer</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">_trigger</span> = <span class="keyword">function</span> (<span class="params">type</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> handlerMap = <span class="variable language_">this</span>.<span class="property">eventHandler</span>[type];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> handlerMap) &#123;</span><br><span class="line">        handlerMap[key]();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å–æ¶ˆç›‘å¬äº‹ä»¶</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@memberof</span> <span class="variable">Timer</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@instance</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@method</span> <span class="variable">off</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">type</span> - äº‹ä»¶ç±»å‹  e.g &#x27;stop&#x27;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">function</span>&#125; <span class="variable">target</span> - äº‹ä»¶å¤„ç†å‡½æ•°Idæˆ–è€…å‡½æ•°åå­—</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title class_">Timer</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">off</span> = <span class="keyword">function</span> (<span class="params">type, target</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> _target = (<span class="keyword">typeof</span> target === <span class="string">&#x27;function&#x27;</span>) ? target.<span class="property">name</span> : target;</span><br><span class="line">    <span class="keyword">delete</span> <span class="variable language_">this</span>.<span class="property">eventHandler</span>[type][_target];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> æå‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯è°ƒè¯•ä»£ç æŠ€å·§</title>
      <link href="/posts/17557.html"/>
      <url>/posts/17557.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><ul><li>å¾…å®Œå–„</li></ul><p>å¯»æ±‚ç®€å•æœ‰æ•ˆçš„debugæ–¹æ³•ï¼Œå°‘èµ°å¼¯è·¯ï¼Œæ›´é«˜æ•ˆçš„ä¿®æ”¹bug</p></blockquote><h4 id="1ã€setTimeout"><a href="#1ã€setTimeout" class="headerlink" title="1ã€setTimeout"></a>1ã€setTimeout</h4><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/settimeout-debug.gif" alt="æ‚¬æµ®DOM"></p><blockquote><p>åœ¨æˆ‘ä»¬çš„ä»£ç ä¸­ï¼Œå¯èƒ½ä¼šé‡åˆ°é¼ æ ‡æ‚¬æµ®å‡ºç°æç¤ºï¼Œæ­¤æ—¶æƒ³è¦è°ƒè¯•æ‚¬æµ®çš„DOMæ—¶ä¼šå¾ˆå›°éš¾ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨å®šæ—¶å™¨å»è¿›è¡Œä¸€ä¸ªdebug</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">debugger</span>;</span><br><span class="line">&#125;, <span class="number">3000</span>);</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/debugger.gif" alt="debugger"></p><h4 id="2ã€console"><a href="#2ã€console" class="headerlink" title="2ã€console"></a>2ã€console</h4><blockquote><p>å¼€å‘ä¸­ä½¿ç”¨æœ€å¤šçš„<code>console</code></p></blockquote><h4 id="3ã€debugger"><a href="#3ã€debugger" class="headerlink" title="3ã€debugger"></a>3ã€debugger</h4><blockquote><ul><li><p>ç›´æ¥åœ¨ä»£ç ä¸­éœ€è¦æ–­ç‚¹çš„åœ°æ–¹ï¼Œç›´æ¥debuggerå³å¯ï¼Œå½“JSæ‰§è¡Œåˆ°è¯¥è¯­å¥æ—¶ä¼šè‡ªåŠ¨æš‚åœï¼Œé¡µé¢ä¼šå‡ºç°è’™å±‚å¡ä½ï¼Œç„¶åä¼šè‡ªåŠ¨è·³è½¬åˆ°debuggerä»£ç å¤„ï¼Œå¤„äºå½“å‰æ‰§è¡Œç¯å¢ƒçš„æ•°æ®é¼ æ ‡ç§»ä¸Šï¼Œè¯¥æ•°æ®ä¼šæ˜¾ç¤ºå‡ºæ¥</p></li><li><p>å½“ç‚¹å‡»é¡µé¢ä¸­çš„å‰è¿›æŒ‰é’®æ—¶ï¼Œå°±ä¼šè·³è½¬åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹å¤„ï¼Œå…¨éƒ¨è·³è½¬å®Œæˆåæ–­ç‚¹å°±ä¼šç»“æŸã€‚</p></li></ul></blockquote><h4 id="4ã€æµè§ˆå™¨æ–­ç‚¹-sourceæ–­ç‚¹"><a href="#4ã€æµè§ˆå™¨æ–­ç‚¹-sourceæ–­ç‚¹" class="headerlink" title="4ã€æµè§ˆå™¨æ–­ç‚¹(sourceæ–­ç‚¹)"></a>4ã€æµè§ˆå™¨æ–­ç‚¹(sourceæ–­ç‚¹)</h4><p>å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨é‡Œæ–­ç‚¹ï¼Œåœ¨è¡Œæ•°çš„åœ°æ–¹å¯ä»¥ç›´æ¥åŠ ä¸Šæ–­ç‚¹ï¼ŒF8å¯ä»¥ç›´æ¥è·³è½¬åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹ï¼ŒF10å¯ä»¥å•æ­¥éª¤è°ƒè¯•ï¼ŒF11å¯ä»¥ç›´æ¥è¿›å…¥æ–¹æ³•ï¼Œä¹Ÿå°±ç›¸å½“äºå•æ­¥è°ƒè¯•äº†ã€‚</p><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/20221023151039.png" alt="sourceæ–­ç‚¹"></p><ul><li>ä»å·¦åˆ°å³ï¼Œå„ä¸ªå›¾æ ‡è¡¨ç¤ºçš„åŠŸèƒ½åˆ†åˆ«ä¸ºï¼š<ul><li><code>Pause/Resume script executionï¼ˆF8 æˆ– Ctrl + \ï¼‰</code>ï¼šæš‚åœ/æ¢å¤è„šæœ¬æ‰§è¡Œï¼ˆç¨‹åºæ‰§è¡Œåˆ°ä¸‹ä¸€æ–­ç‚¹åœæ­¢ï¼‰ï¼›</li><li><code>Step over next function callï¼ˆF10 æˆ– Ctrl + &#39;ï¼‰</code>ï¼šæ‰§è¡Œåˆ°ä¸‹ä¸€æ­¥çš„å‡½æ•°è°ƒç”¨ï¼ˆè·³åˆ°ä¸‹ä¸€è¡Œï¼‰ï¼›</li><li><code>Step into next function callï¼ˆF11 æˆ– Ctrl + ;ï¼‰</code>ï¼šè¿›å…¥å½“å‰å‡½æ•°ï¼›</li><li>Step out of current functionï¼ˆshift + F11 æˆ– Ctrl + shift + ;ï¼‰`ï¼šè·³å‡ºå½“å‰æ‰§è¡Œå‡½</li><li><code>Stepï¼ˆF9ï¼‰</code>ï¼šè·³åˆ°ä¸‹ä¸€æ¡æ‰§è¡Œè¯­å¥ï¼›</li><li><code>Deactive/Active all breakpoints</code>: å…³é—­/å¼€å¯æ‰€æœ‰æ–­ç‚¹ï¼ˆä¸ä¼šå–æ¶ˆï¼‰ï¼›</li><li><code>Pause on exceptions</code>: å¼‚å¸¸æƒ…å†µè‡ªåŠ¨æ–­ç‚¹è®¾ç½®ï¼Œæµè§ˆå™¨ä¼šåœ¨ç¨‹åºå‘ç”Ÿå¼‚å¸¸çš„é‚£ä¸€è¡Œè®¾ç½®æ–­ç‚¹ï¼Œå³å½“ç¨‹åºä¼šåœ¨å¼‚å¸¸å‘ç”Ÿå¤„æš‚åœï¼›</li></ul></li></ul><h4 id="5ã€æµè§ˆå™¨æ§åˆ¶å°è°ƒè¯•"><a href="#5ã€æµè§ˆå™¨æ§åˆ¶å°è°ƒè¯•" class="headerlink" title="5ã€æµè§ˆå™¨æ§åˆ¶å°è°ƒè¯•"></a>5ã€æµè§ˆå™¨æ§åˆ¶å°è°ƒè¯•</h4><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20221023151519483.png" alt="æµè§ˆå™¨æ§åˆ¶å°"></p><blockquote><p>æµè§ˆå™¨æ§åˆ¶å°å¯ä»¥ç›´æ¥è°ƒè¯•ä¸€äº›æ ·å¼é—®é¢˜</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> æå‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å°æŠ€å·§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•ä¼˜é›…å¤„ç† async await é”™è¯¯</title>
      <link href="/posts/51281.html"/>
      <url>/posts/51281.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>å€Ÿç”¨ <code>await-to-js</code> åº“<br><a href="https://github.com/scopsy/await-to-js">https://github.com/scopsy/await-to-js</a><br><a href="https://blog.grossman.io/how-to-write-async-await-without-try-catch-blocks-in-javascript/">https://blog.grossman.io/how-to-write-async-await-without-try-catch-blocks-in-javascript/</a></p></blockquote><ul><li><p>ä¹‹å‰å¤„ç†å¼‚æ­¥è¯·æ±‚æ—¶æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="title function_">asyncTask</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> asyncFuncARes = <span class="keyword">await</span> <span class="title function_">asyncFuncA</span>()</span><br><span class="line">    &#125; <span class="keyword">catch</span>(error) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Error</span>(error)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> asyncFuncBRes = <span class="keyword">await</span> <span class="title function_">asyncFuncB</span>(asyncFuncARes)</span><br><span class="line">    &#125; <span class="keyword">catch</span>(error) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Error</span>(error)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> asyncFuncCRes = <span class="keyword">await</span> <span class="title function_">asyncFuncC</span>(asyncFuncBRes)</span><br><span class="line">    &#125; <span class="keyword">catch</span>(error) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Error</span>(error)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨ <code>await-to-js</code> åæ˜¯è¿™æ ·çš„:</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> to <span class="keyword">from</span> <span class="string">&#x27;./to.js&#x27;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="keyword">async</span> <span class="title function_">asyncTask</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">const</span> [err, asyncFuncARes]  = <span class="keyword">await</span> <span class="title function_">to</span>(<span class="title function_">asyncFuncA</span>())</span><br><span class="line"><span class="keyword">if</span>(err) <span class="keyword">throw</span> <span class="keyword">new</span> (error);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [err, asyncFuncBRes]  = <span class="keyword">await</span> <span class="title function_">tp</span>(<span class="title function_">asyncFuncB</span>(asyncFuncARes))</span><br><span class="line"><span class="keyword">if</span>(err) <span class="keyword">throw</span> <span class="keyword">new</span> (error);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [err, asyncFuncCRes]  = <span class="keyword">await</span> <span class="title function_">to</span>(<span class="title function_">asyncFuncC</span>(asyncFuncBRes)</span><br><span class="line"><span class="keyword">if</span>(err) <span class="keyword">throw</span> <span class="keyword">new</span> (error);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h5 id="await-to-js-æºç åˆ†æ"><a href="#await-to-js-æºç åˆ†æ" class="headerlink" title="await-to-js æºç åˆ†æ"></a><code>await-to-js</code> æºç åˆ†æ</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">to</span>(<span class="params">promise, errorExt</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> promise</span><br><span class="line">        .<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> [<span class="literal">null</span>, data])</span><br><span class="line">        .<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (errorExt) &#123;</span><br><span class="line">            <span class="keyword">const</span> parsedError = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, err, errorExt);</span><br><span class="line">            <span class="keyword">return</span> [parsedError, <span class="literal">undefined</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> [err, <span class="literal">undefined</span>];</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> to;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬å…ˆæŠ›å¼€errorExtè¿™ä¸ªè‡ªå®šä¹‰çš„é”™è¯¯æ–‡æœ¬,æ ¸å¿ƒä»£ç æ˜¯è¿™æ ·çš„<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">to</span>(<span class="params">promise</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> promise</span><br><span class="line">        .<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> [<span class="literal">null</span>, data]) <span class="comment">// æˆåŠŸ,è¿”å›[null,å“åº”ç»“æœ]</span></span><br><span class="line">        .<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> [err, <span class="literal">undefined</span>]; <span class="comment">// å¤±è´¥,è¿”å›[é”™è¯¯ä¿¡æ¯,undefined]</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> to;</span><br></pre></td></tr></table></figure><br>ä»£ç é€»è¾‘ç»“è®º</p><ul><li><p>æ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥éƒ½è¿”å›ä¸€ä¸ªæ•°ç»„,æ•°ç»„çš„ç¬¬ä¸€é¡¹æ˜¯å’Œé”™è¯¯ç›¸å…³çš„,æ•°ç»„çš„ç¬¬äºŒé¡¹æ˜¯å’Œå“åº”ç»“æœç›¸å…³çš„</p></li><li><p>æˆåŠŸçš„è¯æ•°ç»„ç¬¬ä¸€é¡¹ä¹Ÿå°±æ˜¯é”™è¯¯ä¿¡æ¯ä¸ºç©º,æ•°ç»„ç¬¬äºŒé¡¹ä¹Ÿå°±æ˜¯å“åº”ç»“æœæ­£å¸¸è¿”å›</p></li><li><p>å¤±è´¥çš„è¯æ•°ç»„ç¬¬ä¸€é¡¹ä¹Ÿå°±æ˜¯é”™è¯¯ä¿¡æ¯ä¸ºé”™è¯¯ä¿¡æ¯,æ•°ç»„ç¬¬äºŒé¡¹ä¹Ÿå°±æ˜¯å“åº”ç»“æœè¿”å›undefined</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> æå‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> axios </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pdfé¢„è§ˆ</title>
      <link href="/posts/44377.html"/>
      <url>/posts/44377.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h3><blockquote><p><a href="https://www.cnblogs.com/songyaru/p/15078091.html">https://www.cnblogs.com/songyaru/p/15078091.html</a></p></blockquote><h3 id="å®ç°æ–¹å¼"><a href="#å®ç°æ–¹å¼" class="headerlink" title="å®ç°æ–¹å¼"></a>å®ç°æ–¹å¼</h3><blockquote><p>ä¸ä½¿ç”¨æ’ä»¶ç›´æ¥è¿›è¡Œpdfé¢„è§ˆæ—¶ï¼Œå¯¹äºå°æ–‡ä»¶æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä½†åœ¨é¢„è§ˆä¸€ä¸ª305Mï¼Œè¿‘400é¡µçš„pdfæ–‡ä»¶ï¼Œæ‰“å¼€pdfç›´æ¥æ‹‰åˆ°æœ€åå‡ é¡µï¼Œä¼šé€ æˆæµè§ˆå™¨å´©æºƒï¼Œäºæ˜¯å°è¯•ä½¿ç”¨pdf.jsçš„æ’ä»¶æ–¹å¼è¿›è¡Œpdfé¢„è§ˆï¼Œè§£å†³å¤§æ–‡ä»¶æµè§ˆå™¨å´©æºƒçš„é—®é¢˜ã€‚</p></blockquote><h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><h6 id="1-ä¸‹è½½pdfjs"><a href="#1-ä¸‹è½½pdfjs" class="headerlink" title="1.ä¸‹è½½pdfjs"></a>1.ä¸‹è½½pdfjs</h6><blockquote><p>å®˜ç½‘ï¼š<a href="http://mozilla.github.io/pdf.js/getting_started/#download">http://mozilla.github.io/pdf.js/getting_started/#download</a></p></blockquote><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20221020153026258.png" alt="image-20221020153026258"></p><h6 id="2-æ‹–å…¥é¡¹ç›®ä¸­"><a href="#2-æ‹–å…¥é¡¹ç›®ä¸­" class="headerlink" title="2.æ‹–å…¥é¡¹ç›®ä¸­"></a>2.æ‹–å…¥é¡¹ç›®ä¸­</h6><p>å°†å®‰è£…åŒ…æ”¾å…¥ä¸­publicæ–‡ä»¶å¤¹ä¸‹</p><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20221020153036289.png" alt="image-20221020153036289"></p><h6 id="3-é¡µé¢ä¸­ä½¿ç”¨"><a href="#3-é¡µé¢ä¸­ä½¿ç”¨" class="headerlink" title="3.é¡µé¢ä¸­ä½¿ç”¨"></a>3.é¡µé¢ä¸­ä½¿ç”¨</h6><p>ï¼ˆ1ï¼‰ç›´æ¥ä½¿ç”¨</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">open</span>(<span class="string">&#x27;/pdf/web/viewer.html?file=&#x27;</span> + path);<span class="comment">//pathæ˜¯æ–‡ä»¶çš„å…¨è·¯å¾„åœ°å€</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰é€šè¿‡iframeæ–°é¡µé¢ä½¿ç”¨</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:src</span>=<span class="string">&quot;`pdf/web/viewer.html?file=$&#123;pdfUrl&#125;`&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">&quot;pdf-window&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">height</span>=<span class="string">&quot;100%&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">frameborder</span>=<span class="string">&quot;0&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="é—®é¢˜æ€»ç»“"><a href="#é—®é¢˜æ€»ç»“" class="headerlink" title="é—®é¢˜æ€»ç»“"></a>é—®é¢˜æ€»ç»“</h3><h6 id="1-è§£å†³è·¨åŸŸé—®é¢˜"><a href="#1-è§£å†³è·¨åŸŸé—®é¢˜" class="headerlink" title="1.è§£å†³è·¨åŸŸé—®é¢˜"></a>1.è§£å†³è·¨åŸŸé—®é¢˜</h6><p>æŠ¥é”™ï¼šâ€file origin does not match viewerâ€™sâ€</p><p>è§£å†³ï¼šç›´æ¥æ³¨é‡Šæ‰web/viewer.jsä¸­çš„è¿™å‡ è¡Œï¼Œä¸å»åˆ¤æ–­è·¨åŸŸå³å¯</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// const fileOrigin = new URL(file, window.location.href).origin;</span></span><br><span class="line"><span class="comment">// if (fileOrigin !== viewerOrigin) &#123;</span></span><br><span class="line"><span class="comment">//   throw new Error(&quot;file origin does not match viewer&#x27;s&quot;);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure><h6 id="2-pdfjsèº«ä»½è®¤è¯"><a href="#2-pdfjsèº«ä»½è®¤è¯" class="headerlink" title="2.pdfjsèº«ä»½è®¤è¯"></a>2.pdfjsèº«ä»½è®¤è¯</h6><p>é€šè¿‡è¿™ç§æ–¹å¼è®¿é—®â€™/pdf/web/viewer.html?file=â€™+pathï¼Œå¦‚ä½•åœ¨è¯·æ±‚åç«¯pdfæ–‡æ¡£æ—¶ï¼Œåœ¨è¯·æ±‚å¤´ä¸­åŠ å…¥tokenéªŒè¯ï¼Ÿ</p><p>è§£å†³ï¼šæ‰¾åˆ°buildä¸‹çš„pdf.jsæ–‡ä»¶ï¼ŒåŠ ä¸Šè¯·æ±‚å¤´tokençš„è®¾ç½®ä»£ç å³å¯</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> params = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="literal">null</span>);</span><br><span class="line"><span class="keyword">var</span> rangeTransport = <span class="literal">null</span>,</span><br><span class="line">  worker = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ è®¾ç½®tokenä»£ç </span></span><br><span class="line">params[<span class="string">&#x27;httpHeaders&#x27;</span>] = &#123;</span><br><span class="line">  <span class="string">&quot;Authentication&quot;</span>: <span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;TOKEN&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="3-å»æ‰pdfé¢„è§ˆé¡¶éƒ¨çš„ä¸‹è½½ç­‰"><a href="#3-å»æ‰pdfé¢„è§ˆé¡¶éƒ¨çš„ä¸‹è½½ç­‰" class="headerlink" title="3.å»æ‰pdfé¢„è§ˆé¡¶éƒ¨çš„ä¸‹è½½ç­‰"></a>3.å»æ‰pdfé¢„è§ˆé¡¶éƒ¨çš„ä¸‹è½½ç­‰</h6><p>è§£å†³ï¼šæ‰¾åˆ°webä¸‹viewer.htmlæ–‡ä»¶ï¼Œæ‰¾åˆ°ç›¸å¯¹åº”çš„æ§åˆ¶è®¾ç½®æ ·å¼visibility:hiddenå³å¯</p><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20221020153049688.png" alt="image-20221020153049688"></p><h6 id="4-åˆ†æ®µåŠ è½½"><a href="#4-åˆ†æ®µåŠ è½½" class="headerlink" title="4.åˆ†æ®µåŠ è½½"></a>4.åˆ†æ®µåŠ è½½</h6><p>å¯¹äºä¸€äº›æ¯”è¾ƒå¤§çš„pdfæ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦åšåˆ°åˆ†æ®µåŠ è½½ï¼Œå¦åˆ™ä¼šä½¿ç•Œé¢å¡æ­»</p><p>è§£å†³ï¼š</p><p>ï¼ˆ1ï¼‰æ‰¾åˆ°webä¸‹viewer.jsï¼Œå°†disableAutoFetchã€disableStreamå‡æ”¹ä¸ºtrue</p><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20221020153059956.png" alt="image-20221020153059956"></p><p>ï¼ˆ2ï¼‰æ‰¾åˆ°build/pdf.jsæ–‡ä»¶ï¼Œå¯»æ‰¾DEFAULT_RANGE_CHUNK_SIZEé…ç½®é¡¹ï¼Œå¹¶ä¿®æ”¹ä¸º65536*16</p><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20221020153109185.png" alt="image-20221020153109185"></p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç»§æ‰¿</title>
      <link href="/posts/28439.html"/>
      <url>/posts/28439.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p><strong>é¦–å…ˆï¼Œç»§æ‰¿çš„æ˜¯ å±æ€§ å’Œ åŸå‹æ–¹æ³•</strong></p></blockquote><h5 id="ES6-ç»§æ‰¿"><a href="#ES6-ç»§æ‰¿" class="headerlink" title="ES6 ç»§æ‰¿"></a>ES6 ç»§æ‰¿</h5><p>ES6ï¼š<a href="https://es6.ruanyifeng.com/#docs/class-extends">https://es6.ruanyifeng.com/#docs/class-extends</a></p><blockquote><p>Class å¯ä»¥é€šè¿‡<code>extends</code>å…³é”®å­—å®ç°ç»§æ‰¿ï¼Œè®©å­ç±»ç»§æ‰¿çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•</p><p>å­ç±»å¦‚æœå†™ <code>constructor()</code>å°±å¿…é¡»è¦å†™ <code>super()</code>,ä¸”è¦å†™åœ¨æœ€å‰é¢ï¼Œå¦åˆ™æŠ¥é”™ï¼Œåªæœ‰<code>super()</code>æ–¹æ³•æ‰èƒ½è®©å­ç±»å®ä¾‹ç»§æ‰¿çˆ¶ç±»ã€‚</p><p>:facepunch:ps: ES6 è§„å®šï¼Œå­ç±»å¿…é¡»åœ¨<code>constructor()</code>æ–¹æ³•ä¸­è°ƒç”¨<code>super()</code>ï¼Œå¦åˆ™å°±ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºå­ç±»è‡ªå·±çš„<code>this</code>å¯¹è±¡ï¼Œå¿…é¡»å…ˆé€šè¿‡çˆ¶ç±»çš„æ„é€ å‡½æ•°å®Œæˆå¡‘é€ ï¼Œå¾—åˆ°ä¸çˆ¶ç±»åŒæ ·çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œç„¶åå†å¯¹å…¶è¿›è¡ŒåŠ å·¥ï¼Œæ·»åŠ å­ç±»è‡ªå·±çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ã€‚å¦‚æœä¸è°ƒç”¨<code>super()</code>æ–¹æ³•ï¼Œå­ç±»å°±å¾—ä¸åˆ°è‡ªå·±çš„<code>this</code>å¯¹è±¡ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Parent</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">x,y</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span> = x</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">y</span> = y</span><br><span class="line">...</span><br><span class="line">  &#125;</span><br><span class="line"><span class="title function_">toString</span>(<span class="params"></span>) &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Parent</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">x, y, color</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(x, y); <span class="comment">// è°ƒç”¨çˆ¶ç±»çš„constructor(x, y)</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">color</span> = color;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">toString</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">color</span> + <span class="string">&#x27; &#x27;</span> + <span class="variable language_">super</span>.<span class="title function_">toString</span>(); <span class="comment">// è°ƒç”¨çˆ¶ç±»çš„toString()</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="ES5-ç»§æ‰¿"><a href="#ES5-ç»§æ‰¿" class="headerlink" title="ES5 ç»§æ‰¿"></a>ES5 ç»§æ‰¿</h5><blockquote><p>js ä¸­æœ‰å¾ˆå¤šä¸­ç»§æ‰¿çš„æ–¹å¼ï¼Œä¸è¿‡æ¯ä¸€ç§ç»§æ‰¿æ–¹å¼éƒ½æœ‰ä¼˜ç¼ºç‚¹ï¼Œé‡ç‚¹æŒæ¡ ES5 ç»§æ‰¿ï¼Œåˆ«çš„ç»§æ‰¿æ–¹å¼åŸºæœ¬éƒ½æ˜¯ ES5 ç»§æ‰¿çš„è¯­æ³•ç³–</p><p>å…ˆåˆ›é€ å­ç±»å®ä¾‹ï¼Œé€šè¿‡<code>Parent.call(this, arg1, arg2...)</code>å°†çˆ¶ç±»çš„å±æ€§æ–¹æ³•æ·»åŠ åˆ°<code>this</code>ä¸Šï¼Œç»§æ‰¿äº†çˆ¶ç±»çš„å±æ€§</p><p>å†é€šè¿‡ <code>Son.prototype = Object.create( Father.prototype )</code>å°†çˆ¶ç±»çš„åŸå‹ç»§æ‰¿è¿‡æ¥</p><p>æœ€åå¯ä»¥é€šè¿‡<code>Son.prototype.constructor = Son</code> å°†å­ç±»çš„åŸå‹æŒ‡åˆ°å­ç±»èº«ä¸Š</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Father</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Father</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">get</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;ä¼˜ç§€çš„&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»§æ‰¿çš„æ˜¯ å±æ€§ å’Œ åŸå‹æ–¹æ³•</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="title class_">Father</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>, name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Son.prototype = new Father() // ç›¸äº’å½±å“ ä¼šå­˜åœ¨ä¸€ä¸ª &#123;name:undefined&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Object.create åˆ›é€ å‡ºä¸€ä¸ªç©ºå¯¹è±¡</span></span><br><span class="line"><span class="comment">// è®©å½“å‰å¯¹è±¡çš„__proto__ æŒ‡å‘ä¼ å…¥çš„å¯¹è±¡</span></span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Father</span>.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Son</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> father = <span class="keyword">new</span> <span class="title class_">Father</span>(<span class="string">&quot;Father&quot;</span>)</span><br><span class="line"><span class="keyword">const</span> son = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="string">&quot;ç¨‹åºå‘˜&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(son);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(son.<span class="title function_">get</span>() + son.<span class="property">name</span>); <span class="comment">// ä¼˜ç§€çš„ç¨‹åºå‘˜</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é…ç½®ESLintå’ŒPrettier</title>
      <link href="/posts/8990.html"/>
      <url>/posts/8990.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h4 id="1ã€ä¸ºä»€ä¹ˆè¦ä½¿ç”¨-ESLint-å’Œ-Prettier"><a href="#1ã€ä¸ºä»€ä¹ˆè¦ä½¿ç”¨-ESLint-å’Œ-Prettier" class="headerlink" title="1ã€ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ ESLint å’Œ Prettier"></a>1ã€ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ ESLint å’Œ Prettier</h4><blockquote><p>ä»£ç è§„èŒƒæ˜¯è½¯ä»¶å¼€å‘é¢†åŸŸç»ä¹…ä¸è¡°çš„è¯é¢˜ï¼Œéšç€å‰ç«¯åº”ç”¨çš„å¤§å‹åŒ–å’Œå¤æ‚åŒ–ï¼Œè¶Šæ¥è¶Šå¤šçš„å‰ç«¯å›¢é˜Ÿå¼€å§‹é‡è§† <code>JavaScript</code> ä»£ç è§„èŒƒã€‚ä¸ä»¥è§„çŸ©ï¼Œä¸èƒ½æˆæ–¹åœ†</p></blockquote><h4 id="2ã€ESlint"><a href="#2ã€ESlint" class="headerlink" title="2ã€ESlint"></a>2ã€ESlint</h4><blockquote><p>å¦‚æœé¡¹ç›®ç›®å½•ä¸‹æœ‰å¤šä¸ªé…ç½®æ–‡ä»¶ï¼ŒESLint åªä¼šä½¿ç”¨ä¸€ä¸ªï¼Œä¼˜å…ˆçº§ä¸ºï¼š<code>.eslintrc.js</code> &gt; <code>.eslintrc</code> &gt; <code>package.json</code></p></blockquote><h6 id="gt-å®‰è£…-ESlint"><a href="#gt-å®‰è£…-ESlint" class="headerlink" title="&gt; å®‰è£… ESlint"></a>&gt; å®‰è£… ESlint</h6><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ é™¤åŸæ¥çš„ä¾èµ–</span></span><br><span class="line">npm rm @vue/cli-plugin-eslint @vue/eslint-config-prettier babel-eslint eslint eslint-plugin-prettier eslint-plugin-vue prettier</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å®‰è£… ä¾èµ–</span></span><br><span class="line">npm install @vue/cli-plugin-eslint@4.4.6 @vue/eslint-config-prettier@7.0.0 babel-eslint eslint@7.15.0 eslint-plugin-prettier@3.4.1 eslint-plugin-vue@7.2.0 prettier@2.5.1 --save-dev</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦‚æœå®‰è£…æŠ¥é”™</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--legacy-peer-depsï¼šå®‰è£…æ—¶å¿½ç•¥æ‰€æœ‰peerDependenciesï¼Œå¿½è§†ä¾èµ–å†²çªï¼Œé‡‡ç”¨npmç‰ˆæœ¬4åˆ°ç‰ˆæœ¬6çš„æ ·å¼å»å®‰è£…ä¾èµ–ï¼Œå·²æœ‰çš„ä¾èµ–ä¸ä¼šè¦†ç›–ã€‚å»ºè®®ç”¨--legacy-peer-deps æ¯”è¾ƒä¿é™©ä¸€ç‚¹</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--force ä¼šæ— è§†å†²çªï¼Œå¹¶å¼ºåˆ¶è·å–è¿œç«¯npmåº“èµ„æºï¼Œå½“æœ‰èµ„æºå†²çªæ—¶è¦†ç›–æ‰åŸå…ˆçš„ç‰ˆæœ¬ã€‚</span></span><br><span class="line">npm install @vue/cli-plugin-eslint @vue/eslint-config-prettier babel-eslint eslint eslint-plugin-prettier eslint-plugin-vue prettier --save-dev --legacy-peer-deps</span><br></pre></td></tr></table></figure><p>åœ¨ package.json æ–‡ä»¶ä¸­æ·»åŠ æˆ–æ›¿æ¢ lint å‘½ä»¤</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;lint&quot;</span><span class="punctuation">:</span> <span class="string">&quot;eslint --fix --ext .js,.vue src/&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm run lint # éœ€è¦è¿›è¡Œä¸€é”®ä¿®å¤çš„æ—¶å€™å°±æ‰§è¡Œå‘½ä»¤</span><br></pre></td></tr></table></figure><h6 id="gt-eslintrc-jsé…ç½®"><a href="#gt-eslintrc-jsé…ç½®" class="headerlink" title="&gt; .eslintrc.jsé…ç½®"></a>&gt; .eslintrc.jsé…ç½®</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">root</span>: <span class="literal">true</span>, <span class="comment">// å½“å‰é¡¹ç›®ä½¿ç”¨è¿™ä¸ªé…ç½®æ–‡ä»¶, ä¸ä¼šå¾€çˆ¶çº§ç›®å½•æ‰¾.eslintrc.jsæ–‡ä»¶</span></span><br><span class="line">    <span class="attr">env</span>: &#123;</span><br><span class="line">        <span class="comment">// æŒ‡å®šeslintå¯åŠ¨ç¯å¢ƒ(vuecliåº•å±‚æ˜¯nodeæ”¯æŒ), browser: trueä¹Ÿå¯ä»¥åœ¨æµè§ˆå™¨è®¾ç½®</span></span><br><span class="line">        <span class="attr">node</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">extends</span>: [</span><br><span class="line">        <span class="comment">// æ‰©å±•é…ç½®</span></span><br><span class="line">        <span class="string">&quot;eslint:recommended&quot;</span>, <span class="comment">// è¿™ä¸ªæ‰©å±•åŒ…å¸®æˆ‘ä»¬å¯ç”¨äº†ä¸€ç³»åˆ—æ ¸å¿ƒè§„åˆ™ï¼Œè¿™äº›è§„åˆ™æ˜¯åœ¨ rulesï¼ˆhttps://cn.eslint.org/docs/rules/ï¼‰é¡µé¢ ä¸­è¢«æ ‡è®°ä¸º âœ… çš„å¸¸è§é—®é¢˜</span></span><br><span class="line">        <span class="string">&quot;plugin:vue/recommended&quot;</span>, <span class="comment">// vueæ¨¡æ¿æ ¼å¼åŒ–æ›´ä¸¥æ ¼</span></span><br><span class="line">        <span class="string">&quot;plugin:prettier/recommended&quot;</span>, <span class="comment">// æ·»åŠ  prettier æ’ä»¶ è§£å†³ eslint å’Œ prettier çš„å†²çª</span></span><br><span class="line">        <span class="string">&quot;plugin:vue/essential&quot;</span>, <span class="comment">// vueé‡Œå¿…é¡»çš„è§„åˆ™</span></span><br><span class="line">        <span class="string">&quot;@vue/prettier&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">parserOptions</span>: &#123;</span><br><span class="line">        <span class="comment">// æ‰©å±•é…ç½®</span></span><br><span class="line">        <span class="comment">// å¯¹æ–°è¯­æ³•ä½¿ç”¨eslint</span></span><br><span class="line">        <span class="attr">parser</span>: <span class="string">&quot;babel-eslint&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//   &quot;off&quot; or 0 - å…³é—­è§„åˆ™</span></span><br><span class="line">    <span class="comment">//   &quot;warn&quot; or 1 - å°†è§„åˆ™è§†ä¸ºä¸€ä¸ªè­¦å‘Šï¼ˆä¸ä¼šå½±å“é€€å‡ºç ï¼‰,åªè­¦å‘Šï¼Œä¸ä¼šé€€å‡ºç¨‹åº</span></span><br><span class="line">    <span class="comment">//   &quot;error&quot; or 2 - å°†è§„åˆ™è§†ä¸ºä¸€ä¸ªé”™è¯¯ (é€€å‡ºç ä¸º1)ï¼ŒæŠ¥é”™å¹¶é€€å‡ºç¨‹åº</span></span><br><span class="line">    <span class="attr">rules</span>: &#123;</span><br><span class="line">        <span class="string">&quot;no-console&quot;</span>: process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&quot;production&quot;</span> ? <span class="string">&quot;warn&quot;</span> : <span class="string">&quot;off&quot;</span>, <span class="comment">// ä¸Šçº¿ç¯å¢ƒç”¨æ‰“å°å°±æŠ¥è­¦å‘Š, å¼€å‘ç¯å¢ƒå…³é—­æ­¤è§„åˆ™</span></span><br><span class="line">        <span class="string">&quot;no-debugger&quot;</span>: process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&quot;production&quot;</span> ? <span class="string">&quot;warn&quot;</span> : <span class="string">&quot;off&quot;</span>, <span class="comment">// debuggerå¯ä»¥ç»ˆæ­¢ä»£ç æ‰§è¡Œ</span></span><br><span class="line">        <span class="string">&quot;prettier/prettier&quot;</span>: [<span class="string">&quot;error&quot;</span>, &#123; <span class="attr">endOfLine</span>: <span class="string">&quot;auto&quot;</span> &#125;], <span class="comment">// è§£å†³ Delete `â`eslint(prettier/prettier) é”™è¯¯</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="3ã€Prettier"><a href="#3ã€Prettier" class="headerlink" title="3ã€Prettier"></a>3ã€Prettier</h4><h6 id="gt-æ ¹ç›®å½•åˆ›å»ºå¹¶é…ç½®-prettierrc-æ–‡ä»¶"><a href="#gt-æ ¹ç›®å½•åˆ›å»ºå¹¶é…ç½®-prettierrc-æ–‡ä»¶" class="headerlink" title="&gt; æ ¹ç›®å½•åˆ›å»ºå¹¶é…ç½® .prettierrc æ–‡ä»¶"></a>&gt; æ ¹ç›®å½•åˆ›å»ºå¹¶é…ç½® <code>.prettierrc</code> æ–‡ä»¶</h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;tabWidth&quot;</span><span class="punctuation">:</span> <span class="number">4</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;printWidth&quot;</span><span class="punctuation">:</span> <span class="number">120</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;useTabs&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;semi&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;singleQuote&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;TrailingComma&quot;</span><span class="punctuation">:</span> <span class="string">&quot;all&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;bracketSpacing&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;jsxBracketSameLine&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;arrowParens&quot;</span><span class="punctuation">:</span> <span class="string">&quot;avoid&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="gt-å‘½ä»¤è¡Œæ ¼å¼åŒ–æ‰€æœ‰æ–‡ä»¶"><a href="#gt-å‘½ä»¤è¡Œæ ¼å¼åŒ–æ‰€æœ‰æ–‡ä»¶" class="headerlink" title="&gt; å‘½ä»¤è¡Œæ ¼å¼åŒ–æ‰€æœ‰æ–‡ä»¶"></a>&gt; å‘½ä»¤è¡Œæ ¼å¼åŒ–æ‰€æœ‰æ–‡ä»¶</h6><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npx prettier --write . #æ ¼å¼åŒ–æ‰€æœ‰æ–‡ä»¶</span><br></pre></td></tr></table></figure><blockquote><p><strong>ï¼ï¼ï¼ é…ç½®å®Œè®°å¾—é‡å¯vscode</strong></p></blockquote><h4 id="4ã€æ’ä»¶å®‰è£…"><a href="#4ã€æ’ä»¶å®‰è£…" class="headerlink" title="4ã€æ’ä»¶å®‰è£…"></a>4ã€æ’ä»¶å®‰è£…</h4><h6 id="Prettier-æ’ä»¶å®‰è£…"><a href="#Prettier-æ’ä»¶å®‰è£…" class="headerlink" title="Prettier æ’ä»¶å®‰è£…"></a>Prettier æ’ä»¶å®‰è£…</h6><blockquote><p>å®‰è£…æ’ä»¶ <code>Prettier - Code formatter</code></p><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/1.webp?x-oss-process=style/huyu" alt="Prettier"></p></blockquote><h6 id="ESLint-æ’ä»¶å®‰è£…"><a href="#ESLint-æ’ä»¶å®‰è£…" class="headerlink" title="ESLint æ’ä»¶å®‰è£…"></a>ESLint æ’ä»¶å®‰è£…</h6><blockquote><p>å®‰è£…æ’ä»¶ <code>ESLint</code></p><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/2.webp?x-oss-process=style/huyu" alt="ESLint"></p></blockquote><ul><li>æ·»åŠ é…ç½®é¡¹</li></ul><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/3.webp?x-oss-process=style/huyu" alt="vscodeé…ç½®é¡¹"></p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="comment">// å°†prettierè®¾ç½®ä¸ºé»˜è®¤æ ¼å¼åŒ–ç¨‹åº(åœ¨ç¼–è¾‘å™¨ä¸­æœ‰å¯èƒ½è¢«å…¶ä»–Formatterå ç”¨ï¼Œæ‰€ä»¥å°†prettierè®¾ç½®ä¸ºé»˜è®¤Formatter)</span></span><br><span class="line">  <span class="attr">&quot;editor.defaultFormatter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;esbenp.prettier-vscode&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">// ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ– (æ ¹æ®æ ¹ç›®å½•ä¸‹â€˜.prettierrcæ–‡ä»¶é…ç½®é¡¹â€™)</span></span><br><span class="line">  <span class="attr">&quot;editor.formatOnSave&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">// Enable per-language</span></span><br><span class="line">  <span class="attr">&quot;[javascript]&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;editor.defaultFormatter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;esbenp.prettier-vscode&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;editor.formatOnSave&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">// ä¸ºESLintå¯ç”¨â€œä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤â€ï¼Œå¹¶ä¸”ä»ç„¶å…·æœ‰æ ¼å¼å’Œå¿«é€Ÿä¿®å¤åŠŸèƒ½</span></span><br><span class="line">  <span class="attr">&quot;editor.codeActionsOnSave&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;source.fixAll&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;source.fixAll.eslint&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="5ã€é…ç½®é¡¹å«ä¹‰"><a href="#5ã€é…ç½®é¡¹å«ä¹‰" class="headerlink" title="5ã€é…ç½®é¡¹å«ä¹‰"></a>5ã€é…ç½®é¡¹å«ä¹‰</h4><h6 id="prettierrcæ–‡ä»¶å¸¸è§é…ç½®"><a href="#prettierrcæ–‡ä»¶å¸¸è§é…ç½®" class="headerlink" title=".prettierrcæ–‡ä»¶å¸¸è§é…ç½®"></a>.prettierrcæ–‡ä»¶å¸¸è§é…ç½®</h6><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// tabç¼©è¿›å¤§å°,é»˜è®¤ä¸º2</span></span><br><span class="line">    <span class="attr">&quot;tabWidth&quot;</span><span class="punctuation">:</span> <span class="number">4</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// è¡Œé•¿è§„åˆ™ é»˜è®¤ä¸º120</span></span><br><span class="line">    <span class="attr">&quot;printWidth&quot;</span><span class="punctuation">:</span> <span class="number">120</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// ä½¿ç”¨tabç¼©è¿›ï¼Œé»˜è®¤false true ä½¿ç”¨tabç¼©è¿› false ä½¿ç”¨ç©ºæ ¼ç¼©è¿›</span></span><br><span class="line">    <span class="attr">&quot;useTabs&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// ä½¿ç”¨åˆ†å·, é»˜è®¤true true æœ‰åˆ†å· false æ²¡æœ‰åˆ†å·</span></span><br><span class="line">    <span class="attr">&quot;semi&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// ä½¿ç”¨å•å¼•å·, é»˜è®¤false false åŒå¼•å· true å•å¼•å· (åœ¨jsxä¸­é…ç½®æ— æ•ˆ, é»˜è®¤éƒ½æ˜¯åŒå¼•å·)</span></span><br><span class="line">    <span class="attr">&quot;singleQuote&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// è¡Œå°¾é€—å·,é»˜è®¤ none,å¯é€‰ none|es5|all</span></span><br><span class="line">    <span class="comment">// es5 åŒ…æ‹¬es5ä¸­çš„æ•°ç»„ã€å¯¹è±¡</span></span><br><span class="line">    <span class="comment">// all åŒ…æ‹¬å‡½æ•°å¯¹è±¡ç­‰æ‰€æœ‰å¯é€‰</span></span><br><span class="line">    <span class="attr">&quot;TrailingComma&quot;</span><span class="punctuation">:</span> <span class="string">&quot;all&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// å¯¹è±¡ä¸­çš„ç©ºæ ¼ é»˜è®¤true</span></span><br><span class="line">    <span class="comment">// true: &#123; foo: bar &#125; false: &#123;foo: bar&#125;</span></span><br><span class="line">    <span class="attr">&quot;bracketSpacing&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// JSXæ ‡ç­¾é—­åˆä½ç½® é»˜è®¤false</span></span><br><span class="line">    <span class="comment">// false: &lt;div</span></span><br><span class="line">    <span class="comment">//          className=&quot;&quot;</span></span><br><span class="line">    <span class="comment">//          style=&#123;&#123;&#125;&#125;</span></span><br><span class="line">    <span class="comment">//       &gt;</span></span><br><span class="line">    <span class="comment">// true: &lt;div</span></span><br><span class="line">    <span class="comment">//          className=&quot;&quot;</span></span><br><span class="line">    <span class="comment">//          style=&#123;&#123;&#125;&#125; &gt;</span></span><br><span class="line">    <span class="attr">&quot;jsxBracketSameLine&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// ç®­å¤´å‡½æ•°å‚æ•°æ‹¬å· é»˜è®¤avoid å¯é€‰ avoid| always</span></span><br><span class="line">    <span class="comment">// avoid èƒ½çœç•¥æ‹¬å·çš„æ—¶å€™å°±çœç•¥ ä¾‹å¦‚x =&gt; x</span></span><br><span class="line">    <span class="comment">// always æ€»æ˜¯æœ‰æ‹¬å·</span></span><br><span class="line">    <span class="attr">&quot;arrowParens&quot;</span><span class="punctuation">:</span> <span class="string">&quot;avoid&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æå‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æå‡ä»£ç å¯è¯»æ€§ï¼Œå‡å°‘if-else</title>
      <link href="/posts/8101.html"/>
      <url>/posts/8101.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ç›¸ä¿¡å¤§å®¶æˆ–å¤šæˆ–å°‘éƒ½æ¥è§¦è¿‡æ‹¥æœ‰åºå¤§ <code>if else</code> çš„é¡¹ç›®ä»£ç å§ï¼Œå¤šé‡åµŒå¥—çš„ <code>if else</code> åœ¨ç»´æŠ¤çš„æ—¶å€™çœŸçš„è®©äººå¾ˆæ¼ç«ï¼Œæœ‰æ—¶å€™ä¸€ä¸ª bug æ’æŸ¥ä¸‹æ¥ï¼Œä¸¥é‡æ„Ÿè§‰èº«ä½“è¢«æç©ºğŸ˜¿ã€‚</p><p>æœ¬æ–‡å¹¶æœªæœ‰æ¶ˆç­æˆ–æ­§è§† <code>if else</code>çš„æ„æ€ï¼Œ<code>if else</code> çš„å¥½ç”¨éƒ½çŸ¥é“ï¼Œè¿™é‡Œåªæ˜¯åœ¨æŸäº›ç‰¹å®šåœºæ™¯ä¸ºå¤§å®¶é¢å¤–æä¾›ä¸€ç§æ€è·¯ï¼Œå¢åŠ æˆ‘ä»¬ä»£ç çš„å¯è¯»æ€§ã€‚</p></blockquote><h2 id="çŸ­è·¯è¿ç®—ğŸ’»"><a href="#çŸ­è·¯è¿ç®—ğŸ’»" class="headerlink" title="çŸ­è·¯è¿ç®—ğŸ’»"></a>çŸ­è·¯è¿ç®—ğŸ’»</h2><p>Javascript çš„é€»è¾‘æˆ– <code>||</code> çš„çŸ­è·¯è¿ç®—æœ‰æ—¶å€™å¯ä»¥ç”¨æ¥ä»£æ›¿ä¸€äº›æ¯”è¾ƒç®€å•çš„ <code>if else</code></p><ul><li>é€»è¾‘æˆ– <code>||</code> çš„çŸ­è·¯è¿ç®—ï¼šè‹¥å·¦è¾¹èƒ½è½¬æˆtrueï¼Œè¿”å›å·¦è¾¹å¼å­çš„å€¼ï¼Œåä¹‹è¿”å›å³è¾¹å¼å­çš„å€¼ã€‚</li></ul><p>ä¸‹é¢ç”¨ä¸€ä¸ªç®€å•çš„æ¡ˆä¾‹æ¥è¡¨è¿°</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> c</span><br><span class="line"><span class="keyword">if</span>(a)&#123;</span><br><span class="line">    c = a</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    c = b</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¤§å®¶çœ‹ç€ä¸Šé¢çš„ä»£ç ä¼šéš¾å—å˜›ï¼ˆæœ¬äººæœ‰ä¸€ä¸¢ä¸¢çš„å¼ºè¿«ç—‡ğŸ¤¦ï¼‰ï¼Œæ˜æ˜å°±æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„åˆ¤æ–­å´éœ€è¦å†™å¥½å‡ è¡Œä»£ç æ‰èƒ½å®ç°ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ç”¨çŸ­è·¯è¿ç®—å»ç®€åŒ–æˆ‘ä»¬çš„ä»£ç å•¦ğŸ™‚ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> c = a || b</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™æ ·çœ‹èµ·æ¥æ˜¯ä¸æ˜¯å°±ç®€æ´äº†å¾ˆå¤šğŸ˜•ã€‚</p><h2 id="ä¸‰å…ƒè¿ç®—ç¬¦ğŸ¶"><a href="#ä¸‰å…ƒè¿ç®—ç¬¦ğŸ¶" class="headerlink" title="ä¸‰å…ƒè¿ç®—ç¬¦ğŸ¶"></a>ä¸‰å…ƒè¿ç®—ç¬¦ğŸ¶</h2><p>ä¸‰å…ƒè¿ç®—ç¬¦æˆ‘è§‰å¾—å¤§å®¶åº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰å§ï¼Œå¾ˆå¤šæ—¶å€™ç®€å•çš„ä¸€äº›åˆ¤æ–­æˆ‘ä»¬éƒ½å¯ä»¥ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦å»æ›¿ä»£ <code>if else</code>ï¼Œè¿™é‡Œåªæ¨è <strong>ä¸€å±‚</strong> ä¸‰å…ƒè¿ç®—ç¬¦ï¼Œå› ä¸ºå¤šå±‚åµŒå¥—çš„ä¸‰å…ƒè¿ç®—ç¬¦ä¹Ÿä¸å…·å¤‡è‰¯å¥½çš„å¯è¯»æ€§ğŸ¥¹ã€‚</p><p>ä¾‹å­ï¼šæ¡ä»¶ä¸º true æ—¶è¿”å›1ï¼Œåä¹‹è¿”å›0ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fn = (nBoolean) &#123;</span><br><span class="line">    <span class="keyword">if</span> (nBoolean) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦</span></span><br><span class="line"><span class="keyword">const</span> fn = (nBoolean) &#123;</span><br><span class="line">    <span class="keyword">return</span> nBoolean ? <span class="number">1</span> : <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä¸‰å…ƒè¿ç®—ç¬¦ä½¿ç”¨çš„åœ°æ–¹ä¹Ÿæ¯”è¾ƒå¤šï¼Œæ¯”å¦‚ï¼šæ¡ä»¶èµ‹å€¼ï¼Œé€’å½’â€¦</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// numå€¼åœ¨nBooleanä¸ºtrueæ—¶ä¸º10ï¼Œå¦åˆ™ä¸º5</span></span><br><span class="line"><span class="keyword">let</span> num = nBoolean ? <span class="number">10</span> : <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ±‚0-nä¹‹é—´çš„æ•´æ•°çš„å’Œ</span></span><br><span class="line"><span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">n</span>)&#123;</span><br><span class="line">    sum += n</span><br><span class="line">    <span class="keyword">return</span> n &gt;= <span class="number">2</span> ? <span class="title function_">add</span>(n - <span class="number">1</span>) : result;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> num = <span class="title function_">add</span>(<span class="number">10</span>);<span class="comment">//55</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h2 id="switch-caseğŸ–¥ï¸"><a href="#switch-caseğŸ–¥ï¸" class="headerlink" title="switch caseğŸ–¥ï¸"></a>switch caseğŸ–¥ï¸</h2><p>ä¸Šè¿°çš„ä¸¤ç§æ–¹å¼ï¼šçŸ­è·¯è¿ç®—è·Ÿä¸‰å…ƒè¿ç®—è™½ç„¶å¾ˆå¥½ç”¨ï¼Œä»£ç ä¹Ÿå¾ˆç®€æ´ï¼Œä¸è¿‡éƒ½åªèƒ½ç”¨äºç®€å•çš„åˆ¤æ–­ï¼Œé‡åˆ°å¤šé‡æ¡ä»¶åˆ¤æ–­å°±ä¸èƒ½ä½¿ç”¨äº†ğŸ˜­ã€‚</p><p>å¯¹äº <code>switch case</code>ï¼Œè™½ç„¶å®ƒçš„å¯è¯»æ€§ç¡®å®æ¯” <code>else if</code> æ›´é«˜ï¼Œä½†æ˜¯æˆ‘æƒ³å¤§å®¶åº”è¯¥éƒ½è§‰å¾—å®ƒå†™èµ·æ¥æ¯”è¾ƒéº»çƒ¦å§ğŸ˜£ï¼ˆåæ­£æˆ‘è§‰å¾—å¾ˆéº»çƒ¦ğŸ˜ºï¼‰ã€‚</p><p>ä¾‹ï¼šæœ‰Aã€Bã€Cã€Då››ç§ç§ç±»å‹ï¼Œåœ¨Aã€Bçš„æ—¶å€™è¾“å‡º1ï¼ŒCè¾“å‡º2ã€Dè¾“å‡º3ï¼Œé»˜è®¤è¾“å‡º0ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> type = <span class="string">&#x27;A&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//if else if</span></span><br><span class="line"><span class="keyword">if</span> (type === <span class="string">&#x27;A&#x27;</span> || type === <span class="string">&#x27;B&#x27;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">&#x27;C&#x27;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(type === <span class="string">&#x27;D&#x27;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//switch case</span></span><br><span class="line"><span class="keyword">switch</span> (type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;A&#x27;</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;B&#x27;</span>:</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;C&#x27;</span>:</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;D&#x27;</span>:</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h2 id="å¯¹è±¡é…ç½®-ç­–ç•¥æ¨¡å¼ğŸ“‘"><a href="#å¯¹è±¡é…ç½®-ç­–ç•¥æ¨¡å¼ğŸ“‘" class="headerlink" title="å¯¹è±¡é…ç½®/ç­–ç•¥æ¨¡å¼ğŸ“‘"></a>å¯¹è±¡é…ç½®/ç­–ç•¥æ¨¡å¼ğŸ“‘</h2><p>å¯¹è±¡é…ç½®çœ‹èµ·æ¥è·Ÿ <code>ç­–ç•¥æ¨¡å¼</code> å·®ä¸å¤šï¼Œéƒ½æ˜¯æ ¹æ®ä¸åŒå¾—å‚æ•°ä½¿ç”¨ä¸åŒå¾—æ•°æ®/ç®—æ³•/å‡½æ•°ã€‚ğŸ˜º</p><p>ç­–ç•¥æ¨¡å¼å°±æ˜¯å°†ä¸€ç³»åˆ—ç®—æ³•å°è£…èµ·æ¥ï¼Œå¹¶ä½¿å®ƒä»¬ç›¸äº’ä¹‹é—´å¯ä»¥æ›¿æ¢ã€‚è¢«å°è£…èµ·æ¥çš„ç®—æ³•å…·æœ‰ç‹¬ç«‹æ€§ï¼Œå¤–éƒ¨ä¸å¯æ”¹å˜å…¶ç‰¹æ€§ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨å¯¹è±¡é…ç½®çš„æ–¹æ³•å®ç°ä¸€ä¸‹ä¸Šè¿°çš„ä¾‹å­</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> type = <span class="string">&#x27;A&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> tactics = &#123;</span><br><span class="line">    <span class="string">&#x27;A&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&#x27;B&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&#x27;C&#x27;</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="string">&#x27;D&#x27;</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="attr">default</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(tactics[type]) <span class="comment">// 1</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ç”¨å‡ ä¸ªä¾‹å­è®©å¤§å®¶æ›´åŠ ç†Ÿæ‚‰ä¸€ç‚¹ã€‚</p><h3 id="æ¡ˆä¾‹1-å•†åœºä¿ƒé”€ä»·ğŸ™‹"><a href="#æ¡ˆä¾‹1-å•†åœºä¿ƒé”€ä»·ğŸ™‹" class="headerlink" title="æ¡ˆä¾‹1 å•†åœºä¿ƒé”€ä»·ğŸ™‹"></a>æ¡ˆä¾‹1 å•†åœºä¿ƒé”€ä»·ğŸ™‹</h3><p>æ ¹æ®ä¸åŒçš„ç”¨æˆ·ä½¿ç”¨ä¸åŒçš„æŠ˜æ‰£ï¼Œå¦‚ï¼šæ™®é€šç”¨æˆ·ä¸æ‰“æŠ˜ï¼Œæ™®é€šä¼šå‘˜ç”¨æˆ·9æŠ˜ï¼Œå¹´è´¹ä¼šå‘˜8.5æŠ˜ï¼Œè¶…çº§ä¼šå‘˜8æŠ˜ã€‚</p><p>ä½¿ç”¨<code>if else</code>å®ç°ğŸ˜¢</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è·å–æŠ˜æ‰£ --- ä½¿ç”¨if else</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getDiscount</span> = (<span class="params">userKey</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (userKey === <span class="string">&#x27;æ™®é€šä¼šå‘˜&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0.9</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (userKey === <span class="string">&#x27;å¹´è´¹ä¼šå‘˜&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0.85</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (userKey === <span class="string">&#x27;è¶…çº§ä¼šå‘˜&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0.8</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getDiscount</span>(<span class="string">&#x27;æ™®é€šä¼šå‘˜&#x27;</span>)) <span class="comment">// 0.9</span></span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä½¿ç”¨å¯¹è±¡é…ç½®/ç­–ç•¥æ¨¡å¼å®ç°ğŸ™‚</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è·å–æŠ˜æ‰£ -- ä½¿ç”¨å¯¹è±¡é…ç½®/ç­–ç•¥æ¨¡å¼</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getDiscount</span> = (<span class="params">userKey</span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// æˆ‘ä»¬å¯ä»¥æ ¹æ®ç”¨æˆ·ç±»å‹æ¥ç”Ÿæˆæˆ‘ä»¬çš„æŠ˜æ‰£å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">let</span> discounts = &#123;</span><br><span class="line">        <span class="string">&#x27;æ™®é€šä¼šå‘˜&#x27;</span>: <span class="number">0.9</span>,</span><br><span class="line">        <span class="string">&#x27;å¹´è´¹ä¼šå‘˜&#x27;</span>: <span class="number">0.85</span>,</span><br><span class="line">        <span class="string">&#x27;è¶…çº§ä¼šå‘˜&#x27;</span>: <span class="number">0.8</span>,</span><br><span class="line">        <span class="string">&#x27;default&#x27;</span>: <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> discounts[userKey] || discounts[<span class="string">&#x27;default&#x27;</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getDiscount</span>(<span class="string">&#x27;æ™®é€šä¼šå‘˜&#x27;</span>)) <span class="comment">// 0.9</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä»ä¸Šé¢çš„æ¡ˆåˆ—ä¸­å¯ä»¥æ˜æ˜¾çœ‹å¾—å‡ºæ¥ï¼Œä½¿ç”¨å¯¹è±¡é…ç½®æ¯”ä½¿ç”¨if elseå¯è¯»æ€§æ›´é«˜ï¼Œåç»­å¦‚æœéœ€è¦æ·»åŠ ç”¨æˆ·æŠ˜æ‰£ä¹Ÿåªéœ€è¦ä¿®æ”¹æŠ˜æ‰£å¯¹è±¡å°±è¡ŒğŸ‘ã€‚</p><p>å¯¹è±¡é…ç½®ä¸ä¸€å®šéè¦ä½¿ç”¨å¯¹è±¡å»ç®¡ç†æˆ‘ä»¬é”®å€¼å¯¹ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ <code>Map</code>å»ç®¡ç†ğŸ¦‹ï¼Œå¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è·å–æŠ˜æ‰£ -- ä½¿ç”¨å¯¹è±¡é…ç½®/ç­–ç•¥æ¨¡å¼</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getDiscount</span> = (<span class="params">userKey</span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// æˆ‘ä»¬å¯ä»¥æ ¹æ®ç”¨æˆ·ç±»å‹æ¥ç”Ÿæˆæˆ‘ä»¬çš„æŠ˜æ‰£å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">let</span> discounts = <span class="keyword">new</span> <span class="title class_">Map</span>([</span><br><span class="line">        [<span class="string">&#x27;æ™®é€šä¼šå‘˜&#x27;</span>, <span class="number">0.9</span>],</span><br><span class="line">        [<span class="string">&#x27;å¹´è´¹ä¼šå‘˜&#x27;</span>, <span class="number">0.85</span>],</span><br><span class="line">        [<span class="string">&#x27;è¶…çº§ä¼šå‘˜&#x27;</span>, <span class="number">0.8</span>],</span><br><span class="line">        [<span class="string">&#x27;default&#x27;</span>, <span class="number">1</span>]</span><br><span class="line">    ])</span><br><span class="line">    <span class="keyword">return</span> discounts.<span class="title function_">get</span>(userKey) || discounts.<span class="title function_">get</span>(<span class="string">&#x27;default&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getDiscount</span>(<span class="string">&#x27;æ™®é€šä¼šå‘˜&#x27;</span>)) <span class="comment">// 0.9</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="æ¡ˆä¾‹2-å¹´ç»ˆå¥–ğŸ†"><a href="#æ¡ˆä¾‹2-å¹´ç»ˆå¥–ğŸ†" class="headerlink" title="æ¡ˆä¾‹2 å¹´ç»ˆå¥–ğŸ†"></a>æ¡ˆä¾‹2 å¹´ç»ˆå¥–ğŸ†</h3><p>å…¬å¸çš„å¹´ç»ˆå¥–æ ¹æ®å‘˜å·¥çš„å·¥èµ„åŸºæ•°å’Œç»©æ•ˆç­‰çº§æ¥å‘æ”¾çš„ã€‚ä¾‹å¦‚ï¼Œç»©æ•ˆä¸ºAçš„äººå¹´ç»ˆå¥–æœ‰4å€å·¥èµ„ï¼Œç»©æ•ˆä¸ºBçš„æœ‰3å€ï¼Œç»©æ•ˆä¸ºCçš„åªæœ‰2å€ã€‚</p><p>å‡å¦‚è´¢åŠ¡éƒ¨è¦æ±‚æˆ‘ä»¬æä¾›ä¸€æ®µä»£ç æ¥å®ç°è¿™ä¸ªæ ¸ç®—é€»è¾‘ï¼Œæˆ‘ä»¬è¦æ€ä¹ˆå®ç°å‘¢ï¼Ÿ</p><p>è¿™ä¸æ˜¯å¾ˆç®€å•å˜›ï¼Œä¸€ä¸ªå‡½æ•°å°±æå®šäº†ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">calculateBonus</span> = (<span class="params">performanceLevel, salary</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (performanceLevel === <span class="string">&#x27;A&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> salary * <span class="number">4</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (performanceLevel === <span class="string">&#x27;B&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> salary * <span class="number">3</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (performanceLevel === <span class="string">&#x27;C&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> salary * <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">calculateBonus</span>( <span class="string">&#x27;B&#x27;</span>, <span class="number">20000</span> ) <span class="comment">// è¾“å‡ºï¼š60000</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¯ä»¥å‘ç°ï¼Œè¿™æ®µä»£ç ååˆ†ç®€å•ï¼Œä½†æ˜¯ <code>calculateBonus</code>å‡½æ•°æ¯”è¾ƒåºå¤§ï¼Œæ‰€æœ‰çš„é€»è¾‘åˆ†æ”¯éƒ½åŒ…å«åœ¨<code>if else</code>è¯­å¥ä¸­ï¼Œå¦‚æœå¢åŠ äº†ä¸€ç§æ–°çš„ç»©æ•ˆç­‰çº§Dï¼Œæˆ–è€…æŠŠAç­‰çº§çš„å€æ•°æ”¹æˆ5ï¼Œé‚£æˆ‘ä»¬å¿…é¡»é˜…è¯»æ‰€æœ‰ä»£ç æ‰èƒ½å»åšä¿®æ”¹ğŸ™‡â€â™‚ï¸ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨å¯¹è±¡é…ç½®/ç­–ç•¥æ¨¡å¼å»ç®€åŒ–è¿™ä¸ªå‡½æ•°ğŸ˜º</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> strategies = <span class="keyword">new</span> <span class="title class_">Map</span>([</span><br><span class="line">    [<span class="string">&#x27;A&#x27;</span>, <span class="number">4</span>],</span><br><span class="line">    [<span class="string">&#x27;B&#x27;</span>, <span class="number">3</span>],</span><br><span class="line">    [<span class="string">&#x27;C&#x27;</span>, <span class="number">2</span>]</span><br><span class="line">])</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">calculateBonus</span> = (<span class="params">performanceLevel, salary</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> strategies.<span class="title function_">get</span>(performanceLevel) * salary</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">calculateBonus</span>( <span class="string">&#x27;B&#x27;</span>, <span class="number">20000</span> ) <span class="comment">// è¾“å‡ºï¼š60000</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œè¿™ä¸ªéœ€æ±‚åšå®Œäº†ï¼Œç„¶åäº§å“ç»ç†è¯´è¦åŠ ä¸Šä¸€ä¸ªéƒ¨é—¨åŒºåˆ†ï¼Œå‡è®¾å…¬å¸æœ‰ä¸¤ä¸ªéƒ¨é—¨Då’ŒFï¼ŒDéƒ¨é—¨çš„ä¸šç»©è¾ƒå¥½ï¼Œæ‰€ä»¥å¹´ç»ˆå¥–ç¿»1.2å€ğŸ˜„ï¼ŒFéƒ¨é—¨çš„ä¸šç»©è¾ƒå·®ï¼Œå¹´ç»ˆå¥–æ‰“9æŠ˜ğŸ˜­ã€‚</p><p>æ”¹é€ ä»¥ä¸Šä»£ç ï¼ŒæŠŠçŠ¶æ€å€¼æ‹¼æ¥ï¼Œç„¶åå­˜å…¥Mapä¸­</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä»¥ç»©æ•ˆ_éƒ¨é—¨çš„æ–¹å¼æ‹¼æ¥é”®å€¼å­˜å…¥</span></span><br><span class="line"><span class="keyword">let</span> strategies = <span class="keyword">new</span> <span class="title class_">Map</span>([</span><br><span class="line">    [<span class="string">&#x27;A_D&#x27;</span>, <span class="number">4</span> * <span class="number">1.2</span>],</span><br><span class="line">    [<span class="string">&#x27;B_D&#x27;</span>, <span class="number">3</span> * <span class="number">1.2</span>],</span><br><span class="line">    [<span class="string">&#x27;C_D&#x27;</span>, <span class="number">2</span> * <span class="number">1.2</span>],</span><br><span class="line">    [<span class="string">&#x27;A_F&#x27;</span>, <span class="number">4</span> * <span class="number">0.9</span>],</span><br><span class="line">    [<span class="string">&#x27;B_F&#x27;</span>, <span class="number">3</span> * <span class="number">0.9</span>],</span><br><span class="line">    [<span class="string">&#x27;C_F&#x27;</span>, <span class="number">2</span> * <span class="number">0.9</span>]</span><br><span class="line">])</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">calculateBonus</span> = (<span class="params">performanceLevel, salary, department</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> strategies.<span class="title function_">get</span>(<span class="string">`<span class="subst">$&#123;performanceLevel&#125;</span>_<span class="subst">$&#123;department&#125;</span>`</span>) * salary</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">calculateBonus</span>( <span class="string">&#x27;B&#x27;</span>, <span class="number">20000</span>, <span class="string">&#x27;D&#x27;</span> ) <span class="comment">// è¾“å‡ºï¼š72000</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h2 id="ç»“å°¾ğŸ”š"><a href="#ç»“å°¾ğŸ”š" class="headerlink" title="ç»“å°¾ğŸ”š"></a>ç»“å°¾ğŸ”š</h2><p>æœ¬æ–‡ä¸»è¦æ˜¯å‘å¤§å®¶ä¼ é€’ä¸€ç§æ€æƒ³ï¼Œæˆ‘ä»¬æœ‰å¾ˆå¤šçš„æ–¹æ³•å»ä¼˜åŒ–æˆ‘ä»¬çš„ä»£ç ï¼Œæé«˜æˆ‘ä»¬ä»£ç çš„å¯è¯»æ€§ã€‚</p><p>å¯¹<code>if else</code>å¹¶æ²¡æœ‰æ­§è§†çš„æ„æ€ï¼Œåªæ˜¯å¸Œæœ›åœ¨å¤§å®¶ä»¥åçš„ä»£ç ä¸­ä¸ä»…ä»…åªæœ‰<code>if else</code>ğŸ˜¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ä»£ç ä¼˜åŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡ä¸Šæ˜¯å¦å­˜åœ¨ä¸€ä¸ªå±æ€§</title>
      <link href="/posts/9275.html"/>
      <url>/posts/9275.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä¸€ã€jsåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºç©º"><a href="#ä¸€ã€jsåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºç©º" class="headerlink" title="ä¸€ã€jsåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºç©º"></a>ä¸€ã€jsåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºç©º</h3><p><strong>æ–¹æ³•ä¸€ï¼š</strong></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">empty</span>(<span class="params">obj</span>)&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;    <span class="comment">//éç©º</span></span><br><span class="line">&#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;       <span class="comment">//ä¸ºç©º</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">empty</span>(obj1)) <span class="comment">// è¾“å‡º true ä¸ºç©º</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">empty</span>(obj2)) <span class="comment">//è¾“å‡º false éç©º</span></span><br></pre></td></tr></table></figure><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20221029201350245.png?x-oss-process=style/huyu" alt="æ–¹æ³•ä¸€" style="zoom:67%;" /></p><p><strong>æ–¹æ³•äºŒï¼šJSON.stringify</strong></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = &#123;&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj1) == <span class="string">&quot;&#123;&#125;&quot;</span>)&#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ç©ºå¯¹è±¡&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;éç©ºå¯¹è±¡&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç©ºå¯¹è±¡</span></span><br></pre></td></tr></table></figure><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20221029201932296.png?x-oss-process=style/huyu" alt="JSON.stringify" style="zoom:67%;" /></p><p>æ­¤æ–¹æ³•è¯†åˆ«ä¸äº† <code>function</code>å’Œ<code>undefined</code>ç­‰<code>JSON.stringify</code>çš„ç¼ºé™·</p><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20221029203128050.png?x-oss-process=style/huyu" alt="image-20221029203128050" style="zoom: 50%;" /></p><p><strong>æ–¹æ³•ä¸‰ï¼š</strong>Object.keys(obj) è¿”å›ä¸€ä¸ªç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§ç»„æˆçš„æ•°ç»„ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = &#123;&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="title class_">Object</span>.<span class="title function_">keys</span>(obj1).<span class="property">length</span> == <span class="number">0</span>)&#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ç©ºå¯¹è±¡&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;éç©ºå¯¹è±¡&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="äºŒã€jsåˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦æœ‰æŸä¸ªå±æ€§"><a href="#äºŒã€jsåˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦æœ‰æŸä¸ªå±æ€§" class="headerlink" title="äºŒã€jsåˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦æœ‰æŸä¸ªå±æ€§"></a>äºŒã€jsåˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦æœ‰æŸä¸ªå±æ€§</h3><p><strong>æ–¹æ³•ä¸€ï¼š . æˆ– [ ] å½“æ­¤å±æ€§çš„å€¼ä¸ºfalseã€undefinedã€NaNã€nullã€0ã€â€â€ æ—¶ï¼Œæ­¤æ–¹æ³•ä¸é€‚ç”¨ã€‚</strong></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (obj2.<span class="property">a</span>)&#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å¯¹è±¡æœ‰æ­¤å±æ€§&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å¯¹è±¡æ— æ­¤å±æ€§&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ–¹æ³•äºŒï¼š inè¿ç®—ç¬¦ å¦‚æœæŸå±æ€§åœ¨æŒ‡å®šå¯¹è±¡æˆ–å…¶åŸå‹é“¾ä¸Šåˆ™è¿”å›trueï¼Œåªéœ€åˆ¤æ–­è‡ªèº«å±æ€§æ—¶ï¼Œæ­¤æ–¹æ³•ä¸é€‚ç”¨ã€‚</strong></p><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20221029203437536.png?x-oss-process=style/huyu" alt="image-20221029203437536"></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj2 = &#123; <span class="attr">a</span>:<span class="number">1</span> &#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">&quot;a&quot;</span> <span class="keyword">in</span> obj2)&#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å¯¹è±¡æˆ–å…¶åŸå‹é“¾ä¸Šæœ‰æ­¤å±æ€§&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å¯¹è±¡æˆ–å…¶åŸå‹é“¾ä¸Šæ— æ­¤å±æ€§&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ–¹æ³•ä¸‰ï¼šobj.hasOwnProperty() å¯¹è±¡è‡ªèº«å±æ€§ä¸­å«æœ‰æŸå±æ€§ï¼Œè¿”å›trueã€‚</strong></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj2 = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">if</span> (obj2.<span class="title function_">hasOwnProperty</span>(<span class="string">&quot;a&quot;</span>))&#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å¯¹è±¡ä¸Šæœ‰æ­¤å±æ€§&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å¯¹è±¡ä¸Šæ— æ­¤å±æ€§&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°å­—æ»šåŠ¨</title>
      <link href="/posts/32529.html"/>
      <url>/posts/32529.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="æ•°å­—æ»šåŠ¨"><a href="#æ•°å­—æ»šåŠ¨" class="headerlink" title="æ•°å­—æ»šåŠ¨"></a>æ•°å­—æ»šåŠ¨</h1><h3 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h3><blockquote><p>å¸¸ç”¨æ•°æ®åŒ–å¤§å±çš„echartsç»„ä»¶å’Œuiç»„ä»¶</p></blockquote><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/%E6%95%B0%E5%AD%97%E6%BB%9A%E5%8A%A8.gif" alt="æ•°å­—æ»šåŠ¨"></p><h3 id="å®ç°æ–¹å¼"><a href="#å®ç°æ–¹å¼" class="headerlink" title="å®ç°æ–¹å¼"></a>å®ç°æ–¹å¼</h3><blockquote><p>ä½¿ç”¨vue-animate-numberæ’ä»¶</p></blockquote><h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><p><strong>1.éœ€è¦åœ¨é¡¹ç›®ç»ˆç«¯ä¸‹è½½å®‰è£…vue-animate-number</strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install vue-animate-number</span><br></pre></td></tr></table></figure><p><strong>2. åœ¨main.jså¼•å…¥</strong></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">VueAnimateNumber</span> <span class="keyword">from</span> <span class="string">&#x27;vue-animate-number&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueAnimateNumber</span>)</span><br></pre></td></tr></table></figure><p><strong>3. åœ¨é¡µé¢ä¸­å¼•ç”¨</strong></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;animate-number</span><br><span class="line">  <span class="keyword">from</span>=<span class="string">&quot;0&quot;</span></span><br><span class="line">  :to=<span class="string">&quot;num&quot;</span></span><br><span class="line">  :key=<span class="string">&quot;num&quot;</span></span><br><span class="line">  duration=<span class="string">&quot;500&quot;</span></span><br><span class="line">  :formatter=<span class="string">&quot;formatter&quot;</span></span><br><span class="line">  easing=<span class="string">&quot;easeOutQuad&quot;</span></span><br><span class="line">  &gt;&lt;/animate-number&gt;</span><br><span class="line">&lt;!-- å»ºè®®åŠ ä¸Š:keyï¼Œè¿™æ ·å¯ä»¥é€‚åº”numçš„åŠ¨æ€å˜åŒ– --&gt;</span><br><span class="line">&lt;!-- æ·»åŠ formatterå¯ä»¥ä½¿ç”¨å°æ•° --&gt;</span><br></pre></td></tr></table></figure><p><strong>4. åœ¨jsä¸­ä½¿ç”¨å°æ•°</strong></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">formatter</span>: <span class="keyword">function</span>(<span class="params">num</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> num.<span class="title function_">toFixed</span>(<span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>gité«˜çº§æ“ä½œ</title>
      <link href="/posts/59643.html"/>
      <url>/posts/59643.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Rebase-åˆå¹¶"><a href="#Rebase-åˆå¹¶" class="headerlink" title="Rebase åˆå¹¶"></a>Rebase åˆå¹¶</h2><p>è¯¥å‘½ä»¤å¯ä»¥è®©å’Œ <code>merge</code> å‘½ä»¤å¾—åˆ°çš„ç»“æœåŸºæœ¬æ˜¯ä¸€è‡´çš„ã€‚</p><p>é€šå¸¸ä½¿ç”¨ <code>merge</code> æ“ä½œå°†åˆ†æ”¯ä¸Šçš„ä»£ç åˆå¹¶åˆ° <code>master</code> ä¸­ï¼Œåˆ†æ”¯æ ·å­å¦‚ä¸‹æ‰€ç¤º</p><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/2019-06-01-043801.png?x-oss-process=style/huyu" alt="img"></p><p>ä½¿ç”¨ <code>rebase</code> åï¼Œä¼šå°† <code>develop</code> ä¸Šçš„ <code>commit</code> æŒ‰é¡ºåºç§»åˆ° <code>master</code> çš„ç¬¬ä¸‰ä¸ª <code>commit</code> åé¢ï¼Œåˆ†æ”¯æ ·å­å¦‚ä¸‹æ‰€ç¤º</p><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/2019-06-01-043802.png?x-oss-process=style/huyu" alt="img"></p><p>Rebase å¯¹æ¯” mergeï¼Œä¼˜åŠ¿åœ¨äºåˆå¹¶åçš„ç»“æœå¾ˆæ¸…æ™°ï¼Œåªæœ‰ä¸€æ¡çº¿ï¼ŒåŠ£åŠ¿åœ¨äºå¦‚æœä¸€æ—¦å‡ºç°å†²çªï¼Œè§£å†³å†²çªå¾ˆéº»çƒ¦ï¼Œå¯èƒ½è¦è§£å†³å¤šä¸ªå†²çªï¼Œä½†æ˜¯ merge å‡ºç°å†²çªåªéœ€è¦è§£å†³ä¸€æ¬¡ã€‚</p><p>ä½¿ç”¨ rebase åº”è¯¥åœ¨éœ€è¦è¢« rebase çš„åˆ†æ”¯ä¸Šæ“ä½œï¼Œå¹¶ä¸”è¯¥åˆ†æ”¯æ˜¯æœ¬åœ°åˆ†æ”¯ã€‚å¦‚æœ <code>develop</code> åˆ†æ”¯éœ€è¦ rebase åˆ° <code>master</code> ä¸Šå»ï¼Œé‚£ä¹ˆåº”è¯¥å¦‚ä¸‹æ“ä½œ</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># branch develop</span></span></span><br><span class="line">git rebase master</span><br><span class="line">git checkout master</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># ç”¨äºå°† `master` ä¸Šçš„ HEAD ç§»åŠ¨åˆ°æœ€æ–°çš„ commit</span></span></span><br><span class="line">git merge develop</span><br></pre></td></tr></table></figure><h2 id="stash"><a href="#stash" class="headerlink" title="stash"></a>stash</h2><p><code>stash</code> ç”¨äºä¸´æ—¶ä¿å­˜å·¥ä½œç›®å½•çš„æ”¹åŠ¨ã€‚å¼€å‘ä¸­å¯èƒ½ä¼šé‡åˆ°ä»£ç å†™ä¸€åŠéœ€è¦åˆ‡åˆ†æ”¯æ‰“åŒ…çš„é—®é¢˜ï¼Œå¦‚æœè¿™æ—¶å€™ä½ ä¸æƒ³ <code>commit</code> çš„è¯ï¼Œå°±å¯ä»¥ä½¿ç”¨è¯¥å‘½ä»¤ã€‚</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git stash</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨è¯¥å‘½ä»¤å¯ä»¥æš‚å­˜ä½ çš„å·¥ä½œç›®å½•ï¼Œåé¢æƒ³æ¢å¤å·¥ä½œç›®å½•ï¼Œåªéœ€è¦ä½¿ç”¨</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git stash pop</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä½ ä¹‹å‰ä¸´æ—¶ä¿å­˜çš„ä»£ç åˆå›æ¥äº†</p><h2 id="reflog"><a href="#reflog" class="headerlink" title="reflog"></a>reflog</h2><p><code>reflog</code> å¯ä»¥çœ‹åˆ° HEAD çš„ç§»åŠ¨è®°å½•ï¼Œå‡å¦‚ä¹‹å‰è¯¯åˆ äº†ä¸€ä¸ªåˆ†æ”¯ï¼Œå¯ä»¥é€šè¿‡ <code>git reflog</code> çœ‹åˆ°ç§»åŠ¨ HEAD çš„å“ˆå¸Œå€¼</p><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/2019-06-01-043809.png?x-oss-process=style/huyu" alt="img"></p><p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼ŒHEAD çš„æœ€åä¸€æ¬¡ç§»åŠ¨è¡Œä¸ºæ˜¯ <code>merge</code> åï¼Œæ¥ä¸‹æ¥åˆ†æ”¯ <code>new</code> å°±è¢«åˆ é™¤äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ‰¾å› <code>new</code> åˆ†æ”¯</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git checkout 37d9aca</span><br><span class="line">git checkout -b new</span><br></pre></td></tr></table></figure><p>PSï¼š<code>reflog</code> è®°å½•æ˜¯æ—¶æ•ˆçš„ï¼Œåªä¼šä¿å­˜ä¸€æ®µæ—¶é—´å†…çš„è®°å½•ã€‚</p><h2 id="Reset"><a href="#Reset" class="headerlink" title="#Reset"></a><a href="https://yuchengkai.cn/docs/cs/git.html#reset">#</a>Reset</h2><p>å¦‚æœä½ æƒ³åˆ é™¤åˆšå†™çš„ commitï¼Œå°±å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®ç°</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git reset --hard HEAD^</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ <code>reset</code> çš„æœ¬è´¨å¹¶ä¸æ˜¯åˆ é™¤äº† commitï¼Œè€Œæ˜¯é‡æ–°è®¾ç½®äº† HEAD å’Œå®ƒæŒ‡å‘çš„ branchã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>51world(æ•°å­—å­ªç”Ÿ)</title>
      <link href="/posts/3655.html"/>
      <url>/posts/3655.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ğŸ’¡ æ¦‚å¿µè§£é‡Šï¼šæ•°å­—å­ªç”Ÿæ˜¯å……åˆ†åˆ©ç”¨ç‰©ç†æ¨¡å‹ã€ä¼ æ„Ÿå™¨æ›´æ–°ã€è¿è¡Œå†å²ç­‰æ•°æ®ï¼Œé›†æˆå¤šå­¦ç§‘ã€å¤šç‰©ç†é‡ã€å¤šå°ºåº¦ã€å¤šæ¦‚ç‡çš„ä»¿çœŸè¿‡ç¨‹ï¼Œåœ¨è™šæ‹Ÿç©ºé—´ä¸­å®Œæˆæ˜ å°„ï¼Œä»è€Œåæ˜ ç›¸å¯¹åº”çš„å®ä½“è£…å¤‡çš„å…¨ç”Ÿå‘½å‘¨æœŸè¿‡ç¨‹ã€‚æ•°å­—å­ªç”Ÿæ˜¯ä¸€ç§è¶…è¶Šç°å®çš„æ¦‚å¿µï¼Œå¯ä»¥è¢«è§†ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªé‡è¦çš„ã€å½¼æ­¤ä¾èµ–çš„è£…å¤‡ç³»ç»Ÿçš„æ•°å­—æ˜ å°„ç³»ç»Ÿã€‚</p><h1 id="51worldæ•°å­—å­ªç”Ÿå¹³å°"><a href="#51worldæ•°å­—å­ªç”Ÿå¹³å°" class="headerlink" title="51worldæ•°å­—å­ªç”Ÿå¹³å°"></a>51worldæ•°å­—å­ªç”Ÿå¹³å°</h1><p>ğŸ’¡ å¹³å°ç®€ä»‹ï¼š51worldæ•°å­—å­ªç”ŸåŸå¸‚å¹³å°é‡‡ç”¨â€œå¤šå…ƒæ•°æ®å¤„ç†ï¼ŒåŸå¸‚åº•åº§ç”Ÿæˆï¼Œåº”ç”¨ç•Œé¢å¼€å‘ï¼Œæ•°æ®é›†æˆå¼€æ”¾â€çš„æ¨¡å—åŒ–è®¾è®¡ï¼Œæ»¡è¶³å¹³å°æŒç»­è¿è¥ï¼Œåº”ç”¨çµæ´»é€‚é…ï¼Œæ•°æ®ç®¡ç†ä¿å¯†çš„éœ€æ±‚ï¼Œæ”¯æŒCIMã€IOCï¼ŒåŸå¸‚å¤§è„‘ä¸šåŠ¡ï¼ŒåŠ©ç†åŸå¸‚æ•°å­—åŒ–è½¬å‹</p><p>âœï¸å¹³å°åœ°å€ï¼š<a href="https://www.51aes.com/">https://www.51aes.com/</a></p><h2 id="äº§å“ç”Ÿæ€"><a href="#äº§å“ç”Ÿæ€" class="headerlink" title="äº§å“ç”Ÿæ€"></a>äº§å“ç”Ÿæ€</h2><div class="table-container"><table><thead><tr><th><a href="#DAN0W"><strong>PaaSå¹³å°</strong></a></th><th>é€šè¿‡å¼€æ”¾äº§å“èƒ½åŠ›ã€è®©å¼€å‘è€…å…±äº«å„è¡Œä¸šAESåœºæ™¯åº•æ¿ï¼Œæ•°æ®é¢æ¿ï¼Œè¶…çº§æ¥å£ç­‰å¸®åŠ©å¼€å‘è€…å¿«é€Ÿæ„å»ºå…¨è¡Œä¸šåº”ç”¨ï¼ˆåŸå¸‚ã€å›­åŒºã€äº¤é€šã€åœ°äº§ã€æ°´åŠ¡ç­‰ï¼‰0ä»£ç å¼€å‘ï¼Œä¸€ç«™å¼åˆ›ä½œï¼Œå¤šç«¯è·¨å¹³å°çš„æ•°å­—å­ªç”Ÿäº¤äº’ç³»ç»Ÿ</th></tr></thead><tbody><tr><td><a href="#zqHnG"><strong>SuperAPI</strong></a></td><td>æ˜¯ä¸€å¥—è´Ÿè´£äº¤æ¶‰Webé¡µé¢å’Œäº‘æ¸²æŸ“æœåŠ¡çš„ç¼–ç¨‹æ¥å£ï¼ˆfor JavaScriptï¼‰, éœ€è¦åŸºäº51å¹³å°ä½¿ç”¨ï¼›ç”¨æˆ·å¯åœ¨WEBé¡µé¢ä¸Šåˆ›å»ºä»»æ„HTML5 UIå…ƒç´ , åˆ©ç”¨SuperAPIä¸æ¸²æŸ“åœºæ™¯è¿›è¡ŒåŒå‘äº¤äº’ã€‚åŒæ—¶å¯ä»¥å…¼å®¹å½“å‰ä¸»æµçš„å‰ç«¯æ¡†æ¶ï¼ˆVueï¼ŒReactï¼ŒAngularç­‰ï¼‰</td></tr><tr><td><a href="#mTQHM"><strong>SuperGUI</strong></a></td><td>SuperGUIï¼ˆå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼‰ï¼Œæ˜¯å›´ç»•ç€51WORLDæ ¸å¿ƒäº§å“å…¨è¦ç´ åœºæ™¯ï¼ˆAESï¼‰ï¼Œå¸®åŠ©ç”Ÿæ€åˆä½œä¼™ä¼´è¿›è¡Œç»†åˆ†è¡Œä¸šçš„è§£å†³æ–¹æ¡ˆçš„æ­å»ºå’Œè¾“å‡ºï¼Œäº§å“å½¢æ€ä¸ºB/Sæ¶æ„çš„å¼€å‘è€…ç”Ÿæ€ç»„åˆå·¥å…·ï¼Œæ—¨åœ¨å°†åŸºäºAESçš„æ•°å­—å­ªç”ŸåŸºç¡€èƒ½åŠ›å¿«é€Ÿèµ‹èƒ½å…¨è¡Œä¸šï¼Œå¸®åŠ©ç”Ÿæ€ä¼™ä¼´é«˜æ•ˆçš„ã€ä½æˆæœ¬çš„æ„å»ºæ•°å­—å­ªç”Ÿæ§åˆ¶ç®¡ç†å¹³å°ã€‚</td></tr><tr><td><a href="#ZOKQn"><strong>è“å›¾ç¼–è¾‘å™¨</strong></a></td><td>SuperGUIä¸­ç¼–è¾‘äº‹ä»¶é…ç½®åŠŸèƒ½ï¼Œå¯ä»¥æ“ä½œé¡µé¢ä¸­çš„å…ƒç´ èŠ‚ç‚¹ï¼Œäº¤äº’èŠ‚ç‚¹ï¼Œé€»è¾‘èŠ‚ç‚¹ï¼Œåœºæ™¯èŠ‚ç‚¹ï¼Œå¯ä»¥æ¥å…¥ SuperAPI å®ç°åœºæ™¯æ¸²æŸ“åŒå‘äº¤äº’åŠŸèƒ½</td></tr></tbody></table></div><h2 id="PaaSå¹³å°"><a href="#PaaSå¹³å°" class="headerlink" title="PaaSå¹³å°"></a>PaaSå¹³å°</h2><p>ä¸‹è½½åœ°å€ï¼š<a href="https://wdp.51aes.com/product-download">https://wdp.51aes.com/product-download</a></p><p>äº§å“æ–‡æ¡£ï¼š<a href="https://djp2gcp2um.feishu.cn/docs/doccncXWIo0B47godjUyVf3N9Fe#">https://djp2gcp2um.feishu.cn/docs/doccncXWIo0B47godjUyVf3N9Fe#</a></p><h4 id="åŠŸèƒ½1ï¼šç®¡ç†ä¸­å¿ƒ"><a href="#åŠŸèƒ½1ï¼šç®¡ç†ä¸­å¿ƒ" class="headerlink" title="åŠŸèƒ½1ï¼šç®¡ç†ä¸­å¿ƒ"></a>åŠŸèƒ½1ï¼š<a href="https://djp2gcp2um.feishu.cn/docs/doccncXWIo0B47godjUyVf3N9Fe#pvOmJa">ç®¡ç†ä¸­å¿ƒ</a></h4><p>åœ¨51WDPç®¡ç†ä¸­å¿ƒå†…ï¼Œç”¨æˆ·å¯ä»¥å¯¹æ¡ˆä¾‹è¿›è¡Œç®¡ç†åŠå‘å¸ƒï¼Œä¹Ÿå¯ä»¥ç®¡ç†èµ„äº§å’Œåœºæ™¯ï¼ˆå¾…å¼€æ”¾ï¼‰ï¼ŒæŸ¥çœ‹è‡ªå·±çš„æƒç›Šï¼Œè®¾ç½®ï¼Œä¸ªäººä¿¡æ¯ï¼Œæ¥æ”¶é€šçŸ¥ç­‰ã€‚</p><p>çŸ¥è¯†ç‚¹ï¼š</p><p>1.å½“åœºæ™¯éœ€è¦ä¸superAPIä¸­é“¾æ¥æ—¶éœ€è¦ä½¿ç”¨åˆ°ç®¡ç†ä¸­å¿ƒä¸­çš„æ¸²æŸ“å£ä»¤ï¼ˆå…·ä½“å®ç°ï¼š<a href="#IVMEf">superAPI-åœºæ™¯æ¸²æŸ“</a>ï¼‰</p><p>2.å½“éœ€è¦æœ¬åœ°åœºæ™¯å¤šä¸ªäººä½¿ç”¨æ—¶å¯ä»¥åœ¨ ç®¡ç†ä¸­å¿ƒ - ç³»ç»Ÿè®¾ç½® ä¸­ä¿®æ”¹ æ¸²æŸ“è·¯æ•° ï¼Œå³å¯å®ç°å¤šäººæ“ä½œï¼ˆå¤šäººæ“ä½œå¯¹ç”µè„‘æ€§èƒ½è¦æ±‚è¾ƒé«˜ï¼‰</p><h4 id="åŠŸèƒ½2ï¼šæ¡ˆä¾‹ç¼–è¾‘å™¨"><a href="#åŠŸèƒ½2ï¼šæ¡ˆä¾‹ç¼–è¾‘å™¨" class="headerlink" title="åŠŸèƒ½2ï¼šæ¡ˆä¾‹ç¼–è¾‘å™¨"></a>åŠŸèƒ½2ï¼š<a href="https://djp2gcp2um.feishu.cn/docs/doccncXWIo0B47godjUyVf3N9Fe#U4chVE">æ¡ˆä¾‹ç¼–è¾‘å™¨</a></h4><p>åœ¨æ¡ˆä¾‹ç¼–è¾‘å™¨ä¸­ï¼Œç”¨æˆ·å¯ä»¥å¯¹è‡ªå·±çš„æ¡ˆä¾‹è¿›è¡Œåˆ›ä½œç¼–è¾‘ï¼Œç›®å‰æœ‰ã€æ¨¡æ¿ã€‘ã€åœºæ™¯ã€‘ã€æ¨¡å‹ã€‘ã€é¢æ¿ã€‘ã€äº¤äº’ï¼ˆè“å›¾ï¼‰ã€‘ã€å¯¼å…¥ã€‘ç­‰åŠŸèƒ½æ¨¡å—ï¼Œå¯¹åº”äº†æ•°å­—å­ªç”Ÿé¡¹ç›®çš„å„é¡¹åŸºæœ¬è¦ç´ ã€‚å¦å¤–ï¼Œè¿˜æœ‰ä¼—å¤šçš„å…¨å±€åŠŸèƒ½ï¼ŒåŒ…æ‹¬åå¥½è®¾ç½®ã€æ¨¡å¼åˆ‡æ¢ã€é¢„è§ˆã€å‘å¸ƒç­‰ã€‚</p><h2 id="SuperAPI"><a href="#SuperAPI" class="headerlink" title="SuperAPI"></a>SuperAPI</h2><p>äº§å“æ–‡æ¡£ï¼š<a href="http://superapi.51aes.com/guide">http://superapi.51aes.com/guide</a></p><h4 id="æŠ€æœ¯æ¶æ„ï¼š"><a href="#æŠ€æœ¯æ¶æ„ï¼š" class="headerlink" title="æŠ€æœ¯æ¶æ„ï¼š"></a><strong>æŠ€æœ¯æ¶æ„</strong>ï¼š</h4><p>ä¸‰ç»´åœºæ™¯é€šè¿‡51WORLDäº‘ç«¯æ¸²æŸ“ï¼Œå°†å®æ—¶è§†é¢‘æµæ¨é€åˆ°ç½‘é¡µç«¯ï¼Œå¹¶ä¸”èƒ½å¤Ÿå®ç°å‰ç«¯åˆ°åç«¯çš„äº¤äº’åŒæ­¥ã€‚</p><p>SuperAPIæä¾›å¯åœ¨WEBç«¯è¿›è¡Œè°ƒç”¨çš„æ–¹æ³•ï¼Œä»¥ä¾¿ç”¨æˆ·ä»å‰ç«¯é¡µé¢ç›´æ¥å‘51WORLDäº‘æ¸²æŸ“å¹³å°ç¨‹åºå‘é€æŒ‡ä»¤ã€‚åŒæ—¶é€šè¿‡æ³¨å†Œå‡½æ•°ç›‘å¬51WORLDäº‘æ¸²æŸ“ç¨‹åºå‘é€çš„äº‹ä»¶ï¼Œç”¨æˆ·å†è·Ÿæ®äº‹ä»¶ç±»å‹ï¼Œåœ¨WEBç«¯ä¸­å¯¹æ­¤ç±»äº‹ä»¶åšå‡ºå“åº”ã€‚</p><h4 id="äº‘æ¸²æŸ“æŠ€æœ¯æè¿°ï¼š"><a href="#äº‘æ¸²æŸ“æŠ€æœ¯æè¿°ï¼š" class="headerlink" title="äº‘æ¸²æŸ“æŠ€æœ¯æè¿°ï¼š"></a>äº‘æ¸²æŸ“æŠ€æœ¯æè¿°ï¼š</h4><p>åœ¨æ‹¥æœ‰GPUçš„æœåŠ¡å™¨éƒ¨ç½²ä½¿ç”¨å›¾å½¢APIï¼ˆD3D\OpenGLï¼‰è¿›è¡Œå®æ—¶æ¸²æŸ“çš„3Då¯è§†åŒ–åº”ç”¨è½¯ä»¶ï¼ˆä¸‹ç§°â€œæ¸²æŸ“æœåŠ¡è½¯ä»¶â€ï¼‰ï¼Œé€šè¿‡Nvidia Encå®æ—¶ç¼–ç æ¸²æŸ“çš„å›¾åƒåˆ°h264æ ¼å¼ï¼ˆä½å»¶è¿Ÿï¼‰ï¼Œå¹¶é€šè¿‡<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/WebRTC_API/Signaling_and_video_calling">WEB-RTC</a>åè®®ï¼ˆæµæ§ï¼‰å‘é€åˆ°å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯æ˜¯ä¸€ä¸ªèƒ½å¤Ÿè¿è¡Œåœ¨æ‰‹æœºã€å¹³æ¿ç”µè„‘ã€æ™®é€šPCä¸»æœºçš„åº”ç”¨ç¨‹åºï¼ˆæˆ–è€…ç½‘é¡µï¼‰ï¼Œç”¨ä½œ3Då¯è§†åŒ–çš„å±•ç¤ºï¼Œå¹¶ä¸”æ”¶é›†ç”¨æˆ·çš„æ“ä½œé€šè¿‡<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/WebRTC_API/Signaling_and_video_calling">WEB-RTC</a>å›ä¼ ç»™æœåŠ¡å™¨ã€‚æœ€ç»ˆï¼Œè¿™å¥—è§£å†³æ–¹æ¡ˆç”¨æ¥å®ç°å¤æ‚3Dåº”ç”¨ï¼ˆç…§ç‰‡çº§çœŸå®çš„æ¸²æŸ“æ•ˆæœï¼‰èƒ½å¤Ÿåœ¨æ‰‹æœºã€å¹³æ¿ç”µè„‘ã€æ™®é€šPCä¸»æœºã€ç”šè‡³ç½‘é¡µä¸Šè¿›è¡Œè¿œç¨‹çš„å±•ç¤ºä¸å®æ—¶çš„äº’åŠ¨ã€‚</p><h4 id="APIå®‰è£…å¼•ç”¨"><a href="#APIå®‰è£…å¼•ç”¨" class="headerlink" title="APIå®‰è£…å¼•ç”¨"></a>APIå®‰è£…å¼•ç”¨</h4><p>æ–‡æ¡£åœ°å€ï¼š<a href="http://superapi.51aes.com/study">http://superapi.51aes.com/study</a></p><p>â‘  ç›´æ¥ç”¨ &lt;script å¼•å…¥SuperAPI:</p><p>å¼•å…¥æŒ‡å®šç‰ˆæœ¬</p><pre><code>&lt;script src=&quot;http://superapi.51aes.com/dist/superAPI-6.2.0.min.js&quot;&gt;&lt;/script&gt;</code></pre><p>â‘¡ é€šè¿‡npm, cnpm, yarnå®‰è£…:</p><p>âœï¸npm i 51superapi    âœï¸cnpm install 51superapi        âœï¸yarn add 51superapi</p><p>âœï¸import cloudRenderer from â€œ51superapiâ€</p><h4 id="superAPI-ä¸-WDP-å¹³å°åœºæ™¯é“¾æ¥"><a href="#superAPI-ä¸-WDP-å¹³å°åœºæ™¯é“¾æ¥" class="headerlink" title="superAPI ä¸ WDP å¹³å°åœºæ™¯é“¾æ¥"></a>superAPI ä¸ WDP å¹³å°åœºæ™¯é“¾æ¥</h4><p>æ¸²æŸ“å£ä»¤ï¼šåœ¨ WDP ç®¡ç†ä¸­å¿ƒä¸­è·å–æ¡ˆä¾‹æ¸²æŸ“å£ä»¤</p><p>æ¸²æŸ“åœ°å€ï¼š</p><p>äº‘æ¸²æŸ“åˆ™ç›´æ¥å¡«å†™äº‘æ¸²æŸ“åœ°å€å³å¯</p><p>æœ¬åœ°æ¸²æŸ“ï¼šæœ¬æœºip+8889    (â€œ<a href="http://127.0.0.1:8889">http://127.0.0.1:8889</a>â€œ)</p><p>å…·ä½“æ–‡æ¡£ï¼š<a href="http://superapi.51aes.com/study">http://superapi.51aes.com/study</a></p><p>å¯åŠ¨æ¸²æŸ“ä»£ç å—ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> cloudRender = <span class="keyword">new</span> <span class="title function_">cloudRenderer</span>(<span class="string">&quot;player&quot;</span>, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">var</span> cloudurl = <span class="string">&quot;http://127.0.0.1:8889&quot;</span> <span class="comment">//æœ¬åœ°æ¸²æŸ“æœåŠ¡åœ°å€, 8889:å›ºå®šç«¯å£</span></span><br><span class="line"><span class="keyword">var</span> orderID = <span class="string">&#x27;a5EEE4Fe&#x27;</span> <span class="comment">//æ¸²æŸ“å£ä»¤</span></span><br><span class="line"><span class="comment">//å¯åŠ¨æ¸²æŸ“</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">start51</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">fetch</span>(<span class="string">`<span class="subst">$&#123;cloudurl&#125;</span>/Renderers/Any/order`</span>, &#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&quot;POST&quot;</span>,</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">      <span class="string">&quot;Content-type&quot;</span>: <span class="string">&quot;application/json&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">      <span class="attr">order</span>: orderID,</span><br><span class="line">      <span class="attr">width</span>: <span class="variable language_">window</span>.<span class="property">innerWidth</span>,</span><br><span class="line">      <span class="attr">height</span>: <span class="variable language_">window</span>.<span class="property">innerHeight</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">//â‘  order æ¸²æŸ“å£ä»¤å¿…å¡«; â‘¡ width, height: è®¾ç½®äº‘æ¸²æŸ“è¾“å‡ºåˆ†è¾¨ç‡(æ­¤è®¾ç½®ä¸ºå›ºå®šåˆ†è¾¨ç‡,å¯é€‰; é»˜è®¤ä»¥äº‘æ¸²æŸ“å®¢æˆ·ç«¯è®¾ç½®çš„åˆ†è¾¨ç‡è¾“å‡º)</span></span><br><span class="line">  &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!res.<span class="property">ok</span>) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="title class_">Error</span>(res.<span class="property">statusText</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">json</span>()</span><br><span class="line">  &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">json</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (json.<span class="property">url</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(json.<span class="property">url</span>, <span class="string">&#x27;äº‘æ¸²æŸ“url&#x27;</span>);</span><br><span class="line">      <span class="comment">//å¯åŠ¨äº‘æ¸²æŸ“</span></span><br><span class="line">      cloudRender.<span class="title class_">SuperAPI</span>(<span class="string">&quot;StartRenderCloud&quot;</span>, json.<span class="property">url</span>);</span><br><span class="line">      <span class="comment">//äº‹ä»¶æ³¨å†Œ</span></span><br><span class="line">      cloudRender.<span class="title class_">SuperAPI</span>(<span class="string">&quot;RegisterCloudResponse&quot;</span>, myHandleResponseFunction);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(json.<span class="property">message</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Error: &#x27;</span>, error);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å¯å®ç°åŠŸèƒ½ï¼š"><a href="#å¯å®ç°åŠŸèƒ½ï¼š" class="headerlink" title="å¯å®ç°åŠŸèƒ½ï¼š"></a>å¯å®ç°åŠŸèƒ½ï¼š</h4><p>ç›¸å…³æ–‡æ¡£ï¼š<a href="http://superapi.51aes.com/apifunc">http://superapi.51aes.com/apifunc</a></p><ol><li>é•œå¤´æ§åˆ¶</li><li>åœºæ™¯ç¼–è¾‘</li><li>è¦†ç›–ç‰©ç¼–è¾‘</li><li>POIç‚¹</li><li>ç‚¹èšåˆ</li><li>æ¥¼ä½“æ‹†è§£</li><li>è·¯å¾„</li><li>åœºæ™¯çƒ­åŠ›å›¾ã€è¿å¾™å›¾ã€æˆ˜ç•¥å›¾ã€åŒºåŸŸè½®å»“å›¾ã€åŒºåŸŸé«˜äº®</li><li>åœºæ™¯æ§ä»¶</li><li>åæ ‡è®¡ç®—</li></ol><h2 id="SuperGUI"><a href="#SuperGUI" class="headerlink" title="SuperGUI"></a>SuperGUI</h2><p>å…·ä½“è¯¦æƒ…ï¼šSuperGUIä¸»è¦ç”¨äºåœ¨PaaSå¹³å°ä¸­å¯¹åœºæ™¯è¿›è¡Œæ“ä½œ</p><p>å­¦ä¹ åœ°å€ï¼š<a href="https://bbs.51aes.com/study/list/1414471703908311041.html?page=2">https://bbs.51aes.com/study/list/1414471703908311041.html?page=2</a>    ï¼ˆè¯¾ç¨‹ 19 å¼€å§‹ï¼‰</p><h4 id="å¯ç”¨åŠŸèƒ½ï¼š"><a href="#å¯ç”¨åŠŸèƒ½ï¼š" class="headerlink" title="å¯ç”¨åŠŸèƒ½ï¼š"></a>å¯ç”¨åŠŸèƒ½ï¼š</h4><p>æ¨¡æ¿ï¼Œåœºæ™¯ï¼Œæ¨¡å‹ï¼Œäº¤äº’ï¼Œé¢æ¿ï¼ˆåŒ…å«è“å›¾ï¼‰ï¼Œæ¨¡å‹å¯¼å…¥</p><p>æ¨¡æ¿ï¼Œåœºæ™¯ï¼Œæ¨¡å‹ï¼Œäº¤äº’ï¼Œæ¨¡å‹å¯¼å…¥å‡ä¸ºæ‹–æ‹½å¼æ“ä½œï¼Œä¸äºˆè¿‡å¤šè®²è¿°</p><ul><li><p>é¢æ¿ï¼š</p></li><li><ul><li>ä¸»è¦ç”¨äºå¯¹åœºæ™¯è¿›è¡Œä¾¿æ·å¼äº¤äº’æ“ä½œï¼Œå¯å®ç°æ•°æ®è¯·æ±‚ã€å›¾è¡¨å±•ç¤ºã€ç»„ä»¶åŒ–ä¿¡æ¯å±•ç¤ºã€åŸºç¡€äº¤äº’ã€å›¾æ ‡å±•ç¤ºã€ç´ æä¸Šä¼ ç­‰æ“ä½œ</li><li>é¢æ¿ä¸­å„ç§å±•ç¤ºå†…å®¹å‡å¯è¿›è¡Œå°ºå¯¸ã€æ ·å¼ã€æ•°æ®ï¼ˆå¯ä»¥é€šè¿‡è¯·æ±‚å®ç°åŠ¨æ€æ•°æ®ï¼‰ã€äº¤äº’ç­‰æ“ä½œ</li><li>é¢æ¿çš„åˆè¡·å³ä¸º PPT å¼å¼€å‘ç‹¬ç«‹å±•ç¤ºé¡µé¢ï¼Œå¯ä»¥å®ç° 0 ä»£ç å¼€å‘ã€æ“ä½œå¼å¼€å‘ï¼Œå¯ä»¥å¿«é€Ÿç”Ÿæˆå¯ç”¨å•é¡µé¢</li></ul></li><li><p>é¢æ¿è”è°ƒï¼š</p></li><li><ul><li>å¯å¯¹è“å›¾ä¸­ä½¿ç”¨åˆ°çš„é€»è¾‘æ“ä½œã€superApiç­‰åŠŸèƒ½è¿›è¡Œåœ¨çº¿è°ƒè¯•</li></ul></li></ul><h2 id="è“å›¾ç¼–è¾‘å™¨"><a href="#è“å›¾ç¼–è¾‘å™¨" class="headerlink" title="è“å›¾ç¼–è¾‘å™¨"></a>è“å›¾ç¼–è¾‘å™¨</h2><p>ç›¸å…³æ–‡æ¡£ï¼š<a href="https://bbs.51aes.com/blog/1425349665726164994.html">https://bbs.51aes.com/blog/1425349665726164994.html</a></p><p>åŸºç¡€è§†é¢‘æ•™ç¨‹ï¼š<a href="https://ossstore.51hitech.com/BBSOperation/WDP4.0/Mid_Training/WDP4-MT24.mp4">https://ossstore.51hitech.com/BBSOperation/WDP4.0/Mid_Training/WDP4-MT24.mp4</a></p><ul><li>ä¸»è¦ç”¨äºåœ¨ SuperGUI ç¼–è¾‘é¢æ¿æ—¶å®ç°æ›´å¤šæ›´è‡ªç”±çš„äº¤äº’é€»è¾‘æ“ä½œ</li><li>ä¸»è¦å†…å®¹ï¼šå…ƒç´ èŠ‚ç‚¹ï¼Œäº¤äº’èŠ‚ç‚¹ï¼Œé€»è¾‘èŠ‚ç‚¹ï¼Œåœºæ™¯èŠ‚ç‚¹</li><li>å®ç°æµç¨‹ï¼š</li></ul><ol><li><ol><li>é€šè¿‡å…ƒç´ èŠ‚ç‚¹ç›¸å…³äº‹ä»¶ä½œä¸ºåˆå§‹åŒ–è§¦å‘æ¡ä»¶</li><li>å¯ä»¥ è§¦å‘é€»è¾‘èŠ‚ç‚¹ç›¸å…³æ“ä½œã€è§¦å‘åœºæ™¯èŠ‚ç‚¹ä¸­ SuperAPI äº‹ä»¶ã€è§¦å‘æ¥å£æ“ä½œç­‰</li><li>å…¶ä¸­å„ä¸ªèŠ‚ç‚¹ä¹Ÿå¯äº’ç›¸è§¦å‘</li><li>è¾¾åˆ°æ— ä»£ç å¤„ç†å¤æ‚æ“ä½œçš„åŠŸèƒ½</li></ol></li></ol><h4 id="å…·ä½“é¢æ¿ï¼š"><a href="#å…·ä½“é¢æ¿ï¼š" class="headerlink" title="å…·ä½“é¢æ¿ï¼š"></a>å…·ä½“é¢æ¿ï¼š</h4><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20221020152930420.png" alt="image-20221020152930420"></p><h2 id="ç›¸å…³èµ„æ–™"><a href="#ç›¸å…³èµ„æ–™" class="headerlink" title="ç›¸å…³èµ„æ–™"></a>ç›¸å…³èµ„æ–™</h2><p>51worldå¹³å°ï¼š<a href="https://www.51aes.com/">https://www.51aes.com/</a></p><p>PaaSå¹³å°ä½¿ç”¨è¯´æ˜ï¼š<a href="https://djp2gcp2um.feishu.cn/docs/doccncXWIo0B47godjUyVf3N9Fe#">https://djp2gcp2um.feishu.cn/docs/doccncXWIo0B47godjUyVf3N9Fe#</a></p><p>SuperAPIå¼€å‘æ‰‹å†Œï¼š<a href="http://superapi.51aes.com/guide">http://superapi.51aes.com/guide</a></p><p>å¼€å‘è€…ç¤¾åŒºï¼š<a href="https://bbs.51aes.com/">https://bbs.51aes.com/</a></p><p>å®˜æ–¹qqç¾¤ï¼šï¼ˆæ³¨å†Œå¼€å‘è€…åå‘é€æ³¨å†Œè´¦å·å³å¯é€šè¿‡éªŒè¯ï¼‰</p><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20221020152955883.png" alt="image-20221020152955883"></p>]]></content>
      
      
      <categories>
          
          <category> æ•°å­—å­ªç”Ÿ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å¤§å±é€‚é…</title>
      <link href="/posts/8736.html"/>
      <url>/posts/8736.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="é€‚é…æ–¹æ¡ˆ"><a href="#é€‚é…æ–¹æ¡ˆ" class="headerlink" title="é€‚é…æ–¹æ¡ˆ"></a>é€‚é…æ–¹æ¡ˆ</h1><h3 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h3><p>å¸¸ç”¨æ•°æ®åŒ–å¤§å±çš„echartsç»„ä»¶å’Œuiç»„ä»¶ï¼ˆ<strong>ä¸åŒ…å«é«˜å¾·åœ°å›¾</strong>ï¼‰</p><h3 id="å®ç°åŸç†"><a href="#å®ç°åŸç†" class="headerlink" title="å®ç°åŸç†"></a>å®ç°åŸç†</h3><p>css3çš„scaleå¯ä»¥ç­‰æ¯”ç¼©æ”¾å†…å®¹å¹¶ä¸”ä¸ä¼šå¯¼è‡´å…ƒç´ å¤±å¸§ï¼Œæ‰€ä»¥å¯ä»¥å€ŸåŠ©åŠ¨æ€è®¡ç®—å®½é«˜æ¯”æ¥ç¡®ä¿å¤§å±å§‹ç»ˆæ˜¯æŒ‰ç…§è®¾è®¡ç¨¿çš„å®½é«˜æ¯”å±…ä¸­æ˜¾ç¤ºåœ¨æ˜¾ç¤ºå™¨å†…ï¼</p><h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><h4 id="1-åœ¨éœ€è¦é€‚é…çš„ç»„ä»¶æœ€å¤–ä¾§çš„å®¹å™¨ç»‘å®šå†…è”æ ·å¼"><a href="#1-åœ¨éœ€è¦é€‚é…çš„ç»„ä»¶æœ€å¤–ä¾§çš„å®¹å™¨ç»‘å®šå†…è”æ ·å¼" class="headerlink" title="1. åœ¨éœ€è¦é€‚é…çš„ç»„ä»¶æœ€å¤–ä¾§çš„å®¹å™¨ç»‘å®šå†…è”æ ·å¼"></a>1. åœ¨éœ€è¦é€‚é…çš„ç»„ä»¶æœ€å¤–ä¾§çš„å®¹å™¨ç»‘å®šå†…è”æ ·å¼</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;page-layout&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  :style=&quot;scaleStyle&quot; åˆ™ä¸ºå†…è”æ ·å¼  --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;page-layout__inner&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;showBg&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;scaleStyle&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;page-layout__inner__header&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ScreenTop</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;page-layout__inner__main&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ScreenMain</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- é«˜å¾·åœ°å›¾ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;page-layout__map&quot;</span> <span class="attr">v-show</span>=<span class="string">&quot;showGD&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;mapBoxStyle&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ScreenMap</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-å®šä¹‰dataæ•°æ®"><a href="#2-å®šä¹‰dataæ•°æ®" class="headerlink" title="2. å®šä¹‰dataæ•°æ®"></a>2. å®šä¹‰dataæ•°æ®</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">scaleStyle</span>: <span class="string">&#x27;&#x27;</span> <span class="comment">// å†…è”æ ·å¼</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-åœ¨mountedæ·»åŠ load-å’Œresizeçš„äº‹ä»¶ç›‘å¬ï¼ˆbeforeDestroyè®°å¾—é”€æ¯ï¼‰"><a href="#3-åœ¨mountedæ·»åŠ load-å’Œresizeçš„äº‹ä»¶ç›‘å¬ï¼ˆbeforeDestroyè®°å¾—é”€æ¯ï¼‰" class="headerlink" title="3. åœ¨mountedæ·»åŠ load å’Œresizeçš„äº‹ä»¶ç›‘å¬ï¼ˆbeforeDestroyè®°å¾—é”€æ¯ï¼‰"></a>3. åœ¨mountedæ·»åŠ load å’Œresizeçš„äº‹ä»¶ç›‘å¬ï¼ˆbeforeDestroyè®°å¾—é”€æ¯ï¼‰</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">adaptation</span>()</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;load&#x27;</span>, <span class="variable language_">this</span>.<span class="property">adaptation</span>)</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;resize&#x27;</span>, <span class="variable language_">this</span>.<span class="property">adaptation</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">beforeDestroy</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;load&#x27;</span>, <span class="variable language_">this</span>.<span class="property">adaptation</span>)</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;resize&#x27;</span>, <span class="variable language_">this</span>.<span class="property">adaptation</span>)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h4 id="4-æ·»åŠ å¯¹åº”çš„è®¡ç®—é€‚é…ï¼ˆç¼©æ”¾æ¯”ä¾‹ï¼‰çš„æ–¹æ³•"><a href="#4-æ·»åŠ å¯¹åº”çš„è®¡ç®—é€‚é…ï¼ˆç¼©æ”¾æ¯”ä¾‹ï¼‰çš„æ–¹æ³•" class="headerlink" title="4. æ·»åŠ å¯¹åº”çš„è®¡ç®—é€‚é…ï¼ˆç¼©æ”¾æ¯”ä¾‹ï¼‰çš„æ–¹æ³•"></a>4. æ·»åŠ å¯¹åº”çš„è®¡ç®—é€‚é…ï¼ˆç¼©æ”¾æ¯”ä¾‹ï¼‰çš„æ–¹æ³•</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">adaptation</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">scaleStyle</span> = <span class="variable language_">this</span>.<span class="title function_">computedAdaptation</span>() || <span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">// è®¡ç®—é€‚é…æ–¹æ¡ˆ</span></span><br><span class="line"><span class="title function_">computedAdaptation</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> w = <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientWidth</span></span><br><span class="line">    <span class="keyword">const</span> h = <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientHeight</span></span><br><span class="line">    <span class="keyword">const</span> nw = <span class="variable constant_">WINDOW_WIDTH</span> <span class="comment">// 1920</span></span><br><span class="line">    <span class="keyword">const</span> nh = <span class="variable constant_">WINDOW_HEIGHT</span> <span class="comment">// 1080</span></span><br><span class="line">    <span class="keyword">let</span> scale = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (w / h &gt; nw / nh) &#123;</span><br><span class="line">        scale = h / nh</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        scale = w / nw</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> left = (w - <span class="variable constant_">WINDOW_WIDTH</span> * scale) / <span class="number">2</span></span><br><span class="line">    <span class="keyword">const</span> top = (h - <span class="variable constant_">WINDOW_HEIGHT</span> * scale) / <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;changeScale&#x27;</span>, scale)</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">computedMapBoxStyle</span>(scale, top, left)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="string">`transform-origin:left top;transform: scale(<span class="subst">$&#123;scale&#125;</span>);width:<span class="subst">$&#123;WINDOW_WIDTH&#125;</span>px;height:<span class="subst">$&#123;WINDOW_HEIGHT&#125;</span>px;margin-left:<span class="subst">$&#123;left&#125;</span>px;margin-top:<span class="subst">$&#123;top&#125;</span>px`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> é€‚é… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‹¥ä¾-ç™»é™†</title>
      <link href="/posts/47241.html"/>
      <url>/posts/47241.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ç™»å½•-è‹¥ä¾"><a href="#ç™»å½•-è‹¥ä¾" class="headerlink" title="ç™»å½•(è‹¥ä¾)"></a>ç™»å½•(è‹¥ä¾)</h1><h6 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h6><p>â— <a href="https://blog.csdn.net/liuzixin_lzx/article/details/113172451">https://blog.csdn.net/liuzixin_lzx/article/details/113172451</a></p><h6 id="æ–¹æ³•è§£æ"><a href="#æ–¹æ³•è§£æ" class="headerlink" title="æ–¹æ³•è§£æ"></a>æ–¹æ³•è§£æ</h6><p><p>handleLogin</p><br>createdä¸­è·å–éªŒè¯ç å›¾ç‰‡ï¼ˆgetCodeImgæ¥å£ï¼‰å’Œcookieï¼ˆæœ‰cookieåˆ™å¡«å…¥è¡¨å•ï¼‰<br>1ã€è¡¨å•æ ¡éªŒæ˜¯å¦é€šè¿‡<br>2ã€åˆ¤æ–­æ˜¯å¦è®°ä½å¯†ç ï¼ˆè®°ä½åˆ™å°†è´¦å·å¯†ç å­˜å…¥cookieï¼Œå¦åˆ™åˆ é™¤cookieå·²æœ‰çš„ä¿¡æ¯ï¼‰<br>3ã€è§¦å‘vuexä¸­Loginæ–¹æ³•</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">getCode</span>();</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">getCookie</span>();</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">  <span class="title function_">getCode</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">getCodeImg</span>().<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">codeUrl</span> = <span class="string">&quot;data:image/gif;base64,&quot;</span> + res.<span class="property">img</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">loginForm</span>.<span class="property">uuid</span> = res.<span class="property">uuid</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">getCookie</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> username = <span class="title class_">Cookies</span>.<span class="title function_">get</span>(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> password = <span class="title class_">Cookies</span>.<span class="title function_">get</span>(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> rememberMe = <span class="title class_">Cookies</span>.<span class="title function_">get</span>(<span class="string">&#x27;rememberMe&#x27;</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">loginForm</span> = &#123;</span><br><span class="line">      <span class="attr">username</span>: username === <span class="literal">undefined</span> ? <span class="variable language_">this</span>.<span class="property">loginForm</span>.<span class="property">username</span> : username,</span><br><span class="line">      <span class="attr">password</span>: password === <span class="literal">undefined</span> ? <span class="variable language_">this</span>.<span class="property">loginForm</span>.<span class="property">password</span> : <span class="title function_">decrypt</span>(password),</span><br><span class="line">      <span class="attr">rememberMe</span>: rememberMe === <span class="literal">undefined</span> ? <span class="literal">false</span> : <span class="title class_">Boolean</span>(rememberMe)</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">handleLogin</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">loginForm</span>.<span class="title function_">validate</span>(<span class="function"><span class="params">valid</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (valid) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">loading</span> = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">loginForm</span>.<span class="property">rememberMe</span>) &#123;</span><br><span class="line">          <span class="title class_">Cookies</span>.<span class="title function_">set</span>(<span class="string">&quot;username&quot;</span>, <span class="variable language_">this</span>.<span class="property">loginForm</span>.<span class="property">username</span>, &#123; <span class="attr">expires</span>: <span class="number">30</span> &#125;);</span><br><span class="line">          <span class="title class_">Cookies</span>.<span class="title function_">set</span>(<span class="string">&quot;password&quot;</span>, <span class="title function_">encrypt</span>(<span class="variable language_">this</span>.<span class="property">loginForm</span>.<span class="property">password</span>), &#123; <span class="attr">expires</span>: <span class="number">30</span> &#125;);</span><br><span class="line">          <span class="title class_">Cookies</span>.<span class="title function_">set</span>(<span class="string">&#x27;rememberMe&#x27;</span>, <span class="variable language_">this</span>.<span class="property">loginForm</span>.<span class="property">rememberMe</span>, &#123; <span class="attr">expires</span>: <span class="number">30</span> &#125;);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="title class_">Cookies</span>.<span class="title function_">remove</span>(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">          <span class="title class_">Cookies</span>.<span class="title function_">remove</span>(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">          <span class="title class_">Cookies</span>.<span class="title function_">remove</span>(<span class="string">&#x27;rememberMe&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">$store</span></span><br><span class="line">          .<span class="title function_">dispatch</span>(<span class="string">&quot;Login&quot;</span>, <span class="variable language_">this</span>.<span class="property">loginForm</span>)</span><br><span class="line">          .<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123; <span class="attr">path</span>: <span class="variable language_">this</span>.<span class="property">redirect</span> || <span class="string">&quot;/&quot;</span> &#125;);</span><br><span class="line">          &#125;)</span><br><span class="line">          .<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">loading</span> = <span class="literal">false</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">getCode</span>();</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><p>Login</p><br>4ã€å°†è´¦å·ä¿¡æ¯ä½œä¸ºå‚æ•°è¯·æ±‚loginæ¥å£<br>5ã€è¯·æ±‚æˆåŠŸè·å–tokenå­˜å…¥cookie</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; login, logout, getInfo &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/login&#x27;</span></span><br><span class="line">......</span><br><span class="line"><span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="comment">// ç™»å½•</span></span><br><span class="line">    <span class="title class_">Login</span>(&#123; commit &#125;, userInfo) &#123;</span><br><span class="line">      <span class="keyword">const</span> username = userInfo.<span class="property">username</span>.<span class="title function_">trim</span>()</span><br><span class="line">      <span class="keyword">const</span> password = userInfo.<span class="property">password</span></span><br><span class="line">      <span class="keyword">const</span> code = userInfo.<span class="property">code</span></span><br><span class="line">      <span class="keyword">const</span> uuid = userInfo.<span class="property">uuid</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">login</span>(username, password, code, uuid).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="title function_">setToken</span>(res.<span class="property">token</span>)</span><br><span class="line">          <span class="title function_">commit</span>(<span class="string">&#x27;SET_TOKEN&#x27;</span>, res.<span class="property">token</span>)</span><br><span class="line">          <span class="title function_">resolve</span>()</span><br><span class="line">        &#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="title function_">reject</span>(error)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    ......</span><br><span class="line"> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>6ã€resolveåè·³è½¬é¡µé¢å®Œæˆç™»å½•</p><h6 id="è®°ä½å¯†ç å¤±æ•ˆé—®é¢˜"><a href="#è®°ä½å¯†ç å¤±æ•ˆé—®é¢˜" class="headerlink" title="è®°ä½å¯†ç å¤±æ•ˆé—®é¢˜"></a>è®°ä½å¯†ç å¤±æ•ˆé—®é¢˜</h6><p>åœ¨ç›´æ’­é¡¹ç›®çš„å¹³å°å’Œåå°ç™»é™†ä¸­éƒ½å‘ç°äº†ä¸€ä¸ªbugï¼Œé€‰æ‹©è®°ä½å¯†ç åé‡æ–°ç™»å½•æ˜¾ç¤ºå¯†ç é”™è¯¯<br>å¹¶ä¸”åœ¨æ§åˆ¶å°æ‰“å°æŠ¥é”™å¦‚ä¸‹ï¼š<br><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20221020153135434.png" alt="image-20221020153135434"></p><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20221020153145886.png" alt="image-20221020153145886"></p><p>æŸ¥æ‰¾åŸå› ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">JSEncrypt</span> <span class="keyword">from</span> <span class="string">&#x27;jsencrypt/bin/jsencrypt.min&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¬é’¥</span></span><br><span class="line"><span class="keyword">const</span> publicKey =</span><br><span class="line">    <span class="string">&#x27;MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAKoR8mX0rGKLqzcWmOzbfj64K8ZIgOdH\n&#x27;</span> +</span><br><span class="line">    <span class="string">&#x27;nzkXSOVOZbFu/TJhZ7rFAN+eaGkl3C4buccQd/EjEsj9ir7ijT7h96MCAwEAAQ==&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç§é’¥</span></span><br><span class="line"><span class="keyword">const</span> privateKey =</span><br><span class="line">    <span class="string">&#x27;MIIBVAIBADANBgkqhkiG9w0BAQEFAASCAT4wggE6AgEAAkEAqhHyZfSsYourNxaY7Nt+PrgrxkiA50efORdI5U5lsW79MmFnusUA355oaSXcLhu5xxB38SMSyP2KvuKNPuH3owIDAQABAkAfoiLyL+Z4lf4Myxk6xUDgLaWGximj20CUf+5BKKnlrK+Ed8gAkM0HqoTt2UZwA5E2MzS4EI2gjfQhz5X28uqxAiEA3wNFxfrCZlSZHb0gn2zDpWowcSxQAgiCstxGUoOqlW8CIQDDOerGKH5OmCJ4Z21v+F25WaHYPxCFMvwxpcw99EcvDQIgIdhDTIqD2jfYjPTY8Jj3EDGPbH2HHuffvflECt3Ek60CIQCFRlCkHpi7hthhYhovyloRYsM+IS9h/0BzlEAuO0ktMQIgSPT3aFAgJYwKpqRYKlLDVcflZFCKY7u3UP8iWi1Qw0Y=&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ å¯†</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">encrypt</span>(<span class="params">txt</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> encryptor = <span class="keyword">new</span> <span class="title class_">JSEncrypt</span>()</span><br><span class="line">    encryptor.<span class="title function_">setPublicKey</span>(publicKey) <span class="comment">// è®¾ç½®å…¬é’¥</span></span><br><span class="line">    <span class="keyword">return</span> encryptor.<span class="title function_">encrypt</span>(txt) <span class="comment">// å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å¯†</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">decrypt</span>(<span class="params">txt</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> encryptor = <span class="keyword">new</span> <span class="title class_">JSEncrypt</span>()</span><br><span class="line">    encryptor.<span class="title function_">setPrivateKey</span>(privateKey) <span class="comment">// è®¾ç½®ç§é’¥</span></span><br><span class="line">    <span class="keyword">return</span> encryptor.<span class="title function_">decrypt</span>(txt) <span class="comment">// å¯¹æ•°æ®è¿›è¡Œè§£å¯†</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è§£å†³æ–¹æ¡ˆï¼š<br>ä¹‹å‰æœªé…ç½®ç§é’¥ï¼Œç§é’¥éœ€ä¸åç«¯ä¿æŒä¸€è‡´ï¼ï¼ï¼</p>]]></content>
      
      
      <categories>
          
          <category> åå°ç³»ç»Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è‹¥ä¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‹¥ä¾-èœå•ç®¡ç†</title>
      <link href="/posts/63142.html"/>
      <url>/posts/63142.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>èœå•ç®¡ç†<br>å‚è€ƒæ–‡çŒ®<br><a href="https://blog.csdn.net/liuzixin_lzx/article/details/113179174">https://blog.csdn.net/liuzixin_lzx/article/details/113179174</a><br>èœå•åˆ—è¡¨æ˜¾ç¤º<br>1.æ„é€ æ ‘å‹ç»“æ„æ•°æ®<br>åœ¨utilsæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºruoyi.js åœ¨é‡Œæ·»åŠ å¹¶å¯¼å‡ºä¸‹æ–¹ä»£ç </p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ„é€ æ ‘å‹ç»“æ„æ•°æ®</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; data æ•°æ®æº</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; id idå­—æ®µ é»˜è®¤ &#x27;id&#x27;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; parentId çˆ¶èŠ‚ç‚¹å­—æ®µ é»˜è®¤ &#x27;parentId&#x27;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; children å­©å­èŠ‚ç‚¹å­—æ®µ é»˜è®¤ &#x27;children&#x27;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">handleTree</span>(<span class="params">data, id, parentId, children</span>) &#123;</span><br><span class="line"><span class="keyword">let</span> config = &#123;</span><br><span class="line"><span class="attr">id</span>: id || <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line"><span class="attr">parentId</span>: parentId || <span class="string">&#x27;parentId&#x27;</span>,</span><br><span class="line"><span class="attr">childrenList</span>: children || <span class="string">&#x27;children&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> childrenListMap = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> nodeIds = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> tree = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> d <span class="keyword">of</span> data) &#123;</span><br><span class="line"><span class="keyword">let</span> parentId = d[config.<span class="property">parentId</span>];</span><br><span class="line"><span class="keyword">if</span> (childrenListMap[parentId] == <span class="literal">null</span>) &#123;</span><br><span class="line">childrenListMap[parentId] = [];</span><br><span class="line">&#125;</span><br><span class="line">nodeIds[d[config.<span class="property">id</span>]] = d;</span><br><span class="line">childrenListMap[parentId].<span class="title function_">push</span>(d);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> d <span class="keyword">of</span> data) &#123;</span><br><span class="line"><span class="keyword">let</span> parentId = d[config.<span class="property">parentId</span>];</span><br><span class="line"><span class="keyword">if</span> (nodeIds[parentId] == <span class="literal">null</span>) &#123;</span><br><span class="line">tree.<span class="title function_">push</span>(d);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> t <span class="keyword">of</span> tree) &#123;</span><br><span class="line"><span class="title function_">adaptToChildrenList</span>(t);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">adaptToChildrenList</span>(<span class="params">o</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (childrenListMap[o[config.<span class="property">id</span>]] !== <span class="literal">null</span>) &#123;</span><br><span class="line">o[config.<span class="property">childrenList</span>] = childrenListMap[o[config.<span class="property">id</span>]];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (o[config.<span class="property">childrenList</span>]) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> c <span class="keyword">of</span> o[config.<span class="property">childrenList</span>]) &#123;</span><br><span class="line"><span class="title function_">adaptToChildrenList</span>(c);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> tree;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.åœ¨main.jsä¸­å¼•ç”¨</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;handleTree&#125; <span class="keyword">from</span> <span class="string">&quot;@/utils/ruoyi&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">handleTree</span> = handleTree</span><br></pre></td></tr></table></figure><p>3.åœ¨menuä¸­ä½¿ç”¨</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line"><span class="comment">// æŸ¥è¯¢å‚æ•°</span></span><br><span class="line"><span class="attr">queryParams</span>: &#123;</span><br><span class="line"><span class="attr">menuName</span>: <span class="literal">undefined</span>, <span class="comment">// èœå•åç§°</span></span><br><span class="line"><span class="attr">status</span>: <span class="literal">undefined</span> <span class="comment">// èœå•çŠ¶æ€</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">,</span><br><span class="line"><span class="title function_">created</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">getList</span>();</span><br><span class="line">&#125;</span><br><span class="line">,</span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line"><span class="comment">// æŸ¥è¯¢èœå•åˆ—è¡¨</span></span><br><span class="line"><span class="title function_">getList</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">loading</span> = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">// listMenuä¸ºè¯·æ±‚çš„åˆ—è¡¨æ¥å£ this.queryParamsä¸ºæœç´¢éœ€è¦ä¼ å…¥çš„å‚æ•°</span></span><br><span class="line"><span class="title function_">listMenu</span>(<span class="variable language_">this</span>.<span class="property">queryParams</span>).<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">menuList</span> = <span class="variable language_">this</span>.<span class="title function_">handleTree</span>(response.<span class="property">data</span>, <span class="string">&quot;menuId&quot;</span>);</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">loading</span> = <span class="literal">false</span>;</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¡µé¢é…åˆelementuiçš„è¡¨æ ¼ä¸€èµ·ä½¿ç”¨</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- isExpandAllé»˜è®¤å±•å¼€æ–¹å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-if</span>=<span class="string">&quot;refreshTable&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-loading</span>=<span class="string">&quot;loading&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:data</span>=<span class="string">&quot;menuList&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">row-key</span>=<span class="string">&quot;menuId&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:default-expand-all</span>=<span class="string">&quot;isExpandAll&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:tree-props</span>=<span class="string">&quot;&#123;children: &#x27;children&#x27;, hasChildren: &#x27;hasChildren&#x27;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;menuName&quot;</span> <span class="attr">label</span>=<span class="string">&quot;èœå•åç§°&quot;</span> <span class="attr">:show-overflow-tooltip</span>=<span class="string">&quot;true&quot;</span> <span class="attr">width</span>=<span class="string">&quot;160&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">label</span>=<span class="string">&quot;å›¾æ ‡&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">svg-icon</span> <span class="attr">:icon-class</span>=<span class="string">&quot;scope.row.icon&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;orderNum&quot;</span> <span class="attr">label</span>=<span class="string">&quot;æ’åº&quot;</span> <span class="attr">width</span>=<span class="string">&quot;60&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;perms&quot;</span> <span class="attr">label</span>=<span class="string">&quot;æƒé™æ ‡è¯†&quot;</span> <span class="attr">:show-overflow-tooltip</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;component&quot;</span> <span class="attr">label</span>=<span class="string">&quot;ç»„ä»¶è·¯å¾„&quot;</span> <span class="attr">:show-overflow-tooltip</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;status&quot;</span> <span class="attr">label</span>=<span class="string">&quot;çŠ¶æ€&quot;</span> <span class="attr">width</span>=<span class="string">&quot;80&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dict-tag</span> <span class="attr">:options</span>=<span class="string">&quot;dict.type.sys_normal_disable&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;scope.row.status&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;åˆ›å»ºæ—¶é—´&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;createTime&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; parseTime(scope.row.createTime) &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;æ“ä½œ&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> <span class="attr">class-name</span>=<span class="string">&quot;small-padding fixed-width&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-button</span></span></span><br><span class="line"><span class="tag">          <span class="attr">size</span>=<span class="string">&quot;mini&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">icon</span>=<span class="string">&quot;el-icon-edit&quot;</span></span></span><br><span class="line"><span class="tag">          @<span class="attr">click</span>=<span class="string">&quot;handleUpdate(scope.row)&quot;</span></span></span><br><span class="line"><span class="tag">      &gt;</span>ä¿®æ”¹</span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-button</span></span></span><br><span class="line"><span class="tag">          <span class="attr">size</span>=<span class="string">&quot;mini&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">icon</span>=<span class="string">&quot;el-icon-plus&quot;</span></span></span><br><span class="line"><span class="tag">          @<span class="attr">click</span>=<span class="string">&quot;handleAdd(scope.row)&quot;</span></span></span><br><span class="line"><span class="tag">      &gt;</span>æ–°å¢</span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-button</span></span></span><br><span class="line"><span class="tag">          <span class="attr">size</span>=<span class="string">&quot;mini&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">icon</span>=<span class="string">&quot;el-icon-delete&quot;</span></span></span><br><span class="line"><span class="tag">          @<span class="attr">click</span>=<span class="string">&quot;handleDelete(scope.row)&quot;</span></span></span><br><span class="line"><span class="tag">      &gt;</span>åˆ é™¤</span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åå°ç³»ç»Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è‹¥ä¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»€ä¹ˆæ˜¯Vuex</title>
      <link href="/posts/65033.html"/>
      <url>/posts/65033.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h4 id="ä»€ä¹ˆæ˜¯vuex"><a href="#ä»€ä¹ˆæ˜¯vuex" class="headerlink" title="ä»€ä¹ˆæ˜¯vuex"></a>ä»€ä¹ˆæ˜¯vuex</h4><p>vueæä¾›çš„ä¸€ä¸ªçŠ¶æ€ç®¡ç†æ¨¡å¼ï¼Œè§£å†³ä¸åŒç»„ä»¶æ•°æ®å…±äº«é—®é¢˜</p><h4 id="vuexæœ‰å‡ ä¸ªå±æ€§"><a href="#vuexæœ‰å‡ ä¸ªå±æ€§" class="headerlink" title="vuexæœ‰å‡ ä¸ªå±æ€§"></a>vuexæœ‰å‡ ä¸ªå±æ€§</h4><h5 id="state"><a href="#state" class="headerlink" title="state"></a><strong>state</strong></h5><p>stateæ˜¯æ”¾ç½®æ‰€æœ‰å…¬å…±çŠ¶æ€çš„å±æ€§ï¼Œ</p><p><code>$store.state.å±æ€§å</code> <code>...mapState([&#39;å±æ€§å&#39;])</code></p><h5 id="mutations"><a href="#mutations" class="headerlink" title="mutations"></a><strong>mutations</strong></h5><p>stateæ•°æ®çš„ä¿®æ”¹åªèƒ½é€šè¿‡mutationsï¼Œå¹¶ä¸”mutationså¿…é¡»æ˜¯åŒæ­¥æ›´æ–°ï¼Œç›®çš„æ˜¯å½¢æˆ<code>æ•°æ®å¿«ç…§</code></p><p>æ•°æ®å¿«ç…§ï¼šä¸€æ¬¡mutationçš„æ‰§è¡Œï¼Œ<strong>ç«‹åˆ»</strong>å¾—åˆ°ä¸€ç§è§†å›¾çŠ¶æ€ï¼Œå› ä¸ºæ˜¯ç«‹åˆ»ï¼Œæ‰€ä»¥å¿…é¡»æ˜¯åŒæ­¥</p><p><code>this.$store.commit(&#39;å‡½æ•°å&#39;, 10)</code> <code>...mapMutations([&#39;å‡½æ•°å&#39;])</code></p><h5 id="actions"><a href="#actions" class="headerlink" title="actions"></a><strong>actions</strong></h5><p>stateæ˜¯å­˜æ”¾æ•°æ®çš„ï¼Œmutationsæ˜¯åŒæ­¥æ›´æ–°æ•°æ®ï¼Œactionsåˆ™è´Ÿè´£è¿›è¡Œå¼‚æ­¥æ“ä½œ</p><p><code>this.$store.dispatch(&#39;å‡½æ•°å&#39;,ä¼ å‚)</code>   <code>...mapActions([&#39;å‡½æ•°å&#39;])</code></p><h5 id="getters"><a href="#getters" class="headerlink" title="getters"></a><strong>getters</strong></h5><p>ç±»ä¼¼äºè®¡ç®—å±æ€§ï¼Œæœ‰æ—¶æˆ‘ä»¬è¿˜éœ€è¦ä»stateä¸­æ´¾ç”Ÿå‡ºä¸€äº›çŠ¶æ€ï¼Œè¿™äº›çŠ¶æ€æ˜¯<strong>ä¾èµ–state</strong>çš„ï¼Œæ­¤æ—¶ä¼šç”¨åˆ°getters</p><p><code>$store.getters.filterList</code> <code>...mapGetters([&#39;filterList&#39;])</code></p><h5 id="modules"><a href="#modules" class="headerlink" title="modules"></a><strong>modules</strong></h5><blockquote><p>æ¨¡å—åŒ–ï¼Œç”±äºä½¿ç”¨å•ä¸€çŠ¶æ€æ ‘ï¼Œåº”ç”¨çš„æ‰€æœ‰çŠ¶æ€ä¼šé›†ä¸­åˆ°ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å¯¹è±¡ã€‚å½“åº”ç”¨å˜å¾—éå¸¸å¤æ‚æ—¶ï¼Œstore å¯¹è±¡å°±æœ‰å¯èƒ½å˜å¾—ç›¸å½“è‡ƒè‚¿</p><p><strong>å‘½åç©ºé—´</strong> <code>namespaced</code></p></blockquote><h4 id="ä»€ä¹ˆæ˜¯mapState"><a href="#ä»€ä¹ˆæ˜¯mapState" class="headerlink" title="ä»€ä¹ˆæ˜¯mapState"></a>ä»€ä¹ˆæ˜¯mapState</h4><ul><li>â€¦â€¦.</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>é«˜æ€§èƒ½æ¸²æŸ“åä¸‡æ¡æ•°æ®</title>
      <link href="/posts/21040.html"/>
      <url>/posts/21040.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>åœ¨å®é™…å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å¾ˆå°‘ä¼šé‡åˆ°ä¸€æ¬¡æ€§éœ€è¦å‘é¡µé¢ä¸­æ’å…¥å¤§é‡æ•°æ®çš„æƒ…å†µï¼Œä½†æ˜¯ä¸ºäº†ä¸°å¯Œæˆ‘ä»¬çš„çŸ¥è¯†ä½“ç³»ï¼Œæˆ‘ä»¬æœ‰å¿…è¦äº†è§£å¹¶æ¸…æ¥šå½“é‡åˆ°å¤§é‡æ•°æ®æ—¶ï¼Œå¦‚ä½•æ‰èƒ½åœ¨ä¸å¡ä¸»é¡µé¢çš„æƒ…å†µä¸‹æ¸²æŸ“æ•°æ®ï¼Œä»¥åŠå…¶ä¸­èƒŒåçš„åŸç†ã€‚</p><p>å¯¹äºä¸€æ¬¡æ€§æ’å…¥å¤§é‡æ•°æ®çš„æƒ…å†µï¼Œä¸€èˆ¬æœ‰ä¸¤ç§åšæ³•ï¼š</p><ol><li>æ—¶é—´åˆ†ç‰‡</li><li>è™šæ‹Ÿåˆ—è¡¨</li></ol><h3 id="1ã€æ—¶é—´åˆ†ç‰‡"><a href="#1ã€æ—¶é—´åˆ†ç‰‡" class="headerlink" title="1ã€æ—¶é—´åˆ†ç‰‡"></a>1ã€æ—¶é—´åˆ†ç‰‡</h3><h4 id="ä½¿ç”¨å®šæ—¶å™¨"><a href="#ä½¿ç”¨å®šæ—¶å™¨" class="headerlink" title="ä½¿ç”¨å®šæ—¶å™¨"></a>ä½¿ç”¨å®šæ—¶å™¨</h4><p>ä»ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œé¡µé¢çš„å¡é¡¿æ˜¯ç”±äºåŒæ—¶æ¸²æŸ“å¤§é‡DOMæ‰€å¼•èµ·çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è€ƒè™‘å°†æ¸²æŸ“è¿‡ç¨‹åˆ†æ‰¹è¿›è¡Œ</p><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨<code>setTimeout</code>æ¥å®ç°åˆ†æ‰¹æ¸²æŸ“</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//éœ€è¦æ’å…¥çš„å®¹å™¨</span></span><br><span class="line"><span class="keyword">let</span> ul = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;container&#x27;</span>);</span><br><span class="line"><span class="comment">// æ’å…¥åä¸‡æ¡æ•°æ®</span></span><br><span class="line"><span class="keyword">let</span> total = <span class="number">100000</span>;</span><br><span class="line"><span class="comment">// ä¸€æ¬¡æ’å…¥ 20 æ¡</span></span><br><span class="line"><span class="keyword">let</span> once = <span class="number">20</span>;</span><br><span class="line"><span class="comment">//æ€»é¡µæ•°</span></span><br><span class="line"><span class="keyword">let</span> page = total/once</span><br><span class="line"><span class="comment">//æ¯æ¡è®°å½•çš„ç´¢å¼•</span></span><br><span class="line"><span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//å¾ªç¯åŠ è½½æ•°æ®</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loop</span>(<span class="params">curTotal,curIndex</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(curTotal &lt;= <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ¯é¡µå¤šå°‘æ¡</span></span><br><span class="line">    <span class="keyword">let</span> pageCount = <span class="title class_">Math</span>.<span class="title function_">min</span>(curTotal , once);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; pageCount; i++)&#123;</span><br><span class="line">            <span class="keyword">let</span> li = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;li&#x27;</span>);</span><br><span class="line">            li.<span class="property">innerText</span> = curIndex + i + <span class="string">&#x27; : &#x27;</span> + ~~(<span class="title class_">Math</span>.<span class="title function_">random</span>() * total)</span><br><span class="line">            ul.<span class="title function_">appendChild</span>(li)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">loop</span>(curTotal - pageCount,curIndex + pageCount)</span><br><span class="line">    &#125;,<span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">loop</span>(total,index);</span><br></pre></td></tr></table></figure><p>ç”¨ä¸€ä¸ªgifå›¾æ¥çœ‹ä¸€ä¸‹æ•ˆæœ</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/9/10/16d18aa76affbeb0~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp" alt="img"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°é¡µé¢åŠ è½½çš„æ—¶é—´å·²ç»éå¸¸å¿«äº†ï¼Œæ¯æ¬¡åˆ·æ–°æ—¶å¯ä»¥å¾ˆå¿«çš„çœ‹åˆ°ç¬¬ä¸€å±çš„æ‰€æœ‰æ•°æ®ï¼Œä½†æ˜¯å½“æˆ‘ä»¬å¿«é€Ÿæ»šåŠ¨é¡µé¢çš„æ—¶å€™ï¼Œä¼šå‘ç°é¡µé¢å‡ºç°é—ªå±æˆ–ç™½å±çš„ç°è±¡</p><h4 id="ä½¿ç”¨-requestAnimationFrame"><a href="#ä½¿ç”¨-requestAnimationFrame" class="headerlink" title="ä½¿ç”¨ requestAnimationFrame"></a>ä½¿ç”¨ requestAnimationFrame</h4><p>ä¸<code>setTimeout</code>ç›¸æ¯”ï¼Œ<code>requestAnimationFrame</code>æœ€å¤§çš„ä¼˜åŠ¿æ˜¯ç”±ç³»ç»Ÿæ¥å†³å®šå›è°ƒå‡½æ•°çš„æ‰§è¡Œæ—¶æœºã€‚</p><p>å¦‚æœå±å¹•åˆ·æ–°ç‡æ˜¯60Hz,é‚£ä¹ˆå›è°ƒå‡½æ•°å°±æ¯16.7msè¢«æ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœåˆ·æ–°ç‡æ˜¯75Hzï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶é—´é—´éš”å°±å˜æˆäº†1000/75=13.3msï¼Œæ¢å¥è¯è¯´å°±æ˜¯ï¼Œ<code>requestAnimationFrame</code>çš„æ­¥ä¼è·Ÿç€ç³»ç»Ÿçš„åˆ·æ–°æ­¥ä¼èµ°ã€‚å®ƒèƒ½ä¿è¯å›è°ƒå‡½æ•°åœ¨å±å¹•æ¯ä¸€æ¬¡çš„åˆ·æ–°é—´éš”ä¸­åªè¢«æ‰§è¡Œä¸€æ¬¡ï¼Œè¿™æ ·å°±ä¸ä¼šå¼•èµ·ä¸¢å¸§ç°è±¡ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨<code>requestAnimationFrame</code>æ¥è¿›è¡Œåˆ†æ‰¹æ¸²æŸ“ï¼š</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//éœ€è¦æ’å…¥çš„å®¹å™¨</span></span><br><span class="line"><span class="keyword">let</span> ul = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;container&#x27;</span>);</span><br><span class="line"><span class="comment">// æ’å…¥åä¸‡æ¡æ•°æ®</span></span><br><span class="line"><span class="keyword">let</span> total = <span class="number">100000</span>;</span><br><span class="line"><span class="comment">// ä¸€æ¬¡æ’å…¥ 20 æ¡</span></span><br><span class="line"><span class="keyword">let</span> once = <span class="number">20</span>;</span><br><span class="line"><span class="comment">//æ€»é¡µæ•°</span></span><br><span class="line"><span class="keyword">let</span> page = total/once</span><br><span class="line"><span class="comment">//æ¯æ¡è®°å½•çš„ç´¢å¼•</span></span><br><span class="line"><span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//å¾ªç¯åŠ è½½æ•°æ®</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loop</span>(<span class="params">curTotal,curIndex</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(curTotal &lt;= <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ¯é¡µå¤šå°‘æ¡</span></span><br><span class="line">    <span class="keyword">let</span> pageCount = <span class="title class_">Math</span>.<span class="title function_">min</span>(curTotal , once);</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">requestAnimationFrame</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; pageCount; i++)&#123;</span><br><span class="line">            <span class="keyword">let</span> li = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;li&#x27;</span>);</span><br><span class="line">            li.<span class="property">innerText</span> = curIndex + i + <span class="string">&#x27; : &#x27;</span> + ~~(<span class="title class_">Math</span>.<span class="title function_">random</span>() * total)</span><br><span class="line">            ul.<span class="title function_">appendChild</span>(li)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">loop</span>(curTotal - pageCount,curIndex + pageCount)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">loop</span>(total,index);</span><br></pre></td></tr></table></figure><p>çœ‹ä¸‹æ•ˆæœ</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/9/10/16d18aa76abe9fe3~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp" alt="img"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œé¡µé¢åŠ è½½çš„é€Ÿåº¦å¾ˆå¿«ï¼Œå¹¶ä¸”æ»šåŠ¨çš„æ—¶å€™ï¼Œä¹Ÿå¾ˆæµç•…æ²¡æœ‰å‡ºç°é—ªçƒä¸¢å¸§çš„ç°è±¡ã€‚</p><p>è¿™å°±ç»“æŸäº†ä¹ˆï¼Œè¿˜å¯ä»¥å†ä¼˜åŒ–ä¹ˆï¼Ÿ</p><p>å½“ç„¶~~</p><h4 id="ä½¿ç”¨-DocumentFragment"><a href="#ä½¿ç”¨-DocumentFragment" class="headerlink" title="ä½¿ç”¨ DocumentFragment"></a>ä½¿ç”¨ DocumentFragment</h4><p>å…ˆè§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯ DocumentFragment ï¼Œæ–‡çŒ®å¼•ç”¨è‡ª<a href="https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FDocumentFragment">MDN</a></p><blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DocumentFragment`ï¼Œæ–‡æ¡£ç‰‡æ®µæ¥å£ï¼Œè¡¨ç¤ºä¸€ä¸ªæ²¡æœ‰çˆ¶çº§æ–‡ä»¶çš„æœ€å°æ–‡æ¡£å¯¹è±¡ã€‚å®ƒè¢«ä½œä¸ºä¸€ä¸ªè½»é‡ç‰ˆçš„`Document`ä½¿ç”¨ï¼Œç”¨äºå­˜å‚¨å·²æ’å¥½ç‰ˆçš„æˆ–å°šæœªæ‰“ç†å¥½æ ¼å¼çš„XMLç‰‡æ®µã€‚æœ€å¤§çš„åŒºåˆ«æ˜¯å› ä¸º`DocumentFragment`ä¸æ˜¯çœŸå®DOMæ ‘çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒçš„å˜åŒ–ä¸ä¼šè§¦å‘DOMæ ‘çš„ï¼ˆé‡æ–°æ¸²æŸ“) ï¼Œä¸”ä¸ä¼šå¯¼è‡´æ€§èƒ½ç­‰é—®é¢˜ã€‚</span><br><span class="line">å¯ä»¥ä½¿ç”¨`document.createDocumentFragment`æ–¹æ³•æˆ–è€…æ„é€ å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªç©ºçš„`DocumentFragment</span><br></pre></td></tr></table></figure></blockquote><p>ä»MDNçš„è¯´æ˜ä¸­ï¼Œæˆ‘ä»¬å¾—çŸ¥<code>DocumentFragments</code>æ˜¯DOMèŠ‚ç‚¹ï¼Œä½†å¹¶ä¸æ˜¯DOMæ ‘çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯å­˜åœ¨å†…å­˜ä¸­çš„ï¼Œæ‰€ä»¥å°†å­å…ƒç´ æ’å…¥åˆ°æ–‡æ¡£ç‰‡æ®µæ—¶ä¸ä¼šå¼•èµ·é¡µé¢å›æµã€‚</p><p>å½“<code>append</code>å…ƒç´ åˆ°<code>document</code>ä¸­æ—¶ï¼Œè¢«<code>append</code>è¿›å»çš„å…ƒç´ çš„æ ·å¼è¡¨çš„è®¡ç®—æ˜¯åŒæ­¥å‘ç”Ÿçš„ï¼Œæ­¤æ—¶è°ƒç”¨ getComputedStyle å¯ä»¥å¾—åˆ°æ ·å¼çš„è®¡ç®—å€¼ã€‚ è€Œ<code>append</code>å…ƒç´ åˆ°<code>documentFragment</code> ä¸­æ—¶ï¼Œæ˜¯ä¸ä¼šè®¡ç®—å…ƒç´ çš„æ ·å¼è¡¨ï¼Œæ‰€ä»¥<code>documentFragment</code> æ€§èƒ½æ›´ä¼˜ã€‚å½“ç„¶ç°åœ¨æµè§ˆå™¨çš„ä¼˜åŒ–å·²ç»åšçš„å¾ˆå¥½äº†ï¼Œ å½“<code>append</code>å…ƒç´ åˆ°<code>document</code>ä¸­åï¼Œæ²¡æœ‰è®¿é—® getComputedStyle ä¹‹ç±»çš„æ–¹æ³•æ—¶ï¼Œç°ä»£æµè§ˆå™¨ä¹Ÿå¯ä»¥æŠŠæ ·å¼è¡¨çš„è®¡ç®—æ¨è¿Ÿåˆ°è„šæœ¬æ‰§è¡Œä¹‹åã€‚</p><p>æœ€åä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//éœ€è¦æ’å…¥çš„å®¹å™¨</span></span><br><span class="line"><span class="keyword">let</span> ul = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;container&#x27;</span>);</span><br><span class="line"><span class="comment">// æ’å…¥åä¸‡æ¡æ•°æ®</span></span><br><span class="line"><span class="keyword">let</span> total = <span class="number">100000</span>;</span><br><span class="line"><span class="comment">// ä¸€æ¬¡æ’å…¥ 20 æ¡</span></span><br><span class="line"><span class="keyword">let</span> once = <span class="number">20</span>;</span><br><span class="line"><span class="comment">//æ€»é¡µæ•°</span></span><br><span class="line"><span class="keyword">let</span> page = total/once</span><br><span class="line"><span class="comment">//æ¯æ¡è®°å½•çš„ç´¢å¼•</span></span><br><span class="line"><span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//å¾ªç¯åŠ è½½æ•°æ®</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loop</span>(<span class="params">curTotal,curIndex</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(curTotal &lt;= <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ¯é¡µå¤šå°‘æ¡</span></span><br><span class="line">    <span class="keyword">let</span> pageCount = <span class="title class_">Math</span>.<span class="title function_">min</span>(curTotal , once);</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">requestAnimationFrame</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> fragment = <span class="variable language_">document</span>.<span class="title function_">createDocumentFragment</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; pageCount; i++)&#123;</span><br><span class="line">            <span class="keyword">let</span> li = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;li&#x27;</span>);</span><br><span class="line">            li.<span class="property">innerText</span> = curIndex + i + <span class="string">&#x27; : &#x27;</span> + ~~(<span class="title class_">Math</span>.<span class="title function_">random</span>() * total)</span><br><span class="line">            fragment.<span class="title function_">appendChild</span>(li)</span><br><span class="line">        &#125;</span><br><span class="line">        ul.<span class="title function_">appendChild</span>(fragment)</span><br><span class="line">        <span class="title function_">loop</span>(curTotal - pageCount,curIndex + pageCount)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">loop</span>(total,index);</span><br></pre></td></tr></table></figure><h3 id="2ã€è™šæ‹Ÿåˆ—è¡¨"><a href="#2ã€è™šæ‹Ÿåˆ—è¡¨" class="headerlink" title="2ã€è™šæ‹Ÿåˆ—è¡¨"></a>2ã€è™šæ‹Ÿåˆ—è¡¨</h3><h4 id="ä»€ä¹ˆæ˜¯è™šæ‹Ÿåˆ—è¡¨"><a href="#ä»€ä¹ˆæ˜¯è™šæ‹Ÿåˆ—è¡¨" class="headerlink" title="ä»€ä¹ˆæ˜¯è™šæ‹Ÿåˆ—è¡¨"></a>ä»€ä¹ˆæ˜¯è™šæ‹Ÿåˆ—è¡¨</h4><p><code>è™šæ‹Ÿåˆ—è¡¨</code>å…¶å®æ˜¯æŒ‰éœ€æ˜¾ç¤ºçš„ä¸€ç§å®ç°ï¼Œå³åªå¯¹<code>å¯è§åŒºåŸŸ</code>è¿›è¡Œæ¸²æŸ“ï¼Œå¯¹<code>éå¯è§åŒºåŸŸ</code>ä¸­çš„æ•°æ®ä¸æ¸²æŸ“æˆ–éƒ¨åˆ†æ¸²æŸ“çš„æŠ€æœ¯ï¼Œä»è€Œè¾¾åˆ°æé«˜çš„æ¸²æŸ“æ€§èƒ½ã€‚</p><p>å‡è®¾æœ‰1ä¸‡æ¡è®°å½•éœ€è¦åŒæ—¶æ¸²æŸ“ï¼Œæˆ‘ä»¬å±å¹•çš„<code>å¯è§åŒºåŸŸ</code>çš„é«˜åº¦ä¸º<code>500px</code>,è€Œåˆ—è¡¨é¡¹çš„é«˜åº¦ä¸º<code>50px</code>ï¼Œåˆ™æ­¤æ—¶æˆ‘ä»¬åœ¨å±å¹•ä¸­æœ€å¤šåªèƒ½çœ‹åˆ°10ä¸ªåˆ—è¡¨é¡¹ï¼Œé‚£ä¹ˆåœ¨é¦–æ¬¡æ¸²æŸ“çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€åŠ è½½10æ¡å³å¯ã€‚</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/29/16e15195cf16a558~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp" alt="img"></p><p>è¯´å®Œé¦–æ¬¡åŠ è½½ï¼Œå†åˆ†æä¸€ä¸‹å½“æ»šåŠ¨å‘ç”Ÿæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è®¡ç®—å½“å‰æ»šåŠ¨å€¼å¾—çŸ¥æ­¤æ—¶åœ¨å±å¹•<code>å¯è§åŒºåŸŸ</code>åº”è¯¥æ˜¾ç¤ºçš„åˆ—è¡¨é¡¹ã€‚</p><p>å‡è®¾æ»šåŠ¨å‘ç”Ÿï¼Œæ»šåŠ¨æ¡è·é¡¶éƒ¨çš„ä½ç½®ä¸º<code>150px</code>,åˆ™æˆ‘ä»¬å¯å¾—çŸ¥åœ¨<code>å¯è§åŒºåŸŸ</code>å†…çš„åˆ—è¡¨é¡¹ä¸º<code>ç¬¬4é¡¹</code>è‡³`ç¬¬13é¡¹ã€‚</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/29/16e15197c273cbd9~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp" alt="img"></p><h4 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h4><p>è™šæ‹Ÿåˆ—è¡¨çš„å®ç°ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨é¦–å±åŠ è½½çš„æ—¶å€™ï¼ŒåªåŠ è½½<code>å¯è§†åŒºåŸŸ</code>å†…éœ€è¦çš„åˆ—è¡¨é¡¹ï¼Œå½“æ»šåŠ¨å‘ç”Ÿæ—¶ï¼ŒåŠ¨æ€é€šè¿‡è®¡ç®—è·å¾—<code>å¯è§†åŒºåŸŸ</code>å†…çš„åˆ—è¡¨é¡¹ï¼Œå¹¶å°†<code>éå¯è§†åŒºåŸŸ</code>å†…å­˜åœ¨çš„åˆ—è¡¨é¡¹åˆ é™¤ã€‚</p><ul><li>è®¡ç®—å½“å‰<code>å¯è§†åŒºåŸŸ</code>èµ·å§‹æ•°æ®ç´¢å¼•(<code>startIndex</code>)</li><li>è®¡ç®—å½“å‰<code>å¯è§†åŒºåŸŸ</code>ç»“æŸæ•°æ®ç´¢å¼•(<code>endIndex</code>)</li><li>è®¡ç®—å½“å‰<code>å¯è§†åŒºåŸŸçš„</code>æ•°æ®ï¼Œå¹¶æ¸²æŸ“åˆ°é¡µé¢ä¸­</li><li>è®¡ç®—<code>startIndex</code>å¯¹åº”çš„æ•°æ®åœ¨æ•´ä¸ªåˆ—è¡¨ä¸­çš„åç§»ä½ç½®<code>startOffset</code>å¹¶è®¾ç½®åˆ°åˆ—è¡¨ä¸Š</li></ul><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/29/16e1519a393dee2c~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp" alt="img"></p><p>ç”±äºåªæ˜¯å¯¹<code>å¯è§†åŒºåŸŸ</code>å†…çš„åˆ—è¡¨é¡¹è¿›è¡Œæ¸²æŸ“ï¼Œæ‰€ä»¥ä¸ºäº†ä¿æŒåˆ—è¡¨å®¹å™¨çš„é«˜åº¦å¹¶å¯æ­£å¸¸çš„è§¦å‘æ»šåŠ¨ï¼Œå°†Htmlç»“æ„è®¾è®¡æˆå¦‚ä¸‹ç»“æ„ï¼š</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;infinite-list-container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;infinite-list-phantom&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;infinite-list&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- item-1 --&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- item-2 --&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- ...... --&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- item-n --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>infinite-list-container</code> ä¸º<code>å¯è§†åŒºåŸŸ</code>çš„å®¹å™¨</li><li><code>infinite-list-phantom</code> ä¸ºå®¹å™¨å†…çš„å ä½ï¼Œé«˜åº¦ä¸ºæ€»åˆ—è¡¨é«˜åº¦ï¼Œç”¨äºå½¢æˆæ»šåŠ¨æ¡</li><li><code>infinite-list</code> ä¸ºåˆ—è¡¨é¡¹çš„<code>æ¸²æŸ“åŒºåŸŸ</code></li></ul><p>æ¥ç€ï¼Œç›‘å¬<code>infinite-list-container</code>çš„<code>scroll</code>äº‹ä»¶ï¼Œè·å–æ»šåŠ¨ä½ç½®<code>scrollTop</code></p><ul><li>å‡å®š<code>å¯è§†åŒºåŸŸ</code>é«˜åº¦å›ºå®šï¼Œç§°ä¹‹ä¸º<code>screenHeight</code></li><li>å‡å®š<code>åˆ—è¡¨æ¯é¡¹</code>é«˜åº¦å›ºå®šï¼Œç§°ä¹‹ä¸º<code>itemSize</code></li><li>å‡å®š<code>åˆ—è¡¨æ•°æ®</code>ç§°ä¹‹ä¸º<code>listData</code></li><li>å‡å®š<code>å½“å‰æ»šåŠ¨ä½ç½®</code>ç§°ä¹‹ä¸º<code>scrollTop</code></li></ul><p>åˆ™å¯æ¨ç®—å‡ºï¼š</p><ul><li>åˆ—è¡¨æ€»é«˜åº¦<code>listHeight</code> = listData.length * itemSize</li><li>å¯æ˜¾ç¤ºçš„åˆ—è¡¨é¡¹æ•°<code>visibleCount</code> = Math.ceil(screenHeight / itemSize)</li><li>æ•°æ®çš„èµ·å§‹ç´¢å¼•<code>startIndex</code> = Math.floor(scrollTop / itemSize)</li><li>æ•°æ®çš„ç»“æŸç´¢å¼•<code>endIndex</code> = startIndex + visibleCount</li><li>åˆ—è¡¨æ˜¾ç¤ºæ•°æ®ä¸º<code>visibleData</code> = listData.slice(startIndex,endIndex)</li></ul><p>å½“æ»šåŠ¨åï¼Œç”±äº<code>æ¸²æŸ“åŒºåŸŸ</code>ç›¸å¯¹äº<code>å¯è§†åŒºåŸŸ</code>å·²ç»å‘ç”Ÿäº†åç§»ï¼Œæ­¤æ—¶æˆ‘éœ€è¦è·å–ä¸€ä¸ªåç§»é‡<code>startOffset</code>ï¼Œé€šè¿‡æ ·å¼æ§åˆ¶å°†<code>æ¸²æŸ“åŒºåŸŸ</code>åç§»è‡³<code>å¯è§†åŒºåŸŸ</code>ä¸­ã€‚</p><ul><li>åç§»é‡<code>startOffset</code> = scrollTop - (scrollTop % itemSize);</li></ul><p>æœ€ç»ˆçš„<code>ç®€æ˜“ä»£ç </code>å¦‚ä¸‹ï¼š</p><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div ref=<span class="string">&quot;list&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;infinite-list-container&quot;</span> <span class="variable">@scroll</span>=<span class="string">&quot;scrollEvent($event)&quot;</span>&gt;</span><br><span class="line">    &lt;div <span class="keyword">class</span>=<span class="string">&quot;infinite-list-phantom&quot;</span> <span class="symbol">:style=<span class="string">&quot;&#123; height: listHeight + &#x27;px&#x27; &#125;&quot;</span>&gt;&lt;/div&gt;</span></span><br><span class="line">    &lt;div <span class="keyword">class</span>=<span class="string">&quot;infinite-list&quot;</span> <span class="symbol">:style=<span class="string">&quot;&#123; transform: getTransform &#125;&quot;</span>&gt;</span></span><br><span class="line">      &lt;div ref=<span class="string">&quot;items&quot;</span></span><br><span class="line">        <span class="keyword">class</span>=<span class="string">&quot;infinite-list-item&quot;</span></span><br><span class="line">        v-<span class="keyword">for</span>=<span class="string">&quot;item in visibleData&quot;</span></span><br><span class="line">        <span class="symbol">:key=<span class="string">&quot;item.id&quot;</span></span></span><br><span class="line">        <span class="symbol">:style=<span class="string">&quot;&#123; height: itemSize + &#x27;px&#x27;,lineHeight: itemSize + &#x27;px&#x27; &#125;&quot;</span></span></span><br><span class="line">      &gt;&#123;&#123; item.value &#125;&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/div</span>&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/template</span>&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  <span class="symbol">name:</span><span class="string">&#x27;VirtualList&#x27;</span>,</span><br><span class="line">  <span class="symbol">props:</span> &#123;</span><br><span class="line">    <span class="regexp">//</span>æ‰€æœ‰åˆ—è¡¨æ•°æ®</span><br><span class="line">    <span class="symbol">listData:</span>&#123;</span><br><span class="line">      <span class="symbol">type:</span><span class="title class_">Array</span>,</span><br><span class="line">      <span class="symbol">default:</span>()=&gt;[]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="regexp">//</span>æ¯é¡¹é«˜åº¦</span><br><span class="line">    <span class="symbol">itemSize:</span> &#123;</span><br><span class="line">      <span class="symbol">type:</span> <span class="title class_">Number</span>,</span><br><span class="line">      <span class="symbol">default:</span><span class="number">200</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="symbol">computed:</span>&#123;</span><br><span class="line">    <span class="regexp">//</span>åˆ—è¡¨æ€»é«˜åº¦</span><br><span class="line">    listHeight()&#123;</span><br><span class="line">      <span class="keyword">return</span> this.listData.length * this.itemSize;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="regexp">//</span>å¯æ˜¾ç¤ºçš„åˆ—è¡¨é¡¹æ•°</span><br><span class="line">    visibleCount()&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Math</span>.ceil(this.screenHeight / this.itemSize)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="regexp">//</span>åç§»é‡å¯¹åº”çš„style</span><br><span class="line">    getTransform()&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">`translate3d(0,$&#123;this.startOffset&#125;px,0)`</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="regexp">//</span>è·å–çœŸå®æ˜¾ç¤ºåˆ—è¡¨æ•°æ®</span><br><span class="line">    visibleData()&#123;</span><br><span class="line">      <span class="keyword">return</span> this.listData.slice(this.start, <span class="title class_">Math</span>.min(this.<span class="keyword">end</span>,this.listData.length));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.screenHeight = this.<span class="variable">$el</span>.clientHeight;</span><br><span class="line">    this.start = <span class="number">0</span>;</span><br><span class="line">    this.<span class="keyword">end</span> = this.start + this.visibleCount;</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="regexp">//</span>å¯è§†åŒºåŸŸé«˜åº¦</span><br><span class="line">      <span class="symbol">screenHeight:</span><span class="number">0</span>,</span><br><span class="line">      <span class="regexp">//</span>åç§»é‡</span><br><span class="line">      <span class="symbol">startOffset:</span><span class="number">0</span>,</span><br><span class="line">      <span class="regexp">//</span>èµ·å§‹ç´¢å¼•</span><br><span class="line">      <span class="symbol">start:</span><span class="number">0</span>,</span><br><span class="line">      <span class="regexp">//</span>ç»“æŸç´¢å¼•</span><br><span class="line">      <span class="symbol">end:</span>null,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="symbol">methods:</span> &#123;</span><br><span class="line">    scrollEvent() &#123;</span><br><span class="line">      <span class="regexp">//</span>å½“å‰æ»šåŠ¨ä½ç½®</span><br><span class="line">      let scrollTop = this.<span class="variable">$refs</span>.list.scrollTop;</span><br><span class="line">      <span class="regexp">//</span>æ­¤æ—¶çš„å¼€å§‹ç´¢å¼•</span><br><span class="line">      this.start = <span class="title class_">Math</span>.floor(scrollTop / this.itemSize);</span><br><span class="line">      <span class="regexp">//</span>æ­¤æ—¶çš„ç»“æŸç´¢å¼•</span><br><span class="line">      this.<span class="keyword">end</span> = this.start + this.visibleCount;</span><br><span class="line">      <span class="regexp">//</span>æ­¤æ—¶çš„åç§»é‡</span><br><span class="line">      this.startOffset = scrollTop - (scrollTop % this.itemSize);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fcodesandbox.io%2Fs%2Fvirtuallist-1-rp8pi">ç‚¹å‡»æŸ¥çœ‹åœ¨çº¿DEMOåŠå®Œæ•´ä»£ç </a></p><p>æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/29/16e151e017d7bba3~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp" alt="img"></p><h4 id="åˆ—è¡¨é¡¹åŠ¨æ€é«˜åº¦"><a href="#åˆ—è¡¨é¡¹åŠ¨æ€é«˜åº¦" class="headerlink" title="åˆ—è¡¨é¡¹åŠ¨æ€é«˜åº¦"></a>åˆ—è¡¨é¡¹åŠ¨æ€é«˜åº¦</h4><p>åœ¨ä¹‹å‰çš„å®ç°ä¸­ï¼Œåˆ—è¡¨é¡¹çš„é«˜åº¦æ˜¯å›ºå®šçš„ï¼Œå› ä¸ºé«˜åº¦å›ºå®šï¼Œæ‰€ä»¥å¯ä»¥å¾ˆè½»æ˜“çš„è·å–åˆ—è¡¨é¡¹çš„æ•´ä½“é«˜åº¦ä»¥åŠæ»šåŠ¨æ—¶çš„æ˜¾ç¤ºæ•°æ®ä¸å¯¹åº”çš„åç§»é‡ã€‚è€Œå®é™…åº”ç”¨çš„æ—¶å€™ï¼Œå½“åˆ—è¡¨ä¸­åŒ…å«æ–‡æœ¬ä¹‹ç±»çš„å¯å˜å†…å®¹ï¼Œä¼šå¯¼è‡´åˆ—è¡¨é¡¹çš„é«˜åº¦å¹¶ä¸ç›¸åŒã€‚</p><p>æ¯”å¦‚è¿™ç§æƒ…å†µï¼š</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/29/16e1519f1e121be9~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp" alt="img"></p><p>åœ¨è™šæ‹Ÿåˆ—è¡¨ä¸­åº”ç”¨åŠ¨æ€é«˜åº¦çš„è§£å†³æ–¹æ¡ˆä¸€èˆ¬æœ‰å¦‚ä¸‹ä¸‰ç§ï¼š</p><blockquote><p>1.å¯¹ç»„ä»¶å±æ€§<code>itemSize</code>è¿›è¡Œæ‰©å±•ï¼Œæ”¯æŒä¼ é€’ç±»å‹ä¸º<code>æ•°å­—</code>ã€<code>æ•°ç»„</code>ã€<code>å‡½æ•°</code></p></blockquote><ul><li>å¯ä»¥æ˜¯ä¸€ä¸ªå›ºå®šå€¼ï¼Œå¦‚ 100ï¼Œæ­¤æ—¶åˆ—è¡¨é¡¹æ˜¯å›ºé«˜çš„</li><li>å¯ä»¥æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰åˆ—è¡¨é¡¹é«˜åº¦çš„æ•°æ®ï¼Œå¦‚ [50, 20, 100, 80, â€¦]</li><li>å¯ä»¥æ˜¯ä¸€ä¸ªæ ¹æ®åˆ—è¡¨é¡¹ç´¢å¼•è¿”å›å…¶é«˜åº¦çš„å‡½æ•°ï¼š(index: number): number</li></ul><p>è¿™ç§æ–¹å¼è™½ç„¶æœ‰æ¯”è¾ƒå¥½çš„çµæ´»åº¦ï¼Œä½†ä»…é€‚ç”¨äºå¯ä»¥é¢„å…ˆçŸ¥é“æˆ–å¯ä»¥é€šè¿‡è®¡ç®—å¾—çŸ¥åˆ—è¡¨é¡¹é«˜åº¦çš„æƒ…å†µï¼Œä¾ç„¶æ— æ³•è§£å†³åˆ—è¡¨é¡¹é«˜åº¦ç”±å†…å®¹æ’‘å¼€çš„æƒ…å†µã€‚</p><blockquote><p>2.å°†åˆ—è¡¨é¡¹<code>æ¸²æŸ“åˆ°å±å¹•å¤–</code>ï¼Œå¯¹å…¶é«˜åº¦è¿›è¡Œæµ‹é‡å¹¶ç¼“å­˜ï¼Œç„¶åå†å°†å…¶æ¸²æŸ“è‡³å¯è§†åŒºåŸŸå†…ã€‚</p></blockquote><p>ç”±äºé¢„å…ˆæ¸²æŸ“è‡³å±å¹•å¤–ï¼Œå†æ¸²æŸ“è‡³å±å¹•å†…ï¼Œè¿™å¯¼è‡´æ¸²æŸ“æˆæœ¬å¢åŠ ä¸€å€ï¼Œè¿™å¯¹äºæ•°ç™¾ä¸‡ç”¨æˆ·åœ¨ä½ç«¯ç§»åŠ¨è®¾å¤‡ä¸Šä½¿ç”¨çš„äº§å“æ¥è¯´æ˜¯ä¸åˆ‡å®é™…çš„ã€‚</p><blockquote><p>3.ä»¥<code>é¢„ä¼°é«˜åº¦</code>å…ˆè¡Œæ¸²æŸ“ï¼Œç„¶åè·å–çœŸå®é«˜åº¦å¹¶ç¼“å­˜ã€‚</p></blockquote><p>è¿™æ˜¯æˆ‘é€‰æ‹©çš„å®ç°æ–¹å¼ï¼Œå¯ä»¥é¿å…å‰ä¸¤ç§æ–¹æ¡ˆçš„ä¸è¶³ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæ¥çœ‹å¦‚ä½•ç®€æ˜“çš„å®ç°ï¼š</p><p>å®šä¹‰ç»„ä»¶å±æ€§<code>estimatedItemSize</code>,ç”¨äºæ¥æ”¶<code>é¢„ä¼°é«˜åº¦</code></p><figure class="highlight scss"><table><tr><td class="code"><pre><span class="line">props: &#123;</span><br><span class="line">  <span class="comment">//é¢„ä¼°é«˜åº¦</span></span><br><span class="line">  estimatedItemSize:&#123;</span><br><span class="line">    type:Number</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å®šä¹‰<code>positions</code>ï¼Œç”¨äºåˆ—è¡¨é¡¹æ¸²æŸ“åå­˜å‚¨<code>æ¯ä¸€é¡¹çš„é«˜åº¦ä»¥åŠä½ç½®</code>ä¿¡æ¯ï¼Œ</p><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.positions = [</span><br><span class="line">  <span class="comment">// &#123;</span></span><br><span class="line">  <span class="comment">//   top:0,</span></span><br><span class="line">  <span class="comment">//   bottom:100,</span></span><br><span class="line">  <span class="comment">//   height:100</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line">];</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¹¶åœ¨åˆå§‹æ—¶æ ¹æ®<code>estimatedItemSize</code>å¯¹<code>positions</code>è¿›è¡Œåˆå§‹åŒ–ã€‚</p><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">initPositions()&#123;</span><br><span class="line">  <span class="keyword">this</span>.positions = <span class="keyword">this</span>.listData.map((item,index)=&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      index,</span><br><span class="line">      height:<span class="keyword">this</span>.estimatedItemSize,</span><br><span class="line">      top:index * <span class="keyword">this</span>.estimatedItemSize,</span><br><span class="line">      bottom:(index + <span class="number">1</span>) * <span class="keyword">this</span>.estimatedItemSize</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç”±äºåˆ—è¡¨é¡¹é«˜åº¦ä¸å®šï¼Œå¹¶ä¸”æˆ‘ä»¬ç»´æŠ¤äº†<code>positions</code>ï¼Œç”¨äºè®°å½•æ¯ä¸€é¡¹çš„ä½ç½®ï¼Œè€Œ<code>åˆ—è¡¨é«˜åº¦</code>å®é™…å°±ç­‰äºåˆ—è¡¨ä¸­æœ€åä¸€é¡¹çš„åº•éƒ¨è·ç¦»åˆ—è¡¨é¡¶éƒ¨çš„ä½ç½®ã€‚</p><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ—è¡¨æ€»é«˜åº¦</span></span><br><span class="line">listHeight()&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.positions[<span class="keyword">this</span>.positions.length - <span class="number">1</span>].bottom;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç”±äºéœ€è¦åœ¨<code>æ¸²æŸ“å®Œæˆ</code>åï¼Œè·å–åˆ—è¡¨æ¯é¡¹çš„ä½ç½®ä¿¡æ¯å¹¶ç¼“å­˜ï¼Œæ‰€ä»¥ä½¿ç”¨é’©å­å‡½æ•°<code>updated</code>æ¥å®ç°ï¼š</p><figure class="highlight ini"><table><tr><td class="code"><pre><span class="line">updated()&#123;</span><br><span class="line">  let <span class="attr">nodes</span> = this.<span class="variable">$refs</span>.items<span class="comment">;</span></span><br><span class="line">  nodes.forEach((node)=&gt;&#123;</span><br><span class="line">    let <span class="attr">rect</span> = node.getBoundingClientRect()<span class="comment">;</span></span><br><span class="line">    let <span class="attr">height</span> = rect.height<span class="comment">;</span></span><br><span class="line">    let <span class="attr">index</span> = +node.id.slice(<span class="number">1</span>)</span><br><span class="line">    let <span class="attr">oldHeight</span> = this.positions[index].height<span class="comment">;</span></span><br><span class="line">    let <span class="attr">dValue</span> = oldHeight - height<span class="comment">;</span></span><br><span class="line">    //å­˜åœ¨å·®å€¼</span><br><span class="line">    if(dValue)&#123;</span><br><span class="line">      this.positions<span class="section">[index]</span>.<span class="attr">bottom</span> = this.positions[index].bottom - dValue<span class="comment">;</span></span><br><span class="line">      this.positions<span class="section">[index]</span>.<span class="attr">height</span> = height<span class="comment">;</span></span><br><span class="line">      for(let <span class="attr">k</span> = index + <span class="number">1</span><span class="comment">;k&lt;this.positions.length; k++)&#123;</span></span><br><span class="line">        this.positions<span class="section">[k]</span>.<span class="attr">top</span> = this.positions[k-<span class="number">1</span>].bottom<span class="comment">;</span></span><br><span class="line">        this.positions<span class="section">[k]</span>.<span class="attr">bottom</span> = this.positions[k].bottom - dValue<span class="comment">;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ»šåŠ¨åè·å–åˆ—è¡¨<code>å¼€å§‹ç´¢å¼•</code>çš„æ–¹æ³•ä¿®æ”¹ä¸ºé€šè¿‡<code>ç¼“å­˜</code>è·å–ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è·å–åˆ—è¡¨èµ·å§‹ç´¢å¼•</span></span><br><span class="line"><span class="title function_">getStartIndex</span>(<span class="params">scrollTop = <span class="number">0</span></span>)&#123;</span><br><span class="line">  <span class="keyword">let</span> item = <span class="variable language_">this</span>.<span class="property">positions</span>.<span class="title function_">find</span>(<span class="function"><span class="params">i</span> =&gt;</span> i &amp;&amp; i.<span class="property">bottom</span> &gt; scrollTop);</span><br><span class="line">  <span class="keyword">return</span> item.<span class="property">index</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç”±äºæˆ‘ä»¬çš„ç¼“å­˜æ•°æ®ï¼Œæœ¬èº«å°±æ˜¯æœ‰é¡ºåºçš„ï¼Œæ‰€ä»¥è·å–<code>å¼€å§‹ç´¢å¼•</code>çš„æ–¹æ³•å¯ä»¥è€ƒè™‘é€šè¿‡<code>äºŒåˆ†æŸ¥æ‰¾</code>çš„æ–¹å¼æ¥é™ä½æ£€ç´¢æ¬¡æ•°ï¼š</p><figure class="highlight ini"><table><tr><td class="code"><pre><span class="line">//è·å–åˆ—è¡¨èµ·å§‹ç´¢å¼•</span><br><span class="line">getStartIndex(<span class="attr">scrollTop</span> = <span class="number">0</span>)&#123;</span><br><span class="line">  //äºŒåˆ†æ³•æŸ¥æ‰¾</span><br><span class="line">  return this.binarySearch(this.positions,scrollTop)</span><br><span class="line">&#125;,</span><br><span class="line">//äºŒåˆ†æ³•æŸ¥æ‰¾</span><br><span class="line">binarySearch(list,value)&#123;</span><br><span class="line">  let <span class="attr">start</span> = <span class="number">0</span><span class="comment">;</span></span><br><span class="line">  let <span class="attr">end</span> = list.length - <span class="number">1</span><span class="comment">;</span></span><br><span class="line">  let <span class="attr">tempIndex</span> = null<span class="comment">;</span></span><br><span class="line">  while(start &lt;= end)&#123;</span><br><span class="line">    let <span class="attr">midIndex</span> = parseInt((start + end)/<span class="number">2</span>)<span class="comment">;</span></span><br><span class="line">    let <span class="attr">midValue</span> = list[midIndex].bottom<span class="comment">;</span></span><br><span class="line">    if(<span class="attr">midValue</span> === value)&#123;</span><br><span class="line">      return midIndex + 1<span class="comment">;</span></span><br><span class="line">    &#125;else if(midValue &lt; value)&#123;</span><br><span class="line">      <span class="attr">start</span> = midIndex + <span class="number">1</span><span class="comment">;</span></span><br><span class="line">    &#125;else if(midValue &gt; value)&#123;</span><br><span class="line">      if(<span class="attr">tempIndex</span> === null || tempIndex &gt; midIndex)&#123;</span><br><span class="line">        <span class="attr">tempIndex</span> = midIndex<span class="comment">;</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="attr">end</span> = end - <span class="number">1</span><span class="comment">;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return tempIndex<span class="comment">;</span></span><br><span class="line">&#125;,</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ»šåŠ¨åå°†<code>åç§»é‡</code>çš„è·å–æ–¹å¼å˜æ›´ï¼š</p><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">scrollEvent() &#123;</span><br><span class="line">  <span class="comment">//...çœç•¥</span></span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">this</span>.start &gt;= <span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>.startOffset = <span class="keyword">this</span>.positions[<span class="keyword">this</span>.start - <span class="number">1</span>].bottom</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.startOffset = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é€šè¿‡<a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fmarak%2FFaker.js%2F">faker.js</a> æ¥åˆ›å»ºä¸€äº›<code>éšæœºæ•°æ®</code></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">let</span> data = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">let</span> <span class="built_in">id</span> = 0; <span class="built_in">id</span> &lt; 10000; <span class="built_in">id</span>++) &#123;</span><br><span class="line">  data.push(&#123;</span><br><span class="line">    <span class="built_in">id</span>,</span><br><span class="line">    value: faker.lorem.sentences() // é•¿æ–‡æœ¬</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fcodesandbox.io%2Fs%2Fvirtuallist2-1bqk6">ç‚¹å‡»æŸ¥çœ‹åœ¨çº¿DEMOåŠå®Œæ•´ä»£ç </a></p><p>æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/29/16e151e96584b690~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp" alt="img"></p><p>ä»æ¼”ç¤ºæ•ˆæœä¸Šçœ‹ï¼Œæˆ‘ä»¬å®ç°äº†åŸºäº<code>æ–‡å­—å†…å®¹åŠ¨æ€æ’‘é«˜åˆ—è¡¨é¡¹</code>æƒ…å†µä¸‹çš„<code>è™šæ‹Ÿåˆ—è¡¨</code>ï¼Œä½†æ˜¯æˆ‘ä»¬å¯èƒ½ä¼šå‘ç°ï¼Œå½“æ»šåŠ¨è¿‡å¿«æ—¶ï¼Œä¼šå‡ºç°çŸ­æš‚çš„<code>ç™½å±ç°è±¡</code>ã€‚</p><p>ä¸ºäº†ä½¿é¡µé¢å¹³æ»‘æ»šåŠ¨ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨<code>å¯è§åŒºåŸŸ</code>çš„ä¸Šæ–¹å’Œä¸‹æ–¹æ¸²æŸ“é¢å¤–çš„é¡¹ç›®ï¼Œåœ¨æ»šåŠ¨æ—¶ç»™äºˆä¸€äº›<code>ç¼“å†²</code>ï¼Œæ‰€ä»¥å°†å±å¹•åˆ†ä¸ºä¸‰ä¸ªåŒºåŸŸï¼š</p><ul><li>å¯è§†åŒºåŸŸä¸Šæ–¹ï¼š<code>above</code></li><li>å¯è§†åŒºåŸŸï¼š<code>screen</code></li><li>å¯è§†åŒºåŸŸä¸‹æ–¹ï¼š<code>below</code></li></ul><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/29/16e151a59317cae7~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp" alt="img"></p><p>å®šä¹‰ç»„ä»¶å±æ€§<code>bufferScale</code>,ç”¨äºæ¥æ”¶<code>ç¼“å†²åŒºæ•°æ®</code>ä¸<code>å¯è§†åŒºæ•°æ®</code>çš„<code>æ¯”ä¾‹</code></p><figure class="highlight scss"><table><tr><td class="code"><pre><span class="line">props: &#123;</span><br><span class="line">  <span class="comment">//ç¼“å†²åŒºæ¯”ä¾‹</span></span><br><span class="line">  bufferScale:&#123;</span><br><span class="line">    type:Number,</span><br><span class="line">    default:<span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯è§†åŒºä¸Šæ–¹æ¸²æŸ“æ¡æ•°<code>aboveCount</code>è·å–æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">aboveCount()&#123;</span><br><span class="line">  <span class="keyword">return</span> Math.min(<span class="keyword">this</span>.start,<span class="keyword">this</span>.bufferScale * <span class="keyword">this</span>.visibleCount)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯è§†åŒºä¸‹æ–¹æ¸²æŸ“æ¡æ•°<code>belowCount</code>è·å–æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">belowCount()&#123;</span><br><span class="line">  <span class="keyword">return</span> Math.min(<span class="keyword">this</span>.listData.length - <span class="keyword">this</span>.end,<span class="keyword">this</span>.bufferScale * <span class="keyword">this</span>.visibleCount);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>çœŸå®æ¸²æŸ“æ•°æ®<code>visibleData</code>è·å–æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">visibleData()&#123;</span><br><span class="line">  let start = <span class="keyword">this</span>.start - <span class="keyword">this</span>.aboveCount;</span><br><span class="line">  let end = <span class="keyword">this</span>.end + <span class="keyword">this</span>.belowCount;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>._listData.slice(start, end);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fcodesandbox.io%2Fs%2Fvirtuallist-3-i3h9v">ç‚¹å‡»æŸ¥çœ‹åœ¨çº¿DEMOåŠå®Œæ•´ä»£ç </a></p><p>æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/29/16e151ee0eb0fc89~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp" alt="img"></p><blockquote><p>åŸºäºè¿™ä¸ªæ–¹æ¡ˆï¼Œä¸ªäººå¼€å‘äº†ä¸€ä¸ªåŸºäºVue2.xçš„è™šæ‹Ÿåˆ—è¡¨ç»„ä»¶ï¼š<a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fchenqf%2Fvue-virtual-listview">vue-virtual-listview</a>,å¯<a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fchenqf%2Fvue-virtual-listview">ç‚¹å‡»æŸ¥çœ‹å®Œæ•´ä»£ç </a>ã€‚</p></blockquote><h4 id="é¢å‘æœªæ¥"><a href="#é¢å‘æœªæ¥" class="headerlink" title="é¢å‘æœªæ¥"></a>é¢å‘æœªæ¥</h4><p>åœ¨å‰æ–‡ä¸­æˆ‘ä»¬ä½¿ç”¨<code>ç›‘å¬scrolläº‹ä»¶</code>çš„æ–¹å¼æ¥è§¦å‘å¯è§†åŒºåŸŸä¸­æ•°æ®çš„æ›´æ–°ï¼Œå½“æ»šåŠ¨å‘ç”Ÿåï¼Œscrolläº‹ä»¶ä¼šé¢‘ç¹è§¦å‘ï¼Œå¾ˆå¤šæ—¶å€™ä¼šé€ æˆ<code>é‡å¤è®¡ç®—</code>çš„é—®é¢˜ï¼Œä»æ€§èƒ½ä¸Šæ¥è¯´æ— ç–‘å­˜åœ¨æµªè´¹çš„æƒ…å†µã€‚</p><p>å¯ä»¥ä½¿ç”¨<a href="https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FIntersectionObserver">IntersectionObserver</a>æ›¿æ¢ç›‘å¬scrolläº‹ä»¶ï¼Œ<code>IntersectionObserver</code>å¯ä»¥ç›‘å¬ç›®æ ‡å…ƒç´ æ˜¯å¦å‡ºç°åœ¨å¯è§†åŒºåŸŸå†…ï¼Œåœ¨ç›‘å¬çš„å›è°ƒäº‹ä»¶ä¸­æ‰§è¡Œå¯è§†åŒºåŸŸæ•°æ®çš„æ›´æ–°ï¼Œå¹¶ä¸”<code>IntersectionObserver</code>çš„ç›‘å¬å›è°ƒæ˜¯å¼‚æ­¥è§¦å‘ï¼Œä¸éšç€ç›®æ ‡å…ƒç´ çš„æ»šåŠ¨è€Œè§¦å‘ï¼Œæ€§èƒ½æ¶ˆè€—æä½ã€‚</p><h4 id="é—ç•™é—®é¢˜"><a href="#é—ç•™é—®é¢˜" class="headerlink" title="é—ç•™é—®é¢˜"></a>é—ç•™é—®é¢˜</h4><p>æˆ‘ä»¬è™½ç„¶å®ç°äº†æ ¹æ®åˆ—è¡¨é¡¹åŠ¨æ€é«˜åº¦ä¸‹çš„è™šæ‹Ÿåˆ—è¡¨ï¼Œä½†å¦‚æœåˆ—è¡¨é¡¹ä¸­åŒ…å«å›¾ç‰‡ï¼Œå¹¶ä¸”åˆ—è¡¨é«˜åº¦ç”±å›¾ç‰‡æ’‘å¼€ï¼Œç”±äºå›¾ç‰‡ä¼šå‘é€ç½‘ç»œè¯·æ±‚ï¼Œæ­¤æ—¶æ— æ³•ä¿è¯æˆ‘ä»¬åœ¨è·å–åˆ—è¡¨é¡¹çœŸå®é«˜åº¦æ—¶å›¾ç‰‡æ˜¯å¦å·²ç»åŠ è½½å®Œæˆï¼Œä»è€Œé€ æˆè®¡ç®—ä¸å‡†ç¡®çš„æƒ…å†µã€‚</p><p>è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ä»¬èƒ½ç›‘å¬åˆ—è¡¨é¡¹çš„å¤§å°å˜åŒ–å°±èƒ½è·å–å…¶çœŸæ­£çš„é«˜åº¦äº†ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<a href="https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FResizeObserver">ResizeObserver</a>æ¥ç›‘å¬åˆ—è¡¨é¡¹å†…å®¹åŒºåŸŸçš„é«˜åº¦æ”¹å˜ï¼Œä»è€Œå®æ—¶è·å–æ¯ä¸€åˆ—è¡¨é¡¹çš„é«˜åº¦ã€‚</p><p>ä¸è¿‡é—æ†¾çš„æ˜¯ï¼Œåœ¨æ’°å†™æœ¬æ–‡çš„æ—¶å€™ï¼Œä»…æœ‰å°‘æ•°<a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.caniuse.com%2F%23search%3DResizeObserver">æµè§ˆå™¨æ”¯æŒ</a><code>ResizeObserver</code>ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æå‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æå‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vueçŸ¥è¯†æ€»ç»“</title>
      <link href="/posts/58641.html"/>
      <url>/posts/58641.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h4 id="1ã€vue-ä¿®æ”¹æ•°æ®é¡µé¢ä¸é‡æ–°æ¸²æŸ“"><a href="#1ã€vue-ä¿®æ”¹æ•°æ®é¡µé¢ä¸é‡æ–°æ¸²æŸ“" class="headerlink" title="1ã€vue ä¿®æ”¹æ•°æ®é¡µé¢ä¸é‡æ–°æ¸²æŸ“"></a>1ã€vue ä¿®æ”¹æ•°æ®é¡µé¢ä¸é‡æ–°æ¸²æŸ“</h4><blockquote><p><code>vue2</code>æ˜¯ç”¨è¿‡<code>Object.defineProperty</code>å®ç°æ•°æ®å“åº”å¼, ç»„ä»¶åˆå§‹åŒ–æ—¶ï¼Œå¯¹ data ä¸­çš„ item è¿›è¡Œé€’å½’éå†ï¼Œå¯¹ item çš„æ¯ä¸€ä¸ªå±æ€§è¿›è¡ŒåŠ«æŒï¼Œæ·»åŠ  set , get æ–¹æ³•ã€‚æˆ‘ä»¬åæ¥ æ–°åŠ çš„å±æ€§ ï¼Œå¹¶æ²¡æœ‰é€šè¿‡<code>Object.defineProperty</code>è®¾ç½®æˆå“åº”å¼æ•°æ®ï¼Œä¿®æ”¹åä¸ä¼šè§†å›¾æ›´æ–°</p></blockquote><p><strong>é€šè¿‡æ•°ç»„ç´¢å¼•å·ä¿®æ”¹äº†æ•°ç»„ï¼Œç•Œé¢ä¼šä¸ä¼šç›¸åº”æ›´æ–°ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</strong></p><p>ç­”ï¼šä¸ä¼šã€‚vue ç›‘å¬ä¸åˆ°</p><p>vue ä¸ºä»€ä¹ˆæ²¡æœ‰æä¾› <code>arr[ä¸‹æ ‡] = val</code> å˜æˆå“åº”å¼ï¼Ÿ</p><p>å°¤å¤§ï¼šâ€å› ä¸ºæ€§èƒ½é—®é¢˜ï¼Œæ€§èƒ½ä»£ä»·å’Œè·å¾—çš„ç”¨æˆ·ä½“éªŒæ”¶ç›Šä¸æˆæ­£æ¯”â€</p><h6 id="æ•°ç»„-å¯¹è±¡çš„å“åº”å¼-ï¼Œvue-é‡Œé¢æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿ"><a href="#æ•°ç»„-å¯¹è±¡çš„å“åº”å¼-ï¼Œvue-é‡Œé¢æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿ" class="headerlink" title="æ•°ç»„/å¯¹è±¡çš„å“åº”å¼ ï¼Œvue é‡Œé¢æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿ"></a><strong>æ•°ç»„/å¯¹è±¡çš„å“åº”å¼ ï¼Œvue é‡Œé¢æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿ</strong></h6><p><strong>å¯¹è±¡</strong>ï¼šä½¿ç”¨äº†<code>Object.defineProperty</code>ä¸­çš„ get å’Œ set</p><blockquote><p>å¦‚ä½•ç›‘æµ‹å¯¹è±¡ä¸­çš„æ•°æ®ï¼Ÿ<br>é€šè¿‡ setter å®ç°ç›‘è§†ï¼Œä¸”è¦åœ¨ new Vue æ—¶å°±ä¼ â¼Šè¦ç›‘æµ‹çš„æ•°æ®</p><ol><li>å¯¹è±¡ä¸­åè¿½åŠ çš„å±æ€§ï¼ŒVue é»˜è®¤ä¸åšå“åº”å¼å¤„ç†</li><li>å¦‚éœ€ç»™åæ·»åŠ çš„å±æ€§åšå“åº”å¼ï¼Œè¯·ä½¿â½¤å¦‚ä¸‹ APIï¼š<br><code>Vue.set(target,propertyName/index,value)</code>  <code>vm.$set(target,propertyName/index,value)</code></li></ol></blockquote><p><strong><a href="https://cn.vuejs.org/v2/guide/list.html#%E6%95%B0%E7%BB%84%E6%9B%B4%E6%96%B0%E6%A3%80%E6%B5%8B">æ•°ç»„</a></strong>ï¼š <code>Vue</code>é‡å†™äº†æ•°ç»„çš„åŸå‹ï¼Œæ›´å‡†ç¡®çš„è¡¨è¾¾æ˜¯<strong>æ‹¦æˆª</strong>äº†æ•°ç»„çš„åŸå‹</p><blockquote><p>å¦‚ä½•ç›‘æµ‹æ•°ç»„ä¸­çš„æ•°æ®ï¼Ÿ<br>é€šè¿‡åŒ…è£¹æ•°ç»„æ›´æ–°å…ƒç´ çš„â½…æ³•å®ç°ï¼Œæœ¬è´¨å°±æ˜¯åšäº†ä¸¤ä»¶äº‹ï¼š</p><ol><li>è°ƒâ½¤åŸâ½£å¯¹åº”çš„â½…æ³•å¯¹æ•°ç»„è¿›â¾æ›´æ–°</li><li>é‡æ–°è§£ææ¨¡æ¿ï¼Œè¿›â½½æ›´æ–°â»šâ¾¯</li><li><p>åœ¨ Vue ä¿®æ”¹æ•°ç»„ä¸­çš„æŸä¸ªå…ƒç´ â¼€å®šè¦â½¤å¦‚ä¸‹â½…æ³•ï¼š</p><ol><li>ä½¿ â½¤ è¿™ äº› API ï¼š<br><code>push() pop() shift() unshift() splice() sort() reverse()</code></li><li><code>Vue.set()</code> æˆ– <code>vm.$set()</code></li><li>è¦†ç›–æ•´ä¸ªæ•°ç»„</li></ol></li></ol></blockquote><p><strong>ä¸ºä»€ä¹ˆå¯¹è±¡å’Œæ•°ç»„è¦åˆ†å¼€å¤„ç†?</strong></p><blockquote><p><code>å¯¹è±¡</code>çš„å±æ€§é€šå¸¸æ¯”è¾ƒå°‘ï¼Œå¯¹æ¯ä¸€ä¸ªå±æ€§éƒ½åŠ«æŒ<code>setå’Œget</code>ï¼Œå¹¶ä¸ä¼šæ¶ˆè€—å¾ˆå¤šæ€§èƒ½</p><p><code>æ•°ç»„</code>æœ‰å¯èƒ½æœ‰æˆåƒä¸Šä¸‡ä¸ªå…ƒç´ ï¼Œå¦‚æœæ¯ä¸€ä¸ªå…ƒç´ éƒ½åŠ«æŒ<code>setå’Œget</code>ï¼Œæ— ç–‘æ¶ˆè€—å¤ªå¤šæ€§èƒ½äº†</p><p>æ‰€ä»¥<code>å¯¹è±¡</code>é€šè¿‡<code>defineProperty</code>è¿›è¡Œæ­£å¸¸çš„åŠ«æŒ<code>setå’Œget</code></p><p><code>æ•°ç»„</code>åˆ™é€šè¿‡<code>ä¿®æ”¹æ•°ç»„åŸå‹ä¸Šçš„éƒ¨åˆ†æ–¹æ³•</code>ï¼Œæ¥å®ç°<code>ä¿®æ”¹æ•°ç»„è§¦å‘å“åº”å¼</code></p></blockquote><h4 id="2ã€ç”Ÿå‘½å‘¨æœŸ"><a href="#2ã€ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="2ã€ç”Ÿå‘½å‘¨æœŸ"></a>2ã€ç”Ÿå‘½å‘¨æœŸ</h4><h5 id="Vue-ç”Ÿå‘½å‘¨æœŸéƒ½æœ‰å“ªäº›ï¼Ÿ"><a href="#Vue-ç”Ÿå‘½å‘¨æœŸéƒ½æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="Vue ç”Ÿå‘½å‘¨æœŸéƒ½æœ‰å“ªäº›ï¼Ÿ"></a>Vue ç”Ÿå‘½å‘¨æœŸéƒ½æœ‰å“ªäº›ï¼Ÿ</h5><div class="table-container"><table><thead><tr><th style="text-align:center">ç”Ÿå‘½å‘¨æœŸ</th><th style="text-align:left">æ‰§è¡Œæ—¶æœº</th></tr></thead><tbody><tr><td style="text-align:center"><code>beforeCreate</code></td><td style="text-align:left">åœ¨ç»„ä»¶å®ä¾‹è¢«åˆ›å»ºä¹‹åˆã€ç»„ä»¶çš„å±æ€§â½£æ•ˆä¹‹å‰è¢«è°ƒç”¨</td></tr><tr><td style="text-align:center"><code>created</code></td><td style="text-align:left">åœ¨ç»„ä»¶å®ä¾‹å·²åˆ›å»ºå®Œæ¯•ã€‚æ­¤æ—¶å±æ€§ä¹Ÿå·²ç»‘å®šï¼Œä½†çœŸå® DOM è¿˜æœªâ½£æˆï¼Œ$el è¿˜ä¸å¯â½¤</td></tr><tr><td style="text-align:center"><code>beforeMount</code></td><td style="text-align:left">åœ¨ç»„ä»¶æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒâ½¤ã€‚ç›¸å…³çš„ render å‡½æ•°â¾¸æ¬¡è¢«è°ƒâ½¤</td></tr><tr><td style="text-align:center"><code>mounted</code></td><td style="text-align:left">åœ¨ el è¢«æ–°å»ºçš„ vm.$el æ›¿æ¢å¹¶æŒ‚è½½åˆ°å®ä¾‹ä¸Šä¹‹åè¢«è°ƒç”¨</td></tr><tr><td style="text-align:center"><code>beforeUpdate</code></td><td style="text-align:left">åœ¨ç»„ä»¶æ•°æ®æ›´æ–°ä¹‹å‰è°ƒâ½¤ã€‚å‘â½£åœ¨è™šæ‹Ÿ DOM æ‰“è¡¥ä¸ä¹‹å‰</td></tr><tr><td style="text-align:center"><code>update</code></td><td style="text-align:left">åœ¨ç»„ä»¶æ•°æ®æ›´æ–°ä¹‹åè¢«è°ƒç”¨</td></tr><tr><td style="text-align:center"><code>activited</code></td><td style="text-align:left">åœ¨ç»„ä»¶è¢«æ¿€æ´»æ—¶è°ƒâ½¤ï¼ˆä½¿ç”¨äº† <code>&lt;keep-alive&gt;</code> çš„æƒ…å†µä¸‹ï¼‰</td></tr><tr><td style="text-align:center"><code>deactivated</code></td><td style="text-align:left">åœ¨ç»„ä»¶è¢«é”€æ¯æ—¶è°ƒâ½¤ï¼ˆä½¿ç”¨äº† <code>&lt;keep-alive&gt;</code> çš„æƒ…å†µä¸‹ï¼‰</td></tr><tr><td style="text-align:center"><code>beforeDestory</code></td><td style="text-align:left">åœ¨ç»„ä»¶é”€æ¯å‰è°ƒâ½¤</td></tr><tr><td style="text-align:center"><code>destoryed</code></td><td style="text-align:left">åœ¨ç»„ä»¶é”€æ¯åè°ƒâ½¤</td></tr></tbody></table></div><h5 id="çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº"><a href="#çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº" class="headerlink" title="çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº"></a>çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº</h5><p><strong>åŠ è½½æ¸²æŸ“è¿‡ç¨‹</strong></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">-&gt;çˆ¶beforeCreate</span><br><span class="line"> -&gt;çˆ¶created</span><br><span class="line"> -&gt;çˆ¶beforeMount</span><br><span class="line"> -&gt;å­beforeCreate</span><br><span class="line"> -&gt;å­created</span><br><span class="line"> -&gt;å­beforeMount</span><br><span class="line"> -&gt;å­mounted</span><br><span class="line"> -&gt;çˆ¶mounted</span><br></pre></td></tr></table></figure><p><strong>æ›´æ–°è¿‡ç¨‹</strong></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">çˆ¶beforeUpdate-&gt;å­beforeUpdate-&gt;å­updated-&gt;çˆ¶updated</span><br></pre></td></tr></table></figure><p><strong>é”€æ¯è¿‡ç¨‹</strong></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">çˆ¶beforeDestroy-&gt;å­beforeDestroy-&gt;å­destroyed-&gt;çˆ¶destroyed</span><br></pre></td></tr></table></figure><p><code>keep-alive</code>å¯ä»¥å®ç°ç»„ä»¶ç¼“å­˜ï¼Œå½“ç»„ä»¶åˆ‡æ¢æ—¶ä¸ä¼šå¯¹å½“å‰ç»„ä»¶è¿›è¡Œå¸è½½</p><p><a href="https://juejin.cn/post/6844903641866829838#heading-11">https://juejin.cn/post/6844903641866829838#heading-11</a></p><p><a href="https://juejin.cn/post/7114252241166401573">https://juejin.cn/post/7114252241166401573</a></p><h4 id="3ã€watch-å’Œ-computed-çš„åŒºåˆ«"><a href="#3ã€watch-å’Œ-computed-çš„åŒºåˆ«" class="headerlink" title="3ã€watch å’Œ computed çš„åŒºåˆ«"></a>3ã€watch å’Œ computed çš„åŒºåˆ«</h4><p>å®˜æ–¹æ–‡æ¡£ï¼šå¯¹äºä»»ä½•å¤æ‚é€»è¾‘ï¼Œä½ éƒ½åº”å½“ä½¿ç”¨è®¡ç®—å±æ€§</p><p>æ‰©å±•ï¼š<a href="https://blog.csdn.net/weixin_43638968/article/details/103593954">vue ä¸­ Computedã€Methodsã€Watch åŒºåˆ«</a></p><div class="table-container"><table><thead><tr><th style="text-align:center">computedï¼ˆè®¡ç®—å±æ€§ï¼‰</th><th style="text-align:center">watchï¼ˆç›‘è§†å±æ€§/ä¾¦å¬å™¨ï¼‰</th></tr></thead><tbody><tr><td style="text-align:center">æ ¹æ®ä½ æ‰€ä¾èµ–çš„æ•°æ®åŠ¨æ€æ˜¾ç¤ºæ–°çš„è®¡ç®—ç»“æœ<br />ä¸ç”¨å† data ä¸­å£°æ˜ï¼Œå¦åˆ™æŠ¥é”™</td><td style="text-align:center">data çš„æ•°æ®ç›‘å¬å›è°ƒ,ä¾èµ– data çš„æ•°æ®å˜åŒ–<br />ç›´æ¥ä½¿ç”¨ data å£°æ˜çš„æ•°æ®</td></tr><tr><td style="text-align:center">æ”¯æŒç¼“å­˜</td><td style="text-align:center">ä¸æ”¯æŒç¼“å­˜</td></tr><tr><td style="text-align:center">ä¸æ”¯æŒå¼‚æ­¥</td><td style="text-align:center">æ”¯æŒå¼‚æ­¥</td></tr><tr><td style="text-align:center">æœ‰ get å’Œ set æ–¹æ³•ï¼Œå½“æ•°æ®å˜åŒ–æ—¶ï¼Œè°ƒç”¨ set æ–¹æ³•</td><td style="text-align:center">å¯ä»¥æ·±åº¦ç›‘è§† deep,åŠ è½½å°±è°ƒç”¨ immediate<br />ç›‘å¬çš„å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‡½æ•°ï¼ŒnewVal å’Œ oldVla</td></tr><tr><td style="text-align:center">å½“éœ€è¦è¿›è¡Œæ•°å€¼è®¡ç®—ï¼Œå¹¶ä¸”ä¾èµ–äºå…¶å®ƒæ•°æ®æ—¶ï¼Œç”¨ computed</td><td style="text-align:center">åœ¨æŸä¸ªæ•°æ®å˜åŒ–æ—¶åšä¸€äº›äº‹æƒ…æˆ–éœ€è¦å¼‚æ­¥æ“ä½œæ—¶ï¼Œç”¨ watch</td></tr><tr><td style="text-align:center">computed èƒ½åšçš„</td><td style="text-align:center">watch éƒ½èƒ½åšåˆ°</td></tr></tbody></table></div><h4 id="4ã€ç»„ä»¶é€šä¿¡ï¼ˆç»„ä»¶é—´ä¼ å€¼ï¼‰"><a href="#4ã€ç»„ä»¶é€šä¿¡ï¼ˆç»„ä»¶é—´ä¼ å€¼ï¼‰" class="headerlink" title="4ã€ç»„ä»¶é€šä¿¡ï¼ˆç»„ä»¶é—´ä¼ å€¼ï¼‰"></a>4ã€ç»„ä»¶é€šä¿¡ï¼ˆç»„ä»¶é—´ä¼ å€¼ï¼‰</h4><blockquote><ul><li><code>props</code> <code>$emit</code></li><li><code>.sync</code> <code>v-model</code></li><li><code>$parent / $children</code> $parent è·å–çˆ¶ç»„ä»¶çš„å®ä¾‹ï¼Œä»»æ„è°ƒç”¨çˆ¶ç»„ä»¶çš„æ–¹æ³•ï¼Œä¿®æ”¹çˆ¶ç»„ä»¶çš„æ•°æ®</li><li><code>ref</code> çˆ¶ç»„ä»¶è·å– å­ç»„ä»¶ å®ä¾‹ï¼Œä»»æ„è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•è·å–å­ç»„ä»¶çš„å±æ€§</li><li><code>provide / inject</code>prpvide çˆ¶ç»„ä»¶å†…éƒ¨æä¾›æ•°æ® inject åµŒå¥—çš„å­ç»„ä»¶å¯ä»¥æ³¨å…¥æ•°æ®</li><li><code>$attrs / $listeners</code> $attrs(æ²¡æœ‰è¢« props æ¥æ”¶çš„æ‰€æœ‰è‡ªå®šä¹‰å±æ€§) $listeners(å¯ä»¥è·å–æ‰€æœ‰çš„çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„è‡ªå®šä¹‰äº‹ä»¶)</li><li><code>eventBus</code> å®šä¹‰ä¸€ä¸ªäº‹ä»¶æ€»çº¿ ä½¿ç”¨<code>$on</code> ç»‘å®š <code>$emit</code> è§¦å‘</li><li><code>vuex</code></li><li>è·¯ç”±ä¼ å‚</li></ul></blockquote><p><a href="https://www.wpgdadatong.com/cn/blog/detail?BID=B3650">https://www.wpgdadatong.com/cn/blog/detail?BID=B3650</a></p><p><a href="https://juejin.cn/post/7110223595359436813">https://juejin.cn/post/7110223595359436813</a></p><h4 id="5ã€-nextTick"><a href="#5ã€-nextTick" class="headerlink" title="5ã€$nextTick"></a>5ã€$nextTick</h4><p><strong>NextTick æ˜¯ä»€ä¹ˆ</strong></p><blockquote><p>åœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒã€‚åœ¨ä¿®æ”¹æ•°æ®ä¹‹åç«‹å³ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè·å–æ›´æ–°åçš„ DOM</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¿®æ”¹æ•°æ®</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">message</span> = <span class="string">&quot;ä¿®æ”¹åçš„å€¼&quot;</span>;</span><br><span class="line"><span class="comment">// æ­¤æ—¶DOMè¿˜æ²¡æœ‰æ›´æ–°</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$el</span>.<span class="property">textContent</span>); <span class="comment">// =&gt; &#x27;åŸå§‹çš„å€¼&#x27;</span></span><br><span class="line"><span class="variable language_">this</span>.$nextTick(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// DOM æ›´æ–°äº†</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$el</span>.<span class="property">textContent</span>); <span class="comment">// =&gt; &#x27;ä¿®æ”¹åçš„å€¼&#x27;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>åº”ç”¨åœºæ™¯ï¼šå› ä¸º vue æ˜¯å¼‚æ­¥æ‰§è¡Œ dom æ›´æ–°çš„ï¼Œæ‰€ä»¥å½“ä½ å¸Œæœ›åœ¨æ›´æ–°æ•°æ®ä¹‹åï¼Œæ“ä½œæ–°çš„è§†å›¾ï¼Œ é‚£ä¹ˆä½ çš„æ“ä½œé€»è¾‘åº”å†™åœ¨ Vue.nextTick(callback) çš„å›è°ƒä¸­ï¼Œè€Œè¿™ä¸ªå›è°ƒä¼šåœ¨dom æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œã€‚ å¦åˆ™ï¼Œå› ä¸ºå¼‚æ­¥æ›´æ–° dom çš„åŸå› ï¼Œå¦‚æœä½ ä¸æ˜¯åœ¨ Vue.nextTick(callback) çš„å›è°ƒä¸­æ‰§è¡Œæ“ä½œæ–°è§†å›¾ï¼Œ é‚£ä¹ˆå¯èƒ½ä¼šå‘ç”Ÿæ„å¤–ã€‚ä¾‹å¦‚ä½ åœ¨ created()é’©å­ æ˜¯ä¸èƒ½æ“ä½œ dom çš„ï¼Œä½†ä½ å¯ä»¥åœ¨æ­¤è°ƒæ¥å£æ›´æ–°æ•°æ®ï¼Œ å¦‚æœä½ æ­¤æ—¶å¸Œæœ›æ¥å£æ›´æ–°å®Œæ¯•æ•°æ®åï¼Œæ¥ç€è°ƒç”¨æ“ä½œ dom çš„é€»è¾‘ï¼Œé‚£ä¹ˆæœ€åå°†è¿™éƒ¨åˆ†æ“ä½œ dom çš„é€»è¾‘ï¼Œ æ”¾ç½®åœ¨Vue.nextTick(callback) çš„å›è°ƒå‡½æ•°ä¸­ã€‚</p></blockquote><h4 id="6ã€ä¿®é¥°ç¬¦"><a href="#6ã€ä¿®é¥°ç¬¦" class="headerlink" title="6ã€ä¿®é¥°ç¬¦"></a>6ã€ä¿®é¥°ç¬¦</h4><p>å¼•ç”¨ï¼š<a href="https://juejin.cn/post/7026867875990208543#heading-22">https://juejin.cn/post/7026867875990208543#heading-22</a></p><h5 id="äº‹ä»¶ä¿®é¥°ç¬¦"><a href="#äº‹ä»¶ä¿®é¥°ç¬¦" class="headerlink" title="äº‹ä»¶ä¿®é¥°ç¬¦"></a>äº‹ä»¶ä¿®é¥°ç¬¦</h5><p><code>stop</code></p><ul><li><code>stop</code>ä¿®é¥°ç¬¦çš„ä½œç”¨æ˜¯é˜»æ­¢å†’æ³¡</li></ul><p><code>preventâ­</code></p><ul><li><code>prevent</code>ä¿®é¥°ç¬¦çš„ä½œç”¨æ˜¯<strong>é˜»æ­¢é»˜è®¤äº‹ä»¶</strong>ï¼ˆä¾‹å¦‚ a æ ‡ç­¾çš„è·³è½¬ï¼‰</li></ul><p><code>capture</code></p><ul><li>äº‹ä»¶æµé»˜è®¤å†’æ³¡ï¼Œä½¿ç”¨ capture è¿›è¡Œæ•è·<strong>æ•è·</strong></li></ul><p><code>self</code></p><ul><li><code>self</code>ä¿®é¥°ç¬¦ä½œç”¨æ˜¯ï¼Œåªæœ‰ç‚¹å‡»<strong>äº‹ä»¶ç»‘å®šçš„æœ¬èº«</strong>æ‰ä¼šè§¦å‘äº‹ä»¶</li></ul><p><code>once</code></p><ul><li><code>once</code>ä¿®é¥°ç¬¦çš„ä½œç”¨æ˜¯ï¼Œäº‹ä»¶<strong>åªæ‰§è¡Œä¸€æ¬¡</strong></li></ul><p><code>nativeâ­</code></p><ul><li><code>native</code>ä¿®é¥°ç¬¦æ˜¯åŠ åœ¨<strong>è‡ªå®šä¹‰ç»„ä»¶</strong>çš„äº‹ä»¶ä¸Šï¼Œä¿è¯äº‹ä»¶èƒ½æ‰§è¡Œ</li><li><code>native</code>æ˜¯ç”¨æ¥æ˜¯åœ¨çˆ¶ç»„ä»¶ä¸­ç»™å­ç»„ä»¶ç»‘å®šä¸€ä¸ª<strong>åŸç”Ÿçš„äº‹ä»¶</strong>ï¼Œå°±å°†å­ç»„ä»¶å˜æˆäº†æ™®é€šçš„ HTML æ ‡ç­¾çœ‹å¾…</li></ul><p><code>passive</code></p><ul><li>å½“æˆ‘ä»¬åœ¨ç›‘å¬å…ƒç´ æ»šåŠ¨äº‹ä»¶çš„æ—¶å€™ï¼Œä¼šä¸€ç›´è§¦å‘ onscroll äº‹ä»¶ï¼Œåœ¨ pc ç«¯æ˜¯æ²¡å•¥é—®é¢˜çš„ï¼Œä½†æ˜¯åœ¨ç§»åŠ¨ç«¯ï¼Œä¼šè®©æˆ‘ä»¬çš„ç½‘é¡µå˜å¡ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªä¿®é¥°ç¬¦çš„æ—¶å€™ï¼Œç›¸å½“äºç»™ onscroll äº‹ä»¶æ•´äº†ä¸€ä¸ª.lazy ä¿®é¥°ç¬¦</li></ul><h5 id="v-bind-ä¿®é¥°ç¬¦"><a href="#v-bind-ä¿®é¥°ç¬¦" class="headerlink" title="v-bind ä¿®é¥°ç¬¦"></a>v-bind ä¿®é¥°ç¬¦</h5><p><code>syncâ­</code></p><ul><li><p>å½“<code>çˆ¶ç»„ä»¶</code>ä¼ å€¼è¿›<code>å­ç»„ä»¶</code>ï¼Œå­ç»„ä»¶æƒ³è¦æ”¹å˜è¿™ä¸ªå€¼æ—¶ï¼Œå¯ä»¥è¿™ä¹ˆåš</p></li><li><p>```js<br>// çˆ¶ç»„ä»¶é‡Œ<br><children :foo.sync="bar"></children><br>// å­ç»„ä»¶é‡Œ<br>this.$emit(â€˜update:fooâ€™, newValue)</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">`camel`</span><br><span class="line"></span><br><span class="line">`.camel` ä¿®é¥°ç¬¦å…è®¸åœ¨ä½¿ç”¨ DOM æ¨¡æ¿æ—¶å°† `v-bind` property åç§°é©¼å³°åŒ–ï¼Œä¾‹å¦‚ SVG çš„ `viewBox` propertyï¼š</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">&lt;svg :view-box.camel=&quot;viewBox&quot;&gt;&lt;/svg&gt;</span><br></pre></td></tr></table></figure></li></ul><h5 id="é¼ æ ‡ä¿®é¥°ç¬¦"><a href="#é¼ æ ‡ä¿®é¥°ç¬¦" class="headerlink" title="é¼ æ ‡ä¿®é¥°ç¬¦"></a>é¼ æ ‡ä¿®é¥°ç¬¦</h5><p><code>left</code> <code>right</code> <code>middle</code></p><ul><li>è¿™ä¸‰ä¸ªä¿®é¥°ç¬¦æ˜¯é¼ æ ‡çš„å·¦ä¸­å³æŒ‰é”®è§¦å‘çš„äº‹ä»¶</li></ul><h5 id="è¡¨å•ç›¸å…³ä¿®é¥°ç¬¦"><a href="#è¡¨å•ç›¸å…³ä¿®é¥°ç¬¦" class="headerlink" title="è¡¨å•ç›¸å…³ä¿®é¥°ç¬¦"></a>è¡¨å•ç›¸å…³ä¿®é¥°ç¬¦</h5><p><code>trimâ­</code></p><ul><li><code>trim</code>ä¿®é¥°ç¬¦çš„ä½œç”¨ç±»ä¼¼äº JavaScript ä¸­çš„<code>trim()</code>æ–¹æ³•ï¼Œä½œç”¨æ˜¯æŠŠ<code>v-model</code>ç»‘å®šçš„å€¼çš„é¦–å°¾ç©ºæ ¼ç»™è¿‡æ»¤æ‰ã€‚</li></ul><p><code>lazy</code></p><ul><li><code>lazy</code>ä¿®é¥°ç¬¦ä½œç”¨æ˜¯ï¼Œæ”¹å˜è¾“å…¥æ¡†çš„å€¼æ—¶ value ä¸ä¼šæ”¹å˜ï¼Œå½“å…‰æ ‡ç¦»å¼€è¾“å…¥æ¡†æ—¶ï¼Œ<code>v-model</code>ç»‘å®šçš„å€¼ value æ‰ä¼šæ”¹å˜</li></ul><p><code>number</code></p><ul><li><code>number</code>ä¿®é¥°ç¬¦çš„ä½œç”¨æ˜¯å°†å€¼è½¬æˆæ•°å­—ï¼Œä½†æ˜¯å…ˆè¾“å…¥å­—ç¬¦ä¸²å’Œå…ˆè¾“å…¥æ•°å­—ï¼Œæ˜¯ä¸¤ç§æƒ…å†µï¼š</li></ul><blockquote><p>å…ˆè¾“å…¥æ•°å­—çš„è¯ï¼Œåªå–å‰é¢æ•°å­—éƒ¨åˆ†</p><p>å…ˆè¾“å…¥å­—æ¯çš„è¯ï¼Œ<code>number</code>ä¿®é¥°ç¬¦æ— æ•ˆ</p></blockquote><h5 id="ç³»ç»Ÿä¿®é¥°ç¬¦"><a href="#ç³»ç»Ÿä¿®é¥°ç¬¦" class="headerlink" title="ç³»ç»Ÿä¿®é¥°ç¬¦"></a>ç³»ç»Ÿä¿®é¥°ç¬¦</h5><blockquote><p><code>.ctrl</code>ã€<code>.alt</code>ã€<code>.shift</code>ã€<code>.meta</code></p></blockquote><h5 id="æŒ‰é”®ä¿®é¥°ç¬¦"><a href="#æŒ‰é”®ä¿®é¥°ç¬¦" class="headerlink" title="æŒ‰é”®ä¿®é¥°ç¬¦"></a>æŒ‰é”®ä¿®é¥°ç¬¦</h5><blockquote><p>é…åˆé”®ç›˜äº‹ä»¶ä½¿ç”¨: <code>.enter</code> <code>.tab</code> <code>.delete</code> <code>.esc</code> <code>.space</code> <code>.up</code> <code>.down</code> <code>left</code>â€¦â€¦</p></blockquote><h4 id="7ã€å›¾ç‰‡ä¸Šä¼ -TODOâ­â­"><a href="#7ã€å›¾ç‰‡ä¸Šä¼ -TODOâ­â­" class="headerlink" title="7ã€å›¾ç‰‡ä¸Šä¼  TODOâ­â­"></a>7ã€å›¾ç‰‡ä¸Šä¼  TODOâ­â­</h4><p><a href="https://juejin.cn/post/6844903507640713223">FileReader ä¸ URL.createObjectURL å®ç°å›¾ç‰‡ã€è§†é¢‘ä¸Šä¼ é¢„è§ˆ</a></p><p>event.target.files å°±æ˜¯ç”¨æˆ·ä¸Šä¼ çš„å›¾ç‰‡ä¿¡æ¯</p><p>é…åˆ cropperjs å¯ä»¥å®ç°å›¾ç‰‡è£å‰ªåŠŸèƒ½</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¦‚æœæ¥å£è¦æ±‚ Content-Type æ˜¯ multipart/form-data</span></span><br><span class="line"><span class="comment">// åˆ™ä½ å¿…é¡»ä¼ é€’ FormData å¯¹è±¡</span></span><br></pre></td></tr></table></figure><h4 id="8ã€v-for-å’Œ-v-if-v-if-å’Œ-v-show"><a href="#8ã€v-for-å’Œ-v-if-v-if-å’Œ-v-show" class="headerlink" title="8ã€v-for å’Œ v-if / v-if å’Œ v-show"></a>8ã€v-for å’Œ v-if / v-if å’Œ v-show</h4><p><a href="https://juejin.cn/post/7106437556354416677"><strong>ä¸ºä»€ä¹ˆ v-if å’Œ v-for ä¸èƒ½åŒæ—¶ä½¿ç”¨ï¼Ÿ</strong></a></p><ul><li><p>v-if ä¸èƒ½å’Œ v-for ä¸€èµ·ä½¿ç”¨çš„åŸå› æ˜¯ v-for çš„ä¼˜å…ˆçº§æ¯” v-if é«˜ï¼Œä¸€èµ·ä½¿ç”¨ä¼šé€ æˆæ€§èƒ½æµªè´¹</p></li><li><p>è§£å†³æ–¹æ¡ˆæœ‰ä¸¤ç§ï¼ŒæŠŠ v-if æ”¾åœ¨ v-for çš„å¤–å±‚æˆ–è€…æŠŠéœ€è¦ v-for çš„å±æ€§å…ˆä»è®¡ç®—å±æ€§ä¸­è¿‡æ»¤ä¸€æ¬¡</p></li><li><p>v-if å’Œ v-for çš„ä¼˜å…ˆçº§é—®é¢˜åœ¨ vue3 ä¸­ä¸éœ€è¦è€ƒè™‘ï¼Œvue3 æ›´æ–°äº† v-if å’Œ v-for çš„ä¼˜å…ˆçº§ï¼Œä½¿ v-if çš„ä¼˜å…ˆçº§é«˜äº v-for</p></li></ul><p><strong>v-if å’Œ v-show</strong></p><p><code>v-show</code>éšè—åˆ™æ˜¯ä¸ºè¯¥å…ƒç´ æ·»åŠ <code>display:none</code>ã€‚<code>v-if</code>æ˜¯å°†<code>dom</code>å…ƒç´ æ•´ä¸ªæ·»åŠ æˆ–åˆ é™¤</p><ul><li><code>v-show</code> ç”±<code>false</code>å˜ä¸º<code>true</code>çš„æ—¶å€™ä¸ä¼šè§¦å‘ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</li><li><code>v-if</code>ç”±<code>false</code>å˜ä¸º<code>true</code>çš„æ—¶å€™ï¼Œè§¦å‘ç»„ä»¶çš„<code>beforeCreate</code>ã€<code>create</code>ã€<code>beforeMount</code>ã€<code>mounted</code>é’©å­ï¼Œç”±<code>true</code>å˜ä¸º<code>false</code>çš„æ—¶å€™è§¦å‘ç»„ä»¶çš„<code>beforeDestory</code>ã€<code>destoryed</code>æ–¹æ³•</li></ul><p>æ€§èƒ½æ¶ˆè€—ï¼š<code>v-if</code>æœ‰æ›´é«˜çš„åˆ‡æ¢æ¶ˆè€—ï¼›<code>v-show</code>æœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“æ¶ˆè€—ï¼›</p><p>å¦‚æœéœ€è¦éå¸¸é¢‘ç¹åœ°åˆ‡æ¢ï¼Œåˆ™ä½¿ç”¨ v-show è¾ƒå¥½</p><p>å¦‚æœåœ¨è¿è¡Œæ—¶æ¡ä»¶å¾ˆå°‘æ”¹å˜ï¼Œåˆ™ä½¿ç”¨ v-if è¾ƒå¥½</p><h4 id="9ã€Vue-use"><a href="#9ã€Vue-use" class="headerlink" title="9ã€Vue.use()"></a>9ã€Vue.use()</h4><p><code>Vue.use</code>æ˜¯ç”¨æ¥å®‰è£…æ’ä»¶çš„</p><p><strong>ç”¨æ³•</strong>ï¼šVue.use(plugin)</p><ul><li><strong>å¦‚æœæ’ä»¶æ˜¯ä¸€ä¸ªå¯¹è±¡</strong>ï¼Œå¿…é¡»æä¾› <code>install</code> æ–¹æ³•ã€‚</li><li><strong>å¦‚æœæ’ä»¶æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¼šè¢«ä½œä¸º install æ–¹æ³•</strong>ã€‚install æ–¹æ³•è°ƒç”¨æ—¶ï¼Œ<code>ä¼šå°† Vue ä½œä¸ºå‚æ•°ä¼ å…¥</code>ã€‚</li><li>Vue.use(plugin)è°ƒç”¨ä¹‹åï¼Œæ’ä»¶çš„ install æ–¹æ³•å°±ä¼šé»˜è®¤æ¥å—åˆ°ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å°±æ˜¯ Vue</li></ul><p><strong>æ€»ç»“ï¼šVue.use æ˜¯å®˜æ–¹æä¾›ç»™å¼€å‘è€…çš„ä¸€ä¸ª apiï¼Œç”¨æ¥æ³¨å†Œã€å®‰è£…ç±»ä¼¼ Vuexã€vue-routerã€ElementUI ä¹‹ç±»çš„æ’ä»¶çš„</strong></p><h4 id="10ã€-è·¨åŸŸ"><a href="#10ã€-è·¨åŸŸ" class="headerlink" title="10ã€ è·¨åŸŸ"></a>10ã€ è·¨åŸŸ</h4><blockquote><p>çº¿ä¸Šç¯å¢ƒçš„è·¨åŸŸé—®é¢˜<br>1ã€cors &gt;&gt; åç«¯åŠ å“åº”å¤´ access-control-allow-origin: â€˜*â€™ å…è®¸æ‰€æœ‰çš„é¡µé¢è¯·æ±‚<br>2ã€ä»£ç†(ä¸»æµæ–¹æ¡ˆ)<br>å¼€å‘ç¯å¢ƒ ï¼šwebpackçš„devServerè¿›è¡Œä»£ç†ï¼Œæœ¬åœ°è¯·æ±‚è½¬å‘åˆ°æ¥å£ vue.config.js &gt; devServer &gt; proxy {}<br>çº¿ä¸Šç¯å¢ƒï¼š æœåŠ¡å™¨ç«¯ä½¿ç”¨ nginx åå‘ä»£ç†ï¼Œæ‹¦æˆªè¯·æ±‚è½¬å‘åˆ°çº¿ä¸Šæ¥å£, è§£å†³è·¨åŸŸé—®é¢˜</p></blockquote><h5 id="ä»€ä¹ˆæ˜¯è·¨åŸŸ"><a href="#ä»€ä¹ˆæ˜¯è·¨åŸŸ" class="headerlink" title="ä»€ä¹ˆæ˜¯è·¨åŸŸ"></a><strong>ä»€ä¹ˆæ˜¯è·¨åŸŸ</strong></h5><blockquote><p>è·¨åŸŸé—®é¢˜æ˜¯æµè§ˆå™¨çš„<strong>åŒæºç­–ç•¥</strong>æ‰€å¯¼è‡´çš„</p><p>å…¶ä¸­ï¼Œ<strong>åŸŸåã€åè®®ã€ç«¯å£å·</strong>ç›¸åŒï¼Œç§°ä¹‹ä¸ºåŒæºï¼Œå¦‚æœä¸åŒï¼Œç§°ä¹‹ä¸ºè·¨æºæˆ–<strong>è·¨åŸŸ</strong></p></blockquote><p><strong>è·¨åŸŸå¸¸è§çš„è§£å†³æ–¹æ³•ï¼š</strong></p><ul><li><strong>ä»£ç†</strong>ï¼Œå¸¸ç”¨</li><li><strong>CORS</strong>ï¼Œå¸¸ç”¨</li><li>JSONP</li></ul><h5 id="è·¨åŸŸè§£å†³æ–¹æ³•-1-ä»£ç†"><a href="#è·¨åŸŸè§£å†³æ–¹æ³•-1-ä»£ç†" class="headerlink" title="è·¨åŸŸè§£å†³æ–¹æ³• 1-ä»£ç†"></a>è·¨åŸŸè§£å†³æ–¹æ³• 1-ä»£ç†</h5><blockquote><p>ä»£ç†é€‚ç”¨çš„åœºæ™¯æ˜¯ï¼šç”Ÿäº§ç¯å¢ƒä¸å‘ç”Ÿè·¨åŸŸï¼Œä½†å¼€å‘ç¯å¢ƒå‘ç”Ÿè·¨åŸŸ</p><p>å› æ­¤ï¼Œåªéœ€è¦åœ¨å¼€å‘ç¯å¢ƒä½¿ç”¨ä»£ç†è§£å†³è·¨åŸŸå³å¯ï¼Œè¿™ç§ä»£ç†åˆç§°ä¹‹ä¸ºå¼€å‘ä»£ç†</p></blockquote><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œåªéœ€è¦å¯¹å¼€å‘æœåŠ¡å™¨ç¨åŠ é…ç½®å³å¯å®Œæˆ</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// vue çš„å¼€å‘æœåŠ¡å™¨ä»£ç†é…ç½®</span></span><br><span class="line"><span class="comment">// vue.config.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="comment">// é…ç½®å¼€å‘æœåŠ¡å™¨</span></span><br><span class="line">    <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="comment">// é…ç½®ä»£ç†</span></span><br><span class="line">      <span class="string">&quot;/api&quot;</span>: &#123;</span><br><span class="line">        <span class="comment">// è‹¥è¯·æ±‚è·¯å¾„ä»¥ /api å¼€å¤´</span></span><br><span class="line">        <span class="attr">target</span>: <span class="string">&quot;http://dev.taobao.com&quot;</span>, <span class="comment">// å°†å…¶è½¬å‘åˆ° http://dev.taobao.com</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h5 id="è·¨åŸŸè§£å†³æ–¹æ³•-2-CORS"><a href="#è·¨åŸŸè§£å†³æ–¹æ³•-2-CORS" class="headerlink" title="è·¨åŸŸè§£å†³æ–¹æ³• 2-CORS"></a>è·¨åŸŸè§£å†³æ–¹æ³• 2-CORS</h5><p>é˜®ä¸€å³° CORS: <a href="https://www.ruanyifeng.com/blog/2016/04/cors.html">https://www.ruanyifeng.com/blog/2016/04/cors.html</a></p><blockquote><p><code>CORS</code>æ˜¯åŸºäº<code>http1.1</code>çš„ä¸€ç§è·¨åŸŸè§£å†³æ–¹æ¡ˆï¼Œå®ƒçš„å…¨ç§°æ˜¯<strong>C</strong>ross-<strong>O</strong>rigin <strong>R</strong>esource <strong>S</strong>haringï¼Œ<strong>è·¨åŸŸèµ„æºå…±äº«</strong>ã€‚</p><p>CORS éœ€è¦æµè§ˆå™¨å’Œåç«¯åŒæ—¶æ”¯æŒã€‚</p><p>æ•´ä¸ª CORS é€šä¿¡è¿‡ç¨‹ï¼Œéƒ½æ˜¯æµè§ˆå™¨è‡ªåŠ¨å®Œæˆï¼Œä¸éœ€è¦ç”¨æˆ·å‚ä¸ã€‚å¯¹äºå¼€å‘è€…æ¥è¯´ï¼ŒCORS é€šä¿¡ä¸åŒæºçš„ AJAX é€šä¿¡æ²¡æœ‰å·®åˆ«ï¼Œä»£ç å®Œå…¨ä¸€æ ·ã€‚æµè§ˆå™¨ä¸€æ—¦å‘ç° AJAX è¯·æ±‚è·¨æºï¼Œå°±ä¼šè‡ªåŠ¨æ·»åŠ ä¸€äº›é™„åŠ çš„å¤´ä¿¡æ¯ï¼Œæœ‰æ—¶è¿˜ä¼šå¤šå‡ºä¸€æ¬¡é™„åŠ çš„è¯·æ±‚ï¼Œä½†ç”¨æˆ·ä¸ä¼šæœ‰æ„Ÿè§‰ã€‚</p><p>å› æ­¤ï¼Œå®ç° CORS é€šä¿¡çš„å…³é”®æ˜¯æœåŠ¡å™¨ã€‚åªè¦æœåŠ¡å™¨å®ç°äº† CORS æ¥å£ï¼Œå°±å¯ä»¥è·¨æºé€šä¿¡ã€‚</p></blockquote><p>æµè§ˆå™¨å°† CORS è¯·æ±‚åˆ†æˆä¸¤ç±»ï¼šç®€å•è¯·æ±‚ï¼ˆsimple requestï¼‰å’Œéç®€å•è¯·æ±‚ï¼ˆnot-so-simple requestï¼‰</p><p>åªè¦åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸¤å¤§æ¡ä»¶ï¼Œå°±å±äºç®€å•è¯·æ±‚ã€‚</p><p>å‡¡æ˜¯ä¸åŒæ—¶æ»¡è¶³ä¸‹é¢ä¸¤ä¸ªæ¡ä»¶ï¼Œå°±å±äºéç®€å•è¯·æ±‚ã€‚</p><blockquote><p>ï¼ˆ1) è¯·æ±‚æ–¹æ³•æ˜¯ä»¥ä¸‹ä¸‰ç§æ–¹æ³•ä¹‹ä¸€ï¼š</p><ul><li>HEAD</li><li>GET</li><li>POST</li></ul><p>ï¼ˆ2ï¼‰HTTP çš„å¤´ä¿¡æ¯ä¸è¶…å‡ºä»¥ä¸‹å‡ ç§å­—æ®µï¼š</p><ul><li>Accept</li><li>Accept-Language</li><li>Content-Language</li><li>Last-Event-ID</li><li>Content-Typeï¼šåªé™äºä¸‰ä¸ªå€¼<code>application/x-www-form-urlencoded</code>ã€<code>multipart/form-data</code>ã€<code>text/plain</code></li></ul></blockquote><h5 id="è·¨åŸŸè§£å†³æ–¹æ³•-3-JSONP"><a href="#è·¨åŸŸè§£å†³æ–¹æ³•-3-JSONP" class="headerlink" title="è·¨åŸŸè§£å†³æ–¹æ³• 3-JSONP"></a>è·¨åŸŸè§£å†³æ–¹æ³• 3-JSONP</h5><blockquote><p>JSONP çš„åšæ³•æ˜¯ï¼šå½“éœ€è¦è·¨åŸŸè¯·æ±‚æ—¶ï¼Œä¸ä½¿ç”¨ AJAXï¼Œè½¬è€Œç”Ÿæˆä¸€ä¸ª script å…ƒç´ å»è¯·æ±‚æœåŠ¡å™¨ï¼Œç”±äºæµè§ˆå™¨å¹¶ä¸é˜»æ­¢ script å…ƒç´ çš„è¯·æ±‚ï¼Œè¿™æ ·è¯·æ±‚å¯ä»¥åˆ°è¾¾æœåŠ¡å™¨ã€‚æœåŠ¡å™¨æ‹¿åˆ°è¯·æ±‚åï¼Œå“åº”ä¸€æ®µ JS ä»£ç ï¼Œè¿™æ®µä»£ç å®é™…ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œè°ƒç”¨çš„æ˜¯å®¢æˆ·ç«¯é¢„å…ˆç”Ÿæˆå¥½çš„å‡½æ•°ï¼Œå¹¶æŠŠæµè§ˆå™¨éœ€è¦çš„æ•°æ®ä½œä¸ºå‚æ•°ä¼ é€’åˆ°å‡½æ•°ä¸­ï¼Œä»è€Œé—´æ¥çš„æŠŠæ•°æ®ä¼ é€’ç»™å®¢æˆ·ç«¯</p><p>JSONP ä¼˜ç‚¹æ˜¯ç®€å•å…¼å®¹æ€§å¥½ï¼Œå¯ç”¨äºè§£å†³ä¸»æµæµè§ˆå™¨çš„è·¨åŸŸæ•°æ®è®¿é—®çš„é—®é¢˜ã€‚<strong>ç¼ºç‚¹æ˜¯ä»…æ”¯æŒ get æ–¹æ³•å…·æœ‰å±€é™æ€§,ä¸å®‰å…¨å¯èƒ½ä¼šé­å— XSS æ”»å‡»ã€‚</strong></p></blockquote><h4 id="11ã€cookie"><a href="#11ã€cookie" class="headerlink" title="11ã€cookie"></a>11ã€cookie</h4><p>ä»€ä¹ˆæ˜¯ cookie</p><blockquote><p>cookie æ˜¯å‚¨å­˜åœ¨ç”¨æˆ·æœ¬åœ°ç»ˆç«¯ä¸Šçš„æ•°æ®ï¼Œæ˜¯ç½‘ç«™ä¸ºäº†<strong>è¯†åˆ«ç”¨æˆ·</strong>å’Œ<strong>è·Ÿè¸ªä¼šè¯</strong>è€Œå­˜å‚¨åœ¨ç”¨æˆ·æœ¬åœ°ç»ˆç«¯ä¸­çš„æ–‡æœ¬æ•°æ®</p></blockquote><p>æ€ä¹ˆæ“ä½œ</p><blockquote><p>å¯ä»¥ä½¿ç”¨<code>js-cookie</code>æ’ä»¶</p><p>æ¨¡å—åŒ–å¼€å‘æ—¶ç›´æ¥å¼•å…¥<code>import Cookies from &#39;js-cookie&#39;</code></p><p>js-cookie.js å¸¸ç”¨çš„ API å’Œæ–¹æ³•</p><p>è®¾ç½® cookie</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Cookies</span>.<span class="title function_">set</span>(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;value&quot;</span>, &#123; <span class="attr">expires</span>: <span class="number">7</span>, <span class="attr">path</span>: <span class="string">&quot;&quot;</span> &#125;); <span class="comment">//7å¤©è¿‡æœŸ</span></span><br><span class="line"><span class="title class_">Cookies</span>.<span class="title function_">set</span>(<span class="string">&quot;name&quot;</span>, &#123; <span class="attr">foo</span>: <span class="string">&quot;bar&quot;</span> &#125;); <span class="comment">//è®¾ç½®ä¸€ä¸ªjson</span></span><br></pre></td></tr></table></figure><p>è¯»å– cookie</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Cookies</span>.<span class="title function_">get</span>(<span class="string">&quot;name&quot;</span>); <span class="comment">//è·å–cookie</span></span><br><span class="line"><span class="title class_">Cookies</span>.<span class="title function_">get</span>(); <span class="comment">//è¯»å–æ‰€æœ‰çš„cookie</span></span><br></pre></td></tr></table></figure><p>åˆ é™¤ cookie</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Cookies</span>.<span class="title function_">remove</span>(<span class="string">&quot;name&quot;</span>); <span class="comment">//åˆ é™¤cookieæ—¶å¿…é¡»æ˜¯åŒä¸€ä¸ªè·¯å¾„ã€‚</span></span><br></pre></td></tr></table></figure></blockquote><h4 id="12ã€keep-alive-åŸç†"><a href="#12ã€keep-alive-åŸç†" class="headerlink" title="12ã€keep-alive åŸç†"></a>12ã€<a href="https://blog-1gxfs2h1401f4f58-1254415986.tcloudbaseapp.com/%E9%9D%A2%E8%AF%95%E9%A2%98%E7%B3%BB%E5%88%97/%E4%BA%8C%E3%80%81%E5%AF%B9keep-alive%E7%9A%84%E7%90%86%E8%A7%A3.html#%E5%8E%9F%E7%90%86">keep-alive åŸç†</a></h4><h5 id="keep-alive-æ˜¯ä»€ä¹ˆ"><a href="#keep-alive-æ˜¯ä»€ä¹ˆ" class="headerlink" title="keep-alive æ˜¯ä»€ä¹ˆ"></a>keep-alive æ˜¯ä»€ä¹ˆ</h5><blockquote><ol><li>vue è‡ªå¸¦çš„ç»„ä»¶ &gt;&gt; ä¸»è¦åŠŸèƒ½æ˜¯ç¼“å­˜ç»„ä»¶ &gt;&gt; æå‡æ€§èƒ½</li><li>ä½¿ç”¨åœºæ™¯ï¼šå¯ä»¥å°‘ç½‘ç»œè¯·æ±‚ï¼Œå¦‚æœå½“å‰ç»„ä»¶æ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œå°±å¯ä»¥èŠ‚çœç½‘ç»œè¯·æ±‚ &gt;&gt; æå‡ç”¨æˆ·ä½“éªŒ</li><li>ä¸¾ä¾‹ï¼šå¦‚æœè¯¦æƒ…é¡µé¢ä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼Œå°±å¯ä»¥ä½¿ç”¨<code>keep-alive</code>è¿›è¡Œç¼“å­˜ç»„ä»¶ï¼Œé˜²æ­¢åŒæ ·çš„æ•°æ®é‡å¤è¯·æ±‚</li></ol></blockquote><p><code>keep-alive</code> åŒ…è£¹åŠ¨æ€ç»„ä»¶æ—¶ï¼Œä¼šç¼“å­˜ä¸æ´»åŠ¨çš„ç»„ä»¶å®ä¾‹ï¼Œè€Œä¸æ˜¯é”€æ¯å®ƒä»¬</p><p><code>keep-alive</code>å¯ä»¥è®¾ç½®ä»¥ä¸‹<code>props</code>å±æ€§ï¼š</p><ul><li><code>include</code> - å­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼ã€‚åªæœ‰åç§°åŒ¹é…çš„ç»„ä»¶ä¼šè¢«ç¼“å­˜</li><li><code>exclude</code> - å­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼ã€‚ä»»ä½•åç§°åŒ¹é…çš„ç»„ä»¶éƒ½ä¸ä¼šè¢«ç¼“å­˜</li><li><code>max</code> - æ•°å­—ã€‚æœ€å¤šå¯ä»¥ç¼“å­˜å¤šå°‘ç»„ä»¶å®ä¾‹</li></ul><p>å…³äº<code>keep-alive</code>çš„åŸºæœ¬ç”¨æ³•ï¼š</p><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">&lt;keep-alive&gt;</span><br><span class="line">  &lt;component :is=<span class="string">&quot;view&quot;</span>&gt;&lt;/component&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure><p>åŒ¹é…é¦–å…ˆæ£€æŸ¥ç»„ä»¶è‡ªèº«çš„ <code>name</code> é€‰é¡¹ï¼Œå¦‚æœ <code>name</code> é€‰é¡¹ä¸å¯ç”¨ï¼Œåˆ™åŒ¹é…å®ƒçš„å±€éƒ¨æ³¨å†Œåç§° (çˆ¶ç»„ä»¶ <code>components</code> é€‰é¡¹çš„é”®å€¼)ï¼ŒåŒ¿åç»„ä»¶ä¸èƒ½è¢«åŒ¹é…</p><p>è®¾ç½®äº† keep-alive ç¼“å­˜çš„ç»„ä»¶ï¼Œä¼šå¤šå‡ºä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­ï¼ˆ<code>activated</code>ä¸<code>deactivated</code>ï¼‰ï¼š</p><ul><li>é¦–æ¬¡è¿›å…¥ç»„ä»¶æ—¶ï¼š<code>beforeRouteEnter</code> &gt; <code>beforeCreate</code> &gt; <code>created</code>&gt; <code>mounted</code> &gt; <code>activated</code> &gt; â€¦ â€¦ &gt; <code>beforeRouteLeave</code> &gt; <code>deactivated</code></li><li>å†æ¬¡è¿›å…¥ç»„ä»¶æ—¶ï¼š<code>beforeRouteEnter</code> &gt;<code>activated</code> &gt; â€¦ â€¦ &gt; <code>beforeRouteLeave</code> &gt; <code>deactivated</code></li></ul><h5 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a><strong>ä½¿ç”¨åœºæ™¯</strong></h5><p>ä½¿ç”¨åŸåˆ™ï¼šå½“æˆ‘ä»¬åœ¨æŸäº›åœºæ™¯ä¸‹ä¸éœ€è¦è®©é¡µé¢é‡æ–°åŠ è½½æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>keep-alive</code></p><p>ä¸¾ä¸ªæ —å­:</p><p>å½“æˆ‘ä»¬ä»<code>é¦–é¡µ</code>â€“&gt;<code>åˆ—è¡¨é¡µ</code>â€“&gt;<code>å•†è¯¦é¡µ</code>â€“&gt;<code>å†è¿”å›</code>ï¼Œè¿™æ—¶å€™åˆ—è¡¨é¡µåº”è¯¥æ˜¯éœ€è¦<code>keep-alive</code></p><p>ä»<code>é¦–é¡µ</code>â€“&gt;<code>åˆ—è¡¨é¡µ</code>â€“&gt;<code>å•†è¯¦é¡µ</code>â€“&gt;<code>è¿”å›åˆ°åˆ—è¡¨é¡µ(éœ€è¦ç¼“å­˜)</code>â€“&gt;<code>è¿”å›åˆ°é¦–é¡µ(éœ€è¦ç¼“å­˜)</code>â€“&gt;<code>å†æ¬¡è¿›å…¥åˆ—è¡¨é¡µ(ä¸éœ€è¦ç¼“å­˜)</code>ï¼Œè¿™æ—¶å€™å¯ä»¥æŒ‰éœ€æ¥æ§åˆ¶é¡µé¢çš„<code>keep-alive</code></p><p>åœ¨è·¯ç”±ä¸­è®¾ç½®<code>keepAlive</code>å±æ€§åˆ¤æ–­æ˜¯å¦éœ€è¦ç¼“å­˜</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;list&#x27;</span>,</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;itemList&#x27;</span>, <span class="comment">// åˆ—è¡¨é¡µ</span></span><br><span class="line">  component (resolve) &#123;</span><br><span class="line">    <span class="built_in">require</span>([<span class="string">&#x27;@/pages/item/list&#x27;</span>], resolve)</span><br><span class="line"> &#125;,</span><br><span class="line"> <span class="attr">meta</span>: &#123;</span><br><span class="line">  <span class="attr">keepAlive</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&#x27;åˆ—è¡¨é¡µ&#x27;</span></span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>&lt;keep-alive&gt;</code></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span> <span class="keyword">class</span>=<span class="string">&#x27;wrapper&#x27;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">keep-alive</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="comment">&lt;!-- éœ€è¦ç¼“å­˜çš„è§†å›¾ç»„ä»¶ --&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">router-view</span> <span class="attr">v-if</span>=<span class="string">&quot;$route.meta.keepAlive&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span></span><br><span class="line">      &lt;!-- ä¸éœ€è¦ç¼“å­˜çš„è§†å›¾ç»„ä»¶ --&gt;</span><br><span class="line">     <span class="language-xml"><span class="tag">&lt;<span class="name">router-view</span> <span class="attr">v-if</span>=<span class="string">&quot;!$route.meta.keepAlive&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><h5 id="ç¼“å­˜åå¦‚ä½•è·å–æ•°æ®"><a href="#ç¼“å­˜åå¦‚ä½•è·å–æ•°æ®" class="headerlink" title="ç¼“å­˜åå¦‚ä½•è·å–æ•°æ®"></a>ç¼“å­˜åå¦‚ä½•è·å–æ•°æ®</h5><p>è§£å†³æ–¹æ¡ˆå¯ä»¥æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š</p><ul><li>beforeRouteEnter</li><li>actived</li></ul><h4 id="13ã€ref"><a href="#13ã€ref" class="headerlink" title="13ã€ref"></a>13ã€ref</h4><p>ä½œç”¨ï¼š</p><ul><li>æ”¾åˆ° dom èŠ‚ç‚¹ä¸Š &gt;&gt; è·å–åŸç”Ÿ dom</li><li>ç»„ä»¶èº«ä¸Š &gt;&gt; è·å–ç»„ä»¶å®ä¾‹ &gt;&gt; å¯ä»¥è·å–ç»„ä»¶å†…éƒ¨æ‰€æœ‰çš„æ–¹æ³•å’Œæ•°æ®</li></ul><h4 id="14ã€scoped-åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#14ã€scoped-åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="14ã€scoped åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"></a>14ã€scoped åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>ä½œç”¨ï¼šä½¿<strong>æ ·å¼ç§æœ‰åŒ–ï¼ˆæ¨¡å—åŒ–ï¼‰</strong>ï¼Œä¸å¯¹å…¨å±€é€ æˆæ±¡æŸ“</p><p>åŸç†ï¼šåŠ¨æ€çš„ç»™ç»„ä»¶åŠ ä¸Šä¸€ä¸ª hash å€¼ï¼Œç”¨å±æ€§é€‰æ‹©å™¨å»åŒ¹é…</p><h4 id="15ã€-router-å’Œ-route"><a href="#15ã€-router-å’Œ-route" class="headerlink" title="15ã€$router å’Œ $route"></a>15ã€$router å’Œ $route</h4><p><strong>$route</strong>ï¼šå½“å‰çš„è·¯ç”±ä¿¡æ¯å¯¹è±¡ï¼Œè·å–åˆ°è·¯ç”±å‚æ•°ã€è·¯å¾„</p><blockquote><ol><li><strong>$route.pathï¼š</strong> å­—ç¬¦ä¸²ï¼Œå¯¹åº”å½“å‰è·¯ç”±çš„è·¯å¾„ï¼Œæ€»æ˜¯è§£æä¸ºç»å¯¹è·¯å¾„ï¼Œå¦‚<code>/foo/bar</code>ã€‚</li><li><strong>$route.paramsï¼š</strong> ä¸€ä¸ª key/value å¯¹è±¡ï¼ŒåŒ…å«äº† åŠ¨æ€ç‰‡æ®µ å’Œ å…¨åŒ¹é…ç‰‡æ®µï¼Œå¦‚æœæ²¡æœ‰è·¯ç”±å‚æ•°ï¼Œå°±æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ã€‚</li><li><strong>$route.queryï¼š</strong> ä¸€ä¸ª key/value å¯¹è±¡ï¼Œè¡¨ç¤º URL æŸ¥è¯¢å‚æ•°ã€‚ä¾‹å¦‚ï¼Œå¯¹äºè·¯å¾„ /foo?user=1ï¼Œåˆ™æœ‰$route.query.user == 1ï¼Œå¦‚æœæ²¡æœ‰æŸ¥è¯¢å‚æ•°ï¼Œåˆ™æ˜¯ä¸ªç©ºå¯¹è±¡ã€‚</li><li><strong>$route.hashï¼š</strong> å½“å‰è·¯ç”±çš„ hash å€¼ (ä¸å¸¦#) ï¼Œå¦‚æœæ²¡æœ‰ hash å€¼ï¼Œåˆ™ä¸ºç©ºå­—ç¬¦ä¸²ã€‚é”šç‚¹</li><li><strong>$route.fullPathï¼š</strong> å®Œæˆè§£æåçš„ URLï¼ŒåŒ…å«æŸ¥è¯¢å‚æ•°å’Œ hash çš„å®Œæ•´è·¯å¾„ã€‚</li><li><strong>$route.matchedï¼š</strong> æ•°ç»„ï¼ŒåŒ…å«å½“å‰åŒ¹é…çš„è·¯å¾„ä¸­æ‰€åŒ…å«çš„æ‰€æœ‰ç‰‡æ®µæ‰€å¯¹åº”çš„é…ç½®å‚æ•°å¯¹è±¡ã€‚</li><li><strong>$route.nameï¼š</strong> å½“å‰è·¯å¾„åå­—</li><li><strong>$route.metaï¼š</strong> è·¯ç”±å…ƒä¿¡æ¯</li></ol></blockquote><p><strong>$router</strong>ï¼šå…¨å±€è·¯ç”± vueRouter çš„å®ä¾‹ï¼ŒæŒ‚è½½åˆ° Vue åŸå‹ä¸Š$router å±æ€§ï¼Œå¯ä»¥è·å–åˆ°å…¨å±€è·¯ç”±é…ç½®ä¿¡æ¯ï¼Œè·³è½¬æ–¹æ³•</p><blockquote><p>$router.replace({path:â€™homeâ€™})ï¼Œ//æ›¿æ¢è·¯ç”±ï¼Œæ²¡æœ‰å†å²è®°å½•</p><p>$router.push(â€˜/loginâ€™) ,è·³è½¬åˆ°æŒ‡å®šè·¯ç”±</p><p>$router.back()</p><p>$router.go()</p></blockquote><h4 id="16ã€å‘å¸ƒè®¢é˜…æ¨¡å¼å’Œè§‚å¯Ÿè€…æ¨¡å¼"><a href="#16ã€å‘å¸ƒè®¢é˜…æ¨¡å¼å’Œè§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="16ã€å‘å¸ƒè®¢é˜…æ¨¡å¼å’Œè§‚å¯Ÿè€…æ¨¡å¼"></a>16ã€<a href="https://juejin.cn/post/7055441354054172709#heading-3">å‘å¸ƒè®¢é˜…æ¨¡å¼å’Œè§‚å¯Ÿè€…æ¨¡å¼</a></h4><h5 id="å‘å¸ƒè®¢é˜…æ¨¡å¼"><a href="#å‘å¸ƒè®¢é˜…æ¨¡å¼" class="headerlink" title="å‘å¸ƒè®¢é˜…æ¨¡å¼"></a>å‘å¸ƒè®¢é˜…æ¨¡å¼</h5><blockquote><p>å‘å¸ƒè®¢é˜…æ¨¡å¼ä¸­æœ‰ä¸‰ä¸ªè§’è‰²ï¼Œå‘å¸ƒè€… <code>Publisher</code> ï¼Œä¿¡æ¯ä¸­å¿ƒ <code>Event Channel</code> ï¼Œè®¢é˜…è€… <code>Subscriber</code></p><p>æˆ‘ä»¬å‡å®šï¼Œå­˜åœ¨ä¸€ä¸ªâ€ä¿¡å·ä¸­å¿ƒâ€ï¼ŒæŸä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå°±å‘ä¿¡å·ä¸­å¿ƒâ€å‘å¸ƒâ€ï¼ˆpublishï¼‰ä¸€ä¸ªä¿¡å·ï¼Œå…¶ä»–ä»»åŠ¡å¯ä»¥å‘ä¿¡å·ä¸­å¿ƒâ€è®¢é˜…â€ï¼ˆsubscribeï¼‰è¿™ä¸ªä¿¡å·ï¼Œä»è€ŒçŸ¥é“ä»€ä¹ˆæ—¶å€™è‡ªå·±å¯ä»¥å¼€å§‹æ‰§è¡Œã€‚è¿™å°±å«åšâ€å‘å¸ƒ/è®¢é˜…æ¨¡å¼â€ï¼ˆpublish-subscribe pattern)</p><p><strong>é€šå¸¸æ˜¯é€šè¿‡ on äº‹ä»¶è®¢é˜…æ¶ˆæ¯ï¼Œemit äº‹ä»¶å‘å¸ƒæ¶ˆæ¯ï¼Œremove äº‹ä»¶åˆ é™¤è®¢é˜…</strong></p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">PubSub</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// äº‹ä»¶ä¸­å¿ƒ</span></span><br><span class="line">    <span class="comment">// å­˜å‚¨æ ¼å¼: warTask: [], routeTask: []</span></span><br><span class="line">    <span class="comment">// æ¯ç§äº‹ä»¶(ä»»åŠ¡)ä¸‹å­˜æ”¾å…¶è®¢é˜…è€…çš„å›è°ƒå‡½æ•°</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">events</span> = &#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// è®¢é˜…æ–¹æ³•</span></span><br><span class="line">  <span class="title function_">subscribe</span>(<span class="params">type, cb</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">events</span>[type]) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">events</span>[type].<span class="title function_">push</span>(cb);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å‘å¸ƒæ–¹æ³•</span></span><br><span class="line">  <span class="title function_">publish</span>(<span class="params">type, ...args</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">events</span>[type]) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">events</span>[type].<span class="title function_">forEach</span>(<span class="function">(<span class="params">cb</span>) =&gt;</span> <span class="title function_">cb</span>(...args));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å–æ¶ˆè®¢é˜…æ–¹æ³•</span></span><br><span class="line">  <span class="title function_">unsubscribe</span>(<span class="params">type, cb</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">events</span>[type]) &#123;</span><br><span class="line">      <span class="keyword">const</span> cbIndex = <span class="variable language_">this</span>.<span class="property">events</span>[type].<span class="title function_">findIndex</span>(<span class="function">(<span class="params">e</span>) =&gt;</span> e === cb);</span><br><span class="line">      <span class="keyword">if</span> (cbIndex !== -<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">events</span>[type].<span class="title function_">splice</span>(cbIndex, <span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">events</span>[type].<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">delete</span> <span class="variable language_">this</span>.<span class="property">events</span>[type];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">unsubscribeAll</span>(<span class="params">type</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">events</span>[type]) &#123;</span><br><span class="line">      <span class="keyword">delete</span> <span class="variable language_">this</span>.<span class="property">events</span>[type];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼"></a>è§‚å¯Ÿè€…æ¨¡å¼</h5><p>å½“å¯¹è±¡ä¹‹é—´å­˜åœ¨ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»æ—¶ï¼Œå…¶ä¸­ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œæ‰€æœ‰ä¾èµ–å®ƒçš„å¯¹è±¡éƒ½ä¼šæ”¶åˆ°é€šçŸ¥ï¼Œè¿™å°±æ˜¯<strong>è§‚å¯Ÿè€…æ¨¡å¼</strong></p><blockquote><ul><li>è§‚å¯Ÿè€…(è®¢é˜…è€…) â€” Watcher<ul><li>update()ï¼šå½“äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå…·ä½“è¦åšçš„äº‹æƒ…</li></ul></li><li>ç›®æ ‡(å‘å¸ƒè€…) â€”  Dep<ul><li>subs æ•°ç»„ï¼šå­˜å‚¨æ‰€æœ‰çš„è§‚å¯Ÿè€…</li><li>addSub()ï¼šæ·»åŠ è§‚å¯Ÿè€…</li><li>notify()ï¼šå½“äº‹ä»¶å‘ç”Ÿï¼Œè°ƒç”¨æ‰€æœ‰è§‚å¯Ÿè€…çš„ update() æ–¹æ³•</li></ul></li><li>æ²¡æœ‰äº‹ä»¶ä¸­å¿ƒ</li></ul></blockquote><h5 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h5><div class="table-container"><table><thead><tr><th>è®¾è®¡æ¨¡å¼</th><th>è§‚å¯Ÿè€…æ¨¡å¼</th><th>å‘å¸ƒè®¢é˜…æ¨¡å¼</th></tr></thead><tbody><tr><td>ä¸»ä½“</td><td>Watcher è§‚å¯Ÿè€…ã€Dep ç›®æ ‡å¯¹è±¡</td><td>Publisher å‘å¸ƒè€…ã€Event Channel ä¿¡æ¯ä¸­å¿ƒã€Subscribe è®¢é˜…è€…</td></tr><tr><td>ä¸»ä½“å…³ç³»<br></td><td>Dep ä¸­é€šè¿‡ subs è®°å½• Watcher</td><td>Publisher å’Œ Subscribe ä¸æƒ³ä¸çŸ¥é“å¯¹æ–¹ï¼Œé€šè¿‡ä¸­ä»‹è”ç³»</td></tr><tr><td>ä¼˜ç‚¹</td><td>è§’è‰²æ˜ç¡®ï¼ŒWatcher å’Œ Dep è¦éµå¾ªçº¦å®šçš„æˆå‘˜æ–¹æ³•</td><td>æ¾æ•£è€¦åˆï¼Œçµæ´»åº¦é«˜ï¼Œé€šå¸¸åº”ç”¨åœ¨å¼‚æ­¥ç¼–ç¨‹ä¸­</td></tr><tr><td>ç¼ºç‚¹</td><td>ç´§è€¦åˆ</td><td>å½“äº‹ä»¶ç±»å‹å˜å¤šæ—¶ï¼Œä¼šå¢åŠ ç»´æŠ¤æˆæœ¬</td></tr><tr><td><strong>ä½¿ç”¨æ¡ˆä¾‹</strong></td><td>åŒå‘æ•°æ®ç»‘å®š</td><td>äº‹ä»¶æ€»çº¿ EventBus</td></tr></tbody></table></div><h4 id="17ã€vue-å“åº”å¼åŸç†ï¼ˆæ•°æ®åŠ«æŒï¼‰"><a href="#17ã€vue-å“åº”å¼åŸç†ï¼ˆæ•°æ®åŠ«æŒï¼‰" class="headerlink" title="17ã€vue å“åº”å¼åŸç†ï¼ˆæ•°æ®åŠ«æŒï¼‰"></a>17ã€<a href="https://blog-1gxfs2h1401f4f58-1254415986.tcloudbaseapp.com/vue%E5%8E%9F%E7%90%86/vue2%E5%8E%9F%E7%90%86/1.%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86.html">vue å“åº”å¼åŸç†ï¼ˆæ•°æ®åŠ«æŒï¼‰</a></h4><h4 id="18ã€eventBus"><a href="#18ã€eventBus" class="headerlink" title="18ã€eventBus"></a>18ã€eventBus</h4><h4 id="19ã€v-model-ä¸-sync"><a href="#19ã€v-model-ä¸-sync" class="headerlink" title="19ã€v-model ä¸.sync"></a>19ã€v-model ä¸.sync</h4><blockquote><p><strong>ç›¸åŒç‚¹</strong>ï¼šéƒ½æ˜¯è¯­æ³•ç³–ï¼Œéƒ½å¯ä»¥å®ç°çˆ¶å­ç»„ä»¶ä¸­çš„æ•°æ®çš„åŒå‘é€šä¿¡ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  v-model</span></span><br><span class="line">&lt;son  v-model=<span class="string">&quot;num&quot;</span>/&gt; <span class="comment">//çˆ¶ç»„ä»¶ä½¿ç”¨å­ç»„ä»¶</span></span><br><span class="line"><span class="attr">model</span>:&#123;</span><br><span class="line"><span class="attr">prop</span>:<span class="string">&#x27;newValue&#x27;</span>, <span class="comment">// é»˜è®¤ä¸º value å¯ä»¥ä½¿ç”¨propè‡ªå®šä¹‰å±æ€§å</span></span><br><span class="line"><span class="attr">event</span>:<span class="string">&quot;updateValue&quot;</span>, <span class="comment">// event ä¿®æ”¹äº‹ä»¶å é»˜è®¤ä¸ºinput</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">props</span>: &#123; <span class="comment">// å­ç»„ä»¶æ¥æ”¶</span></span><br><span class="line"><span class="attr">value</span>: &#123;  <span class="comment">// é»˜è®¤ä¸ºvalue</span></span><br><span class="line"><span class="attr">type</span>: <span class="title class_">Number</span>,</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">this</span>.$emit(<span class="string">&#x27;input&#x27;</span>, <span class="string">&#x27;å°çº¢&#x27;</span>)</span><br><span class="line"><span class="comment">// .sync</span></span><br><span class="line">&lt;son :title.<span class="property">sync</span>=<span class="string">&quot;doc.title&quot;</span>&gt;&lt;<span class="regexp">/son&gt;   /</span><span class="regexp">/ çˆ¶ç»„ä»¶</span></span><br><span class="line"><span class="regexp">props:&#123;</span></span><br><span class="line"><span class="regexp">title:&#123;</span></span><br><span class="line"><span class="regexp">  type:...</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">this.$emit(&#x27;update:title&#x27;, newTitle)  /</span><span class="regexp">/ å­ç»„ä»¶</span></span><br></pre></td></tr></table></figure><p><strong>åŒºåˆ«ç‚¹</strong>ï¼šæ ¼å¼ä¸åŒï¼š v-model=â€numâ€, :num.sync=â€numâ€</p><p><code>v-model</code>ï¼š    @input + value<br><code>:num.sync</code>:  @update:num</p><p><strong>å¦å¤–éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯:</strong> <code>v-model</code>åªèƒ½ç”¨ä¸€æ¬¡ï¼›<code>.sync</code>å¯ä»¥æœ‰å¤šä¸ª</p></blockquote><h4 id="20ã€å¦‚ä½•åšæ ·å¼ç©¿é€"><a href="#20ã€å¦‚ä½•åšæ ·å¼ç©¿é€" class="headerlink" title="20ã€å¦‚ä½•åšæ ·å¼ç©¿é€"></a>20ã€å¦‚ä½•åšæ ·å¼ç©¿é€</h4><p><strong>èƒŒæ™¯</strong>ï¼šä¿®æ”¹å½“å‰ç»„ä»¶åµŒå¥—çš„å­ç»„ä»¶å†…éƒ¨çš„æ ·å¼</p><p><strong>é—®é¢˜</strong>ï¼š</p><ol><li>å¦‚æœä¸æ·»åŠ  scopedï¼Œå¯èƒ½å½±å“å…¨å±€æ ·å¼</li><li>å¦‚æœæ·»åŠ  scopedï¼ŒåµŒå¥—çš„å­ç»„ä»¶å†…éƒ¨æ ·å¼ä¸èƒ½ç”Ÿæ•ˆ</li></ol><p><strong>å¦‚ä½•è§£å†³</strong>ï¼šæ·»åŠ <code>/deep/</code> / <code>::v-deep</code></p><blockquote><p>scss: ä½¿ç”¨<code>::v-deep</code></p><p>less: ä½¿ç”¨ <code>/deep/</code></p></blockquote><h4 id="21ã€ä½ å¯¹SPAå•é¡µé¢çš„ç†è§£ï¼Œå®ƒçš„ä¼˜ç¼ºç‚¹åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#21ã€ä½ å¯¹SPAå•é¡µé¢çš„ç†è§£ï¼Œå®ƒçš„ä¼˜ç¼ºç‚¹åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="21ã€ä½ å¯¹SPAå•é¡µé¢çš„ç†è§£ï¼Œå®ƒçš„ä¼˜ç¼ºç‚¹åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>21ã€ä½ å¯¹SPAå•é¡µé¢çš„ç†è§£ï¼Œå®ƒçš„ä¼˜ç¼ºç‚¹åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h4><blockquote><p>SPAï¼ˆ single-page application ï¼‰ä»…åœ¨ Web é¡µé¢åˆå§‹åŒ–æ—¶åŠ è½½ç›¸åº”çš„ HTMLã€JavaScript å’Œ CSSã€‚ä¸€æ—¦é¡µé¢åŠ è½½å®Œæˆï¼ŒSPA ä¸ä¼šå› ä¸ºç”¨æˆ·çš„æ“ä½œè€Œè¿›è¡Œé¡µé¢çš„é‡æ–°åŠ è½½æˆ–è·³è½¬ï¼›å–è€Œä»£ä¹‹çš„æ˜¯åˆ©ç”¨è·¯ç”±æœºåˆ¶å®ç° HTML å†…å®¹çš„å˜æ¢ï¼ŒUI ä¸ç”¨æˆ·çš„äº¤äº’ï¼Œé¿å…é¡µé¢çš„é‡æ–°åŠ è½½ã€‚</p></blockquote><h6 id="å•é¡µåº”ç”¨ä¼˜ç¼ºç‚¹"><a href="#å•é¡µåº”ç”¨ä¼˜ç¼ºç‚¹" class="headerlink" title="å•é¡µåº”ç”¨ä¼˜ç¼ºç‚¹"></a>å•é¡µåº”ç”¨ä¼˜ç¼ºç‚¹</h6><p>ä¼˜ç‚¹ï¼š</p><ul><li>å…·æœ‰æ¡Œé¢åº”ç”¨çš„å³æ—¶æ€§ã€ç½‘ç«™çš„å¯ç§»æ¤æ€§å’Œå¯è®¿é—®æ€§</li><li>ç”¨æˆ·ä½“éªŒå¥½ã€å¿«ï¼Œå†…å®¹çš„æ”¹å˜ä¸éœ€è¦é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ï¼ŒSPA ç›¸å¯¹å¯¹æœåŠ¡å™¨å‹åŠ›å°ï¼›</li><li>è‰¯å¥½çš„å‰åç«¯åˆ†ç¦»ï¼Œåˆ†å·¥æ›´æ˜ç¡®</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>SEOï¼ˆæœç´¢å¼•æ“ï¼‰éš¾åº¦è¾ƒå¤§</li><li>é¦–æ¬¡æ¸²æŸ“é€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢</li><li>å‰è¿›åé€€è·¯ç”±ç®¡ç†ï¼šç”±äºå•é¡µåº”ç”¨åœ¨ä¸€ä¸ªé¡µé¢ä¸­æ˜¾ç¤ºæ‰€æœ‰çš„å†…å®¹ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨æµè§ˆå™¨çš„å‰è¿›åé€€åŠŸèƒ½ï¼Œæ‰€æœ‰çš„é¡µé¢åˆ‡æ¢éœ€è¦è‡ªå·±å»ºç«‹å †æ ˆç®¡ç†ï¼›</li></ul><h4 id="22ã€æ€ä¹ˆç†è§£-Vue-çš„å•å‘æ•°æ®æµ"><a href="#22ã€æ€ä¹ˆç†è§£-Vue-çš„å•å‘æ•°æ®æµ" class="headerlink" title="22ã€æ€ä¹ˆç†è§£ Vue çš„å•å‘æ•°æ®æµ"></a>22ã€æ€ä¹ˆç†è§£ Vue çš„å•å‘æ•°æ®æµ</h4><blockquote><p>â‘  å•å‘æ•°æ®æµæ˜¯æŒ‡æ•°æ®ä»çˆ¶ç»„ä»¶ä¼ å‘å­ç»„ä»¶ï¼Œå­ç»„ä»¶æ²¡æœ‰æƒé™ç›´æ¥ä¿®æ”¹è¯¥æ•°æ®ï¼›<br>â‘¡ å­ç»„ä»¶éœ€è¦åœ¨ data æˆ–è€… computed ä¸­é‡æ–°å®šä¹‰å˜é‡æ¥æ¥æ”¶çˆ¶ç»„ä»¶ä¼ æ¥çš„å€¼ï¼Œä»¥ä¾¿ä¿®æ”¹ï¼›<br>â‘¢ å­ç»„ä»¶å¯ä»¥é€šè¿‡ $emit çš„æ–¹å¼é€šçŸ¥çˆ¶ç»„ä»¶ä¿®æ”¹å€¼ï¼Œå†é‡æ–°ä¼ å›ç»™å­ç»„ä»¶ï¼›</p></blockquote><h4 id="23ã€è·¯ç”±æ‡’åŠ è½½"><a href="#23ã€è·¯ç”±æ‡’åŠ è½½" class="headerlink" title="23ã€è·¯ç”±æ‡’åŠ è½½"></a>23ã€è·¯ç”±æ‡’åŠ è½½</h4><h6 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½"><a href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½"></a>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½</h6><blockquote><p>ä¸ºç»™å®¢æˆ·æ›´å¥½çš„å®¢æˆ·ä½“éªŒï¼Œé¦–å±ç»„ä»¶åŠ è½½é€Ÿåº¦æ›´å¿«ä¸€äº›ï¼Œè§£å†³ç™½å±é—®é¢˜</p></blockquote><h6 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h6><blockquote><p>æ‡’åŠ è½½ç®€å•æ¥è¯´å°±æ˜¯å»¶è¿ŸåŠ è½½æˆ–æŒ‰éœ€åŠ è½½ï¼Œå³åœ¨éœ€è¦çš„æ—¶å€™çš„æ—¶å€™è¿›è¡ŒåŠ è½½</p><p>è·¯ç”± å’Œ ç»„ä»¶ çš„å¸¸ç”¨ä¸¤ç§æ‡’åŠ è½½æ–¹å¼ï¼š</p><p>1ã€vueå¼‚æ­¥ç»„ä»¶å®ç°è·¯ç”±æ‡’åŠ è½½ <code>componentï¼šresolve=&gt;([&#39;éœ€è¦åŠ è½½çš„è·¯ç”±çš„åœ°å€&#39;ï¼Œresolve])</code></p><p>2ã€esæå‡ºçš„import(æ¨èä½¿ç”¨è¿™ç§æ–¹å¼) <code>const HelloWorld = ï¼ˆï¼‰=&gt; import(&#39;éœ€è¦åŠ è½½çš„æ¨¡å—åœ°å€&#39;)</code></p></blockquote><p>é€šè¿‡é­”æ³•æ³¨é‡ŠwebpackChunkNameä¿®æ”¹åç§°ï¼Œæ‰“åŒ…æ—¶å°±ä¼šæ˜¾ç¤ºä¿®æ”¹åçš„æ–°åç§°</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; name &#125; = <span class="keyword">await</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:&quot;newName&quot;*/</span><span class="string">&#x27;è·¯å¾„&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="24ã€å¦‚ä½•ç†è§£vueçš„keyå±æ€§"><a href="#24ã€å¦‚ä½•ç†è§£vueçš„keyå±æ€§" class="headerlink" title="24ã€å¦‚ä½•ç†è§£vueçš„keyå±æ€§"></a>24ã€å¦‚ä½•ç†è§£vueçš„keyå±æ€§</h4><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/GMFRTZ1Ew2igUmP.png?x-oss-process=style/huyu" alt="image-20220811205624543"></p><blockquote><pre><code>          **key æ˜¯ä¸º Vue ä¸­ vnode çš„å”¯ä¸€æ ‡è®°ï¼Œé€šè¿‡è¿™ä¸ª keyï¼Œæˆ‘ä»¬çš„ diff æ“ä½œå¯ä»¥æ›´å‡†ç¡®ã€æ›´å¿«é€Ÿï¼Œä»¥ä¾¿é«˜æ•ˆçš„æ›´æ–°è™šæ‹Ÿ DOM**          1.  å¯¹â½è§„åˆ™ï¼š              1. æ—§è™šæ‹ŸDOMä¸­æ‰¾åˆ°äº†ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„keyï¼š                  1. è‹¥è™šæ‹ŸDOMä¸­å†…å®¹æ²¡å˜, ç›´æ¥ä½¿â½¤ä¹‹å‰çš„çœŸå®DOM                  2. è‹¥è™šæ‹ŸDOMä¸­å†…å®¹å˜äº†, åˆ™â½£æˆæ–°çš„çœŸå®DOMï¼Œéšåæ›¿æ¢æ‰â»šâ¾¯ä¸­ä¹‹å‰çš„çœŸ                       å®DOM              2. æ—§è™šæ‹ŸDOMä¸­æœªæ‰¾åˆ°ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„keyï¼šåˆ›å»ºæ–°çš„çœŸå®DOMï¼Œéšåæ¸²æŸ“åˆ°                  åˆ°â»šâ¾¯                2. â½¤indexä½œä¸ºkeyå¯èƒ½ä¼šå¼•å‘çš„é—®é¢˜ï¼š                 1. è‹¥å¯¹æ•°æ®è¿›â¾é€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œï¼šä¼šäº§â½£æ²¡æœ‰å¿…è¦çš„çœŸå®DOM                     æ›´æ–° ==&gt; ç•Œâ¾¯æ•ˆæœæ²¡é—®é¢˜, ä½†æ•ˆç‡ä½                 2. è‹¥ç»“æ„ä¸­è¿˜åŒ…å«è¾“â¼Šç±»çš„DOMï¼šä¼šäº§â½£é”™è¯¯DOMæ›´æ–° ==&gt; ç•Œâ¾¯æœ‰é—®é¢˜                3. å¼€å‘ä¸­å¦‚ä½•é€‰æ‹©key?                 1. æœ€å¥½ä½¿â½¤æ¯æ¡æ•°æ®çš„å”¯â¼€æ ‡è¯†ä½œä¸ºkeyï¼Œâ½å¦‚idã€â¼¿æœºå·ã€â¾ä»½è¯å·ã€å­¦å·ç­‰å”¯â¼€                     å€¼                 2. å¦‚æœä¸å­˜åœ¨å¯¹æ•°æ®çš„é€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºçš„æ“ä½œï¼Œä»…â½¤äºæ¸²æŸ“åˆ—è¡¨ï¼Œ                     ä½¿â½¤indexä½œä¸ºkeyæ˜¯æ²¡æœ‰é—®é¢˜çš„</code></pre></blockquote><h4 id="25ã€vue-router-æœ‰å“ªå‡ ç§å¯¼èˆªé’©å­"><a href="#25ã€vue-router-æœ‰å“ªå‡ ç§å¯¼èˆªé’©å­" class="headerlink" title="25ã€vue-router æœ‰å“ªå‡ ç§å¯¼èˆªé’©å­"></a>25ã€vue-router æœ‰å“ªå‡ ç§å¯¼èˆªé’©å­</h4><p><a href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html">https://router.vuejs.org/zh/guide/advanced/navigation-guards.html</a></p><p><a href="https://router.vuejs.org/zh/guide/advanced/meta.html">https://router.vuejs.org/zh/guide/advanced/meta.html</a></p><p><strong>å…¨å±€å¯¼èˆªé’©å­</strong></p><ul><li><code>router.beforeEach(to,from,next)</code>ï¼šæ·»åŠ ä¸€ä¸ªå¯¼èˆªå®ˆå«ï¼Œåœ¨ä»»ä½•<strong>å¯¼èˆªå‰</strong>æ‰§è¡Œ</li><li><code>router.beforeResolve(to,from)</code>ï¼šæ·»åŠ ä¸€ä¸ªå¯¼èˆªå®ˆå«ï¼Œåœ¨<strong>å¯¼èˆªå³å°†è§£æä¹‹å‰</strong>æ‰§è¡Œã€‚åœ¨è¿™ä¸ªçŠ¶æ€ä¸‹ï¼Œæ‰€æœ‰çš„ç»„ä»¶éƒ½å·²ç»è¢«è·å–ï¼Œå¹¶ä¸”å…¶ä»–å¯¼èˆªå®ˆå«ä¹Ÿå·²ç»æˆåŠŸ</li><li><code>router.afterEach(to,from)</code>ï¼šæ·»åŠ ä¸€ä¸ªå¯¼èˆªé’©å­ï¼Œ<strong>åœ¨æ¯æ¬¡å¯¼èˆªåæ‰§è¡Œ</strong></li></ul><p><strong>ç»„ä»¶å†…çš„é’©å­</strong></p><ul><li><code>beforeRouterEnter(to, from, next)</code>ï¼šåœ¨æ¸²æŸ“è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±è¢«éªŒè¯å‰è°ƒç”¨</li><li><code>beforeRouterUpdate</code>ï¼šåœ¨å½“å‰è·¯ç”±æ”¹å˜ï¼Œä½†æ˜¯è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨</li><li><code>beforeRouterLeave</code>ï¼šåœ¨å¯¼èˆªç¦»å¼€æ¸²æŸ“è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±æ—¶è°ƒç”¨</li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">UserDetails</span> = &#123;</span><br><span class="line">  <span class="attr">template</span>: <span class="string">`...`</span>,</span><br><span class="line">  <span class="title function_">beforeRouteEnter</span>(<span class="params">to, <span class="keyword">from</span>,next</span>) &#123;</span><br><span class="line">    <span class="comment">// åœ¨æ¸²æŸ“è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±è¢«éªŒè¯å‰è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// ä¸èƒ½è·å–ç»„ä»¶å®ä¾‹ `this` ï¼</span></span><br><span class="line">    <span class="comment">// å› ä¸ºå½“å®ˆå«æ‰§è¡Œæ—¶ï¼Œç»„ä»¶å®ä¾‹è¿˜æ²¡è¢«åˆ›å»ºï¼</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">beforeRouteUpdate</span>(<span class="params">to, <span class="keyword">from</span></span>) &#123;</span><br><span class="line">    <span class="comment">// åœ¨å½“å‰è·¯ç”±æ”¹å˜ï¼Œä½†æ˜¯è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// ä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªå¸¦æœ‰åŠ¨æ€å‚æ•°çš„è·¯å¾„ `/users/:id`ï¼Œåœ¨ `/users/1` å’Œ `/users/2` ä¹‹é—´è·³è½¬çš„æ—¶å€™ï¼Œ</span></span><br><span class="line">    <span class="comment">// ç”±äºä¼šæ¸²æŸ“åŒæ ·çš„ `UserDetails` ç»„ä»¶ï¼Œå› æ­¤ç»„ä»¶å®ä¾‹ä¼šè¢«å¤ç”¨ã€‚è€Œè¿™ä¸ªé’©å­å°±ä¼šåœ¨è¿™ä¸ªæƒ…å†µä¸‹è¢«è°ƒç”¨ã€‚</span></span><br><span class="line">    <span class="comment">// å› ä¸ºåœ¨è¿™ç§æƒ…å†µå‘ç”Ÿçš„æ—¶å€™ï¼Œç»„ä»¶å·²ç»æŒ‚è½½å¥½äº†ï¼Œå¯¼èˆªå®ˆå«å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">beforeRouteLeave</span>(<span class="params">to, <span class="keyword">from</span></span>) &#123;</span><br><span class="line">    <span class="comment">// åœ¨å¯¼èˆªç¦»å¼€æ¸²æŸ“è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±æ—¶è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// ä¸ `beforeRouteUpdate` ä¸€æ ·ï¼Œå®ƒå¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è·¯ç”±ç‹¬äº«çš„å®ˆå«</strong></p><ul><li><code>beforeEnter</code>:<strong>åªåœ¨è¿›å…¥è·¯ç”±æ—¶è§¦å‘</strong>ï¼Œä¸ä¼šåœ¨ <code>params</code>ã€<code>query</code> æˆ– <code>hash</code> æ”¹å˜æ—¶è§¦å‘</li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/users/:id&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">UserDetails</span>,</span><br><span class="line">    <span class="attr">beforeEnter</span>: <span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// reject the navigation</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/crRNltVTHoA8nXW.png?x-oss-process=style/huyu" alt="image-20220809005712651"></p><h4 id="26ã€ä»€ä¹ˆæ˜¯-MVVMï¼Ÿï¼ˆæ·±å…¥å¾…æ€»ç»“ï¼‰"><a href="#26ã€ä»€ä¹ˆæ˜¯-MVVMï¼Ÿï¼ˆæ·±å…¥å¾…æ€»ç»“ï¼‰" class="headerlink" title="26ã€ä»€ä¹ˆæ˜¯ MVVMï¼Ÿï¼ˆæ·±å…¥å¾…æ€»ç»“ï¼‰"></a>26ã€ä»€ä¹ˆæ˜¯ MVVMï¼Ÿï¼ˆæ·±å…¥å¾…æ€»ç»“ï¼‰</h4><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/4BpRdQsYCcEuwe6.webp?x-oss-process=style/huyu" alt="img"></p><blockquote><ul><li>Modelï¼šæ¨¡å‹å±‚ï¼ˆæ•°æ®å±‚ï¼‰ï¼Œä¸»è¦ç”¨äºä¿å­˜ä¸€äº›æ•°æ®</li><li>Viewï¼š è§†å›¾å±‚ï¼Œä¸»è¦ç”¨äºå°†åç«¯æ•°æ®å€ŸåŠ©å„ç§å…ƒç´ å‘ˆç°ç»™ç”¨æˆ·ï¼ŒåŒæ—¶ä¹Ÿå¯æä¾›ç”¨æˆ·æ“ä½œçš„å…¥å£</li><li>ViewModelï¼šè§†å›¾æ¨¡å‹å±‚ï¼šè¯¥å±‚ä¹Ÿæ˜¯mvvmä¸­çš„æ ¸å¿ƒå±‚ï¼Œä¸»è¦ç”¨äºä½œä¸ºModelä¸ªViewä¸¤ä¸ªå±‚çš„æ•°æ®è¿æ¥å±‚ï¼Œè´Ÿè´£ä¸¤ä¸ªå±‚ä¹‹é—´çš„æ•°æ®ä¼ é€’ã€‚è¯¥å±‚ä¸»è¦åŒ…å«ä¸¤å¤§åŠŸèƒ½ç‚¹ï¼š<ul><li>DOMç›‘å¬ï¼ˆDOM Listenerï¼‰è§†å›¾å˜åŒ–åæ›´æ–°æ•°æ®</li><li>æ•°æ®ç»‘å®šï¼ˆData bindingsï¼‰æ•°æ®å˜åŒ–åæ›´æ–°è§†å›¾</li></ul></li></ul></blockquote><h4 id="27ã€Vue-æ˜¯å¦‚ä½•å®ç°æ•°æ®åŒå‘ç»‘å®šçš„ï¼Ÿ"><a href="#27ã€Vue-æ˜¯å¦‚ä½•å®ç°æ•°æ®åŒå‘ç»‘å®šçš„ï¼Ÿ" class="headerlink" title="27ã€Vue æ˜¯å¦‚ä½•å®ç°æ•°æ®åŒå‘ç»‘å®šçš„ï¼Ÿ"></a>27ã€Vue æ˜¯å¦‚ä½•å®ç°æ•°æ®åŒå‘ç»‘å®šçš„ï¼Ÿ</h4><p><a href="https://juejin.cn/post/6950939562872930341">https://juejin.cn/post/6950939562872930341</a></p><blockquote><p>Vue æ•°æ®åŒå‘ç»‘å®šä¸»è¦æ˜¯æŒ‡ï¼šæ•°æ®å˜åŒ–æ›´æ–°è§†å›¾ï¼Œè§†å›¾å˜åŒ–æ›´æ–°æ•°æ®</p></blockquote><p>Vue ä¸»è¦é€šè¿‡ä»¥ä¸‹ 4 ä¸ªæ­¥éª¤æ¥å®ç°æ•°æ®åŒå‘ç»‘å®šçš„ï¼š</p><ol><li>éœ€è¦Observeï¼ˆè§‚å¯Ÿè€…ï¼‰çš„æ•°æ®å¯¹è±¡è¿›è¡Œé€’å½’éå†ï¼ŒåŒ…æ‹¬å­å±æ€§å¯¹è±¡çš„å±æ€§ï¼Œéƒ½åŠ ä¸Šsetterå’Œgetterè¿™æ ·çš„è¯ï¼Œç»™è¿™ä¸ªå¯¹è±¡çš„æŸä¸ªå€¼èµ‹å€¼ï¼Œå°±ä¼šè§¦å‘setterï¼Œé‚£ä¹ˆå°±èƒ½ç›‘å¬åˆ°äº†æ•°æ®å˜åŒ–</li><li>Compileï¼ˆç¼–è¯‘ï¼‰è§£ææ¨¡æ¿æŒ‡ä»¤ï¼Œå°†æ¨¡æ¿ä¸­çš„å˜é‡æ›¿æ¢æˆæ•°æ®ï¼Œç„¶ååˆå§‹åŒ–æ¸²æŸ“é¡µé¢è§†å›¾ï¼Œå¹¶å°†æ¯ä¸ªæŒ‡ä»¤å¯¹åº”çš„èŠ‚ç‚¹ç»‘å®šæ›´æ–°å‡½æ•°ï¼Œæ·»åŠ ç›‘å¬æ•°æ®çš„è®¢é˜…è€…ï¼Œä¸€æ—¦æ•°æ®æœ‰å˜åŠ¨ï¼Œæ”¶åˆ°é€šçŸ¥ï¼Œæ›´æ–°è§†å›¾</li><li>Watcherè®¢é˜…è€…æ˜¯Observerå’ŒCompileä¹‹é—´é€šä¿¡çš„æ¡¥æ¢ï¼Œä¸»è¦åšçš„äº‹æƒ…æ˜¯: â‘ åœ¨è‡ªèº«å®ä¾‹åŒ–æ—¶å¾€å±æ€§è®¢é˜…å™¨(dep)é‡Œé¢æ·»åŠ è‡ªå·± â‘¡è‡ªèº«å¿…é¡»æœ‰ä¸€ä¸ªupdate()æ–¹æ³• â‘¢å¾…å±æ€§å˜åŠ¨dep.notify()é€šçŸ¥æ—¶ï¼Œèƒ½è°ƒç”¨è‡ªèº«çš„update()æ–¹æ³•ï¼Œå¹¶è§¦å‘Compileä¸­ç»‘å®šçš„å›è°ƒï¼Œåˆ™åŠŸæˆèº«é€€ã€‚</li><li>MVVMä½œä¸ºæ•°æ®ç»‘å®šçš„å…¥å£ï¼Œæ•´åˆObserverã€Compileå’ŒWatcherä¸‰è€…ï¼Œé€šè¿‡Observeræ¥ç›‘å¬è‡ªå·±çš„modelæ•°æ®å˜åŒ–ï¼Œé€šè¿‡Compileæ¥è§£æç¼–è¯‘æ¨¡æ¿æŒ‡ä»¤ï¼Œæœ€ç»ˆåˆ©ç”¨Watcheræ­èµ·Observerå’ŒCompileä¹‹é—´çš„é€šä¿¡æ¡¥æ¢ï¼Œè¾¾åˆ°æ•°æ®å˜åŒ– -&gt; è§†å›¾æ›´æ–°ï¼›è§†å›¾äº¤äº’å˜åŒ–(input) -&gt; æ•°æ®modelå˜æ›´çš„åŒå‘ç»‘å®šæ•ˆæœã€‚</li></ol><p>ä»¥ä¸Šå››ä¸ªæ­¥éª¤çš„æµç¨‹å›¾è¡¨ç¤ºå¦‚ä¸‹ï¼Œå¦‚æœæœ‰åŒå­¦ç†è§£ä¸å¤§æ¸…æ™°çš„ï¼Œå¯ä»¥æŸ¥çœ‹ä½œè€…ä¸“é—¨ä»‹ç»æ•°æ®åŒå‘ç»‘å®šçš„æ–‡ç« <a href="https://juejin.cn/post/6844903903822086151">ã€Š0 åˆ° 1 æŒæ¡ï¼šVue æ ¸å¿ƒä¹‹æ•°æ®åŒå‘ç»‘å®šã€‹</a>ï¼Œæœ‰è¿›è¡Œè¯¦ç»†çš„è®²è§£ã€ä»¥åŠä»£ç  demo ç¤ºä¾‹</p><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/ZykbSiv6VjH3Udl.webp?x-oss-process=style/huyu" alt="1158910-20180306234148823-430002059.png"></p><h4 id="28ã€Vue-observableä½ æœ‰äº†è§£è¿‡å—ï¼Ÿè¯´è¯´çœ‹"><a href="#28ã€Vue-observableä½ æœ‰äº†è§£è¿‡å—ï¼Ÿè¯´è¯´çœ‹" class="headerlink" title="28ã€Vue.observableä½ æœ‰äº†è§£è¿‡å—ï¼Ÿè¯´è¯´çœ‹"></a>28ã€Vue.observableä½ æœ‰äº†è§£è¿‡å—ï¼Ÿè¯´è¯´çœ‹</h4><p> <a href="https://cowtransfer.com/s/1ef3d485042d4e">https://cowtransfer.com/s/1ef3d485042d4e</a> ç‚¹å‡»é“¾æ¥æŸ¥çœ‹ [ my2.jpg ] ï¼Œæˆ–è®¿é—®å¥¶ç‰›å¿«ä¼  cowtransfer.com è¾“å…¥ä¼ è¾“å£ä»¤ uk9ct9 æŸ¥çœ‹ï¼›</p><h4 id="29ã€v-model-çš„åŸç†ï¼Ÿ"><a href="#29ã€v-model-çš„åŸç†ï¼Ÿ" class="headerlink" title="29ã€v-model çš„åŸç†ï¼Ÿ"></a>29ã€v-model çš„åŸç†ï¼Ÿ</h4><p>æˆ‘ä»¬åœ¨ vue é¡¹ç›®ä¸­ä¸»è¦ä½¿ç”¨ v-model æŒ‡ä»¤åœ¨è¡¨å• inputã€textareaã€select ç­‰å…ƒç´ ä¸Šåˆ›å»ºåŒå‘æ•°æ®ç»‘å®šï¼Œv-model æœ¬è´¨ä¸Šä¸è¿‡æ˜¯è¯­æ³•ç³–ï¼Œv-model åœ¨å†…éƒ¨ä¸ºä¸åŒçš„è¾“å…¥å…ƒç´ ä½¿ç”¨ä¸åŒçš„å±æ€§å¹¶æŠ›å‡ºä¸åŒçš„äº‹ä»¶ï¼š</p><ul><li>text å’Œ textarea å…ƒç´ ä½¿ç”¨ value å±æ€§å’Œ input äº‹ä»¶ï¼›</li><li>checkbox å’Œ radio ä½¿ç”¨ checked å±æ€§å’Œ change äº‹ä»¶ï¼›</li><li>select å­—æ®µå°† value ä½œä¸º prop å¹¶å°† change ä½œä¸ºäº‹ä»¶ã€‚</li></ul><p>ä»¥ input è¡¨å•å…ƒç´ ä¸ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;input v-model=<span class="string">&#x27;something&#x27;</span>&gt;</span><br><span class="line"><span class="comment">// ç›¸å½“äº</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-bind:value</span>=<span class="string">&quot;something&quot;</span> <span class="attr">v-on:input</span>=<span class="string">&quot;something = $event.target.value&quot;</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="30ã€dataæ˜¯ä¸ªå‡½æ•°ä¸æ˜¯ä¸ªå¯¹è±¡"><a href="#30ã€dataæ˜¯ä¸ªå‡½æ•°ä¸æ˜¯ä¸ªå¯¹è±¡" class="headerlink" title="30ã€dataæ˜¯ä¸ªå‡½æ•°ä¸æ˜¯ä¸ªå¯¹è±¡"></a>30ã€dataæ˜¯ä¸ªå‡½æ•°ä¸æ˜¯ä¸ªå¯¹è±¡</h4><blockquote><p>é¦–å…ˆï¼Œdataæ˜¯ä¸ªå‡½æ•°æ˜¯ç¡®ä¿æ•°æ®ä¸ä¼šè¢«æ±¡æŸ“ï¼Œåœ¨JSä¸­å¯¹è±¡æ˜¯ä¸€ä¸ªå¼•ç”¨æ•°æ®ç±»å‹ï¼Œå¦‚æœæ˜¯å¯¹è±¡å½¢å¼ï¼Œå¤šä¸ªvueå®ä¾‹ä¼šç›¸äº’å½±å“ï¼Œä¸ºäº†ä¿è¯ç»„ä»¶çš„å¤ç”¨æ€§ï¼Œdataè¦å†™æˆå‡½æ•°ï¼Œå‡½æ•°å½¢å¼æ¯æ¬¡ä½¿ç”¨æ—¶ï¼Œä¼šè¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡æ‹·è´ï¼Œè¿™æ ·ä½¿ç”¨ç»„ä»¶æ—¶dataä¸­çš„æ•°æ®å°±ä¸ä¼šè¢«ç›¸äº’å½±å“</p><p>new Vueçš„å®ä¾‹ï¼Œæ¯”å¦‚app.jsä¸­ï¼Œæ˜¯ä¸ä¼šè¢«å¤ç”¨çš„ï¼Œæ‰€ä»¥ä¸å­˜åœ¨æ•°æ®æ±¡æŸ“çš„æƒ…å†µ</p></blockquote><h4 id="31ã€è·¯ç”±ä¸‰ç§æ¨¡å¼"><a href="#31ã€è·¯ç”±ä¸‰ç§æ¨¡å¼" class="headerlink" title="31ã€è·¯ç”±ä¸‰ç§æ¨¡å¼"></a>31ã€è·¯ç”±ä¸‰ç§æ¨¡å¼</h4><p><strong>hashæ¨¡å¼</strong></p><p><strong>historyæ¨¡å¼</strong></p><p><strong>abstractæ¨¡å¼</strong></p><h4 id="32ã€hashæ¨¡å¼å’Œhistoryæ¨¡å¼ï¼ˆè¡¥å……ï¼‰"><a href="#32ã€hashæ¨¡å¼å’Œhistoryæ¨¡å¼ï¼ˆè¡¥å……ï¼‰" class="headerlink" title="32ã€hashæ¨¡å¼å’Œhistoryæ¨¡å¼ï¼ˆè¡¥å……ï¼‰"></a>32ã€hashæ¨¡å¼å’Œhistoryæ¨¡å¼ï¼ˆè¡¥å……ï¼‰</h4><p><a href="https://juejin.cn/post/6867875626611654663">https://juejin.cn/post/6867875626611654663</a></p><h6 id="å‰ç«¯è·¯ç”±åŸç†"><a href="#å‰ç«¯è·¯ç”±åŸç†" class="headerlink" title="å‰ç«¯è·¯ç”±åŸç†"></a>å‰ç«¯è·¯ç”±åŸç†</h6><p>å‰ç«¯è·¯ç”±çš„æ ¸å¿ƒï¼Œå°±åœ¨äºæ”¹å˜è§†å›¾çš„åŒæ—¶ä¸ä¼šå‘åç«¯å‘å‡ºè¯·æ±‚ï¼›è€Œæ˜¯åŠ è½½è·¯ç”±å¯¹åº”çš„ç»„ä»¶ã€‚vue-routerå°±æ˜¯å°†ç»„ä»¶æ˜ å°„åˆ°è·¯ç”±, ç„¶åæ¸²æŸ“å‡ºæ¥çš„ã€‚å¹¶å®ç°äº†ä¸‰ç§æ¨¡å¼ï¼šHashæ¨¡å¼ã€Historyæ¨¡å¼ä»¥åŠAbstractæ¨¡å¼ã€‚é»˜è®¤Hashæ¨¡å¼</p><p><strong>hashæ¨¡å¼</strong> ï¼š #åé¢æ˜¯è·¯ç”±è·¯å¾„ï¼Œç‰¹ç‚¹æ˜¯å‰ç«¯è®¿é—®ï¼Œ#åé¢çš„å˜åŒ–ä¸ä¼šç»è¿‡æœåŠ¡å™¨</p><p><strong>historyæ¨¡å¼</strong>ï¼šæ­£å¸¸çš„/è®¿é—®æ¨¡å¼ï¼Œç‰¹ç‚¹æ˜¯åç«¯è®¿é—®ï¼Œä»»æ„åœ°å€çš„å˜åŒ–éƒ½ä¼šè®¿é—®æœåŠ¡å™¨</p><h6 id="Hashæ¨¡å¼"><a href="#Hashæ¨¡å¼" class="headerlink" title="Hashæ¨¡å¼"></a>Hashæ¨¡å¼</h6><ul><li>åŸç†<br>åŸºäºæµè§ˆå™¨çš„<strong>hashchangeäº‹ä»¶</strong>ï¼Œåœ°å€å˜åŒ–æ—¶ï¼Œé€šè¿‡window.location.hash è·å–åœ°å€ä¸Šçš„hashå€¼ï¼›å¹¶é€šè¿‡æ„é€ Routerç±»ï¼Œé…ç½®routeså¯¹è±¡è®¾ç½®hashå€¼ä¸å¯¹åº”çš„ç»„ä»¶å†…å®¹ã€‚</li><li>ä¼˜ç‚¹</li></ul><ol><li>hashå€¼ä¼šå‡ºç°åœ¨URLä¸­, ä½†æ˜¯ä¸ä¼šè¢«åŒ…å«åœ¨Httpè¯·æ±‚ä¸­, å› æ­¤hashå€¼æ”¹å˜ä¸ä¼šé‡æ–°åŠ è½½é¡µé¢</li><li>hashæ”¹å˜ä¼šè§¦å‘hashchangeäº‹ä»¶, èƒ½æ§åˆ¶æµè§ˆå™¨çš„å‰è¿›åé€€</li><li>å…¼å®¹æ€§å¥½</li></ol><ul><li>ç¼ºç‚¹</li></ul><ol><li><strong>åœ°å€æ ä¸­æºå¸¦#ï¼Œä¸ç¾è§‚</strong></li><li>åªå¯ä¿®æ”¹ # åé¢çš„éƒ¨åˆ†ï¼Œå› æ­¤åªèƒ½è®¾ç½®ä¸å½“å‰ URL åŒæ–‡æ¡£çš„ URL</li><li>hashæœ‰ä½“ç§¯é™åˆ¶ï¼Œæ•…åªå¯æ·»åŠ çŸ­å­—ç¬¦ä¸²</li><li>è®¾ç½®çš„æ–°å€¼å¿…é¡»ä¸åŸæ¥ä¸ä¸€æ ·æ‰ä¼šè§¦å‘hashchangeäº‹ä»¶ï¼Œå¹¶å°†è®°å½•æ·»åŠ åˆ°æ ˆä¸­</li><li><strong>æ¯æ¬¡URLçš„æ”¹å˜ä¸å±äºä¸€æ¬¡httpè¯·æ±‚ï¼Œæ‰€ä»¥ä¸åˆ©äºSEOä¼˜åŒ–</strong></li></ol><h6 id="Historyæ¨¡å¼"><a href="#Historyæ¨¡å¼" class="headerlink" title="Historyæ¨¡å¼"></a>Historyæ¨¡å¼</h6><ul><li>åŸç†<br>åŸºäºHTML5æ–°å¢çš„pushState()å’ŒreplaceState()ä¸¤ä¸ªapiï¼Œä»¥åŠæµè§ˆå™¨çš„popstateäº‹ä»¶ï¼Œåœ°å€å˜åŒ–æ—¶ï¼Œé€šè¿‡window.location.pathnameæ‰¾åˆ°å¯¹åº”çš„ç»„ä»¶ã€‚å¹¶é€šè¿‡æ„é€ Routerç±»ï¼Œé…ç½®routeså¯¹è±¡è®¾ç½®pathnameå€¼ä¸å¯¹åº”çš„ç»„ä»¶å†…å®¹ã€‚</li><li>ä¼˜ç‚¹</li></ul><ol><li><strong>æ²¡æœ‰#ï¼Œæ›´åŠ ç¾è§‚</strong></li><li>pushState() è®¾ç½®çš„æ–° URL å¯ä»¥æ˜¯ä¸å½“å‰ URL åŒæºçš„ä»»æ„ URL</li><li>pushState() è®¾ç½®çš„æ–° URL å¯ä»¥ä¸å½“å‰ URL ä¸€æ¨¡ä¸€æ ·ï¼Œè¿™æ ·ä¹Ÿä¼šæŠŠè®°å½•æ·»åŠ åˆ°æ ˆä¸­</li><li>pushState() é€šè¿‡ stateObject å‚æ•°å¯ä»¥æ·»åŠ ä»»æ„ç±»å‹çš„æ•°æ®åˆ°è®°å½•ä¸­</li><li>pushState() å¯é¢å¤–è®¾ç½® title å±æ€§ä¾›åç»­ä½¿ç”¨</li><li>æµè§ˆå™¨çš„è¿›åé€€èƒ½è§¦å‘æµè§ˆå™¨çš„popstateäº‹ä»¶ï¼Œè·å–window.location.pathnameæ¥æ§åˆ¶é¡µé¢çš„å˜åŒ–</li></ol><ul><li>ç¼ºç‚¹</li></ul><ol><li>URLçš„æ”¹å˜å±äºhttpè¯·æ±‚ï¼Œå€ŸåŠ©history.pushStateå®ç°é¡µé¢çš„æ— åˆ·æ–°è·³è½¬ï¼Œå› æ­¤<strong>ä¼šé‡æ–°è¯·æ±‚æœåŠ¡å™¨</strong>ã€‚æ‰€ä»¥å‰ç«¯çš„ URL å¿…é¡»å’Œå®é™…å‘åç«¯å‘èµ·è¯·æ±‚çš„ URL ä¸€è‡´ã€‚å¦‚æœç”¨æˆ·è¾“å…¥çš„URLå›è½¦æˆ–è€…æµè§ˆå™¨åˆ·æ–°æˆ–è€…åˆ†äº«å‡ºå»æŸä¸ªé¡µé¢è·¯å¾„ï¼Œç”¨æˆ·ç‚¹å‡»åï¼ŒURLä¸åç«¯é…ç½®çš„é¡µé¢è¯·æ±‚URLä¸ä¸€è‡´ï¼Œåˆ™åŒ¹é…ä¸åˆ°ä»»ä½•é™æ€èµ„æºï¼Œå°±ä¼šè¿”å›404é¡µé¢ã€‚æ‰€ä»¥éœ€è¦åå°é…ç½®æ”¯æŒï¼Œè¦†ç›–æ‰€æœ‰æƒ…å†µçš„å€™é€‰èµ„æºï¼Œå¦‚æœ URL åŒ¹é…ä¸åˆ°ä»»ä½•é™æ€èµ„æºï¼Œåˆ™åº”è¯¥è¿”å›app ä¾èµ–çš„é¡µé¢æˆ–è€…åº”ç”¨é¦–é¡µã€‚</li><li>å…¼å®¹æ€§å·®ï¼Œç‰¹å®šæµè§ˆå™¨æ”¯æŒ</li></ol><h6 id="Abstractæ¨¡å¼"><a href="#Abstractæ¨¡å¼" class="headerlink" title="Abstractæ¨¡å¼"></a>Abstractæ¨¡å¼</h6><p>å·¥ä½œæ—¶æ²¡ç”¨è¿‡ï¼Œæ”¯æŒæ‰€æœ‰javascriptè¿è¡Œæ¨¡å¼ã€‚vue-router è‡ªèº«ä¼šå¯¹ç¯å¢ƒåšæ ¡éªŒï¼Œå¦‚æœå‘ç°æ²¡æœ‰æµè§ˆå™¨çš„ APIï¼Œè·¯ç”±ä¼šè‡ªåŠ¨å¼ºåˆ¶è¿›å…¥ abstract æ¨¡å¼ã€‚åœ¨ç§»åŠ¨ç«¯åŸç”Ÿç¯å¢ƒä¸­ä¹Ÿæ˜¯ä½¿ç”¨ abstract æ¨¡å¼ã€‚</p><h6 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h6><p>hash æ¨¡å¼å’Œ history æ¨¡å¼éƒ½å±äºæµè§ˆå™¨è‡ªèº«çš„ç‰¹æ€§ï¼ŒVue-Router åªæ˜¯åˆ©ç”¨äº†è¿™ä¸¤ä¸ªç‰¹æ€§ï¼ˆé€šè¿‡è°ƒç”¨æµè§ˆå™¨æä¾›çš„æ¥å£ï¼‰æ¥å®ç°å‰ç«¯è·¯ç”±ã€‚</p><h4 id="33ã€è¯´è¯´ä½ å¯¹slotçš„ç†è§£ï¼Ÿslotä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ"><a href="#33ã€è¯´è¯´ä½ å¯¹slotçš„ç†è§£ï¼Ÿslotä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="33ã€è¯´è¯´ä½ å¯¹slotçš„ç†è§£ï¼Ÿslotä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ"></a>33ã€è¯´è¯´ä½ å¯¹slotçš„ç†è§£ï¼Ÿslotä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ</h4><p><a href="https://vue3js.cn/interview/vue/slot.html#%E4%B8%80%E3%80%81slot%E6%98%AF%E4%BB%80%E4%B9%88">https://vue3js.cn/interview/vue/slot.html#%E4%B8%80%E3%80%81slot%E6%98%AF%E4%BB%80%E4%B9%88</a></p><h6 id="ä»€ä¹ˆæ˜¯slot"><a href="#ä»€ä¹ˆæ˜¯slot" class="headerlink" title="ä»€ä¹ˆæ˜¯slot"></a><strong>ä»€ä¹ˆæ˜¯slot</strong></h6><blockquote><p>slotï¼Œæ˜¯ç»„ä»¶çš„ä¸€å—HTMLæ¨¡æ¿ï¼Œè¿™å—æ¨¡æ¿æ˜¾ç¤ºä¸æ˜¾ç¤ºã€ä»¥åŠæ€æ ·æ˜¾ç¤ºç”±çˆ¶ç»„ä»¶æ¥å†³å®š</p></blockquote><h6 id="slotçš„ä½œç”¨"><a href="#slotçš„ä½œç”¨" class="headerlink" title="slotçš„ä½œç”¨"></a>slotçš„ä½œç”¨</h6><blockquote><p><strong>é€šè¿‡æ’æ§½å¯ä»¥è®©ç”¨æˆ·å¯ä»¥æ‹“å±•ç»„ä»¶ï¼Œå»æ›´å¥½åœ°å¤ç”¨ç»„ä»¶å’Œå¯¹å…¶åšå®šåˆ¶åŒ–å¤„ç†</strong></p><p>å¦‚æœçˆ¶ç»„ä»¶åœ¨ä½¿ç”¨åˆ°ä¸€ä¸ªå¤ç”¨ç»„ä»¶çš„æ—¶å€™ï¼Œè·å–è¿™ä¸ªç»„ä»¶åœ¨ä¸åŒçš„åœ°æ–¹æœ‰å°‘é‡çš„æ›´æ”¹ï¼Œå¦‚æœå»é‡å†™ç»„ä»¶æ˜¯ä¸€ä»¶ä¸æ˜æ™ºçš„äº‹æƒ…</p><p>é€šè¿‡<code>slot</code>æ’æ§½å‘ç»„ä»¶å†…éƒ¨æŒ‡å®šä½ç½®ä¼ é€’å†…å®¹ï¼Œå®Œæˆè¿™ä¸ªå¤ç”¨ç»„ä»¶åœ¨ä¸åŒåœºæ™¯çš„åº”ç”¨</p><p><strong>æ¯”å¦‚å¸ƒå±€ç»„ä»¶ã€è¡¨æ ¼åˆ—ã€ä¸‹æ‹‰é€‰ã€å¼¹æ¡†æ˜¾ç¤ºå†…å®¹ç­‰</strong></p></blockquote><h6 id="slotçš„åˆ†ç±»"><a href="#slotçš„åˆ†ç±»" class="headerlink" title="slotçš„åˆ†ç±»"></a>slotçš„åˆ†ç±»</h6><blockquote><ul><li><p>é»˜è®¤æ’æ§½</p><ul><li><p>å­ç»„ä»¶ç”¨<code>&lt;slot&gt;</code>æ ‡ç­¾æ¥ç¡®å®šæ¸²æŸ“çš„ä½ç½®ï¼Œæ ‡ç­¾é‡Œé¢å¯ä»¥æ”¾<code>DOM</code>ç»“æ„ï¼Œå½“çˆ¶ç»„ä»¶ä½¿ç”¨çš„æ—¶å€™æ²¡æœ‰å¾€æ’æ§½ä¼ å…¥å†…å®¹ï¼Œæ ‡ç­¾å†…<code>DOM</code>ç»“æ„å°±ä¼šæ˜¾ç¤ºåœ¨é¡µé¢</p><p>çˆ¶ç»„ä»¶åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œç›´æ¥åœ¨å­ç»„ä»¶çš„æ ‡ç­¾å†…å†™å…¥å†…å®¹å³å¯</p></li></ul></li><li><p>å…·åæ’æ§½</p><ul><li><p>å­ç»„ä»¶ç”¨<code>name</code>å±æ€§æ¥è¡¨ç¤ºæ’æ§½çš„åå­—ï¼Œä¸ä¼ ä¸ºé»˜è®¤æ’æ§½</p><p>çˆ¶ç»„ä»¶ä¸­åœ¨ä½¿ç”¨æ—¶åœ¨é»˜è®¤æ’æ§½çš„åŸºç¡€ä¸ŠåŠ ä¸Š<code>slot</code>å±æ€§ï¼Œå€¼ä¸ºå­ç»„ä»¶æ’æ§½<code>name</code>å±æ€§å€¼</p></li></ul></li><li><p>ä½œç”¨åŸŸæ’æ§½</p><ul><li><p>å­ç»„ä»¶åœ¨ä½œç”¨åŸŸä¸Šç»‘å®šå±æ€§æ¥å°†å­ç»„ä»¶çš„ä¿¡æ¯ä¼ ç»™çˆ¶ç»„ä»¶ä½¿ç”¨ï¼Œè¿™äº›å±æ€§ä¼šè¢«æŒ‚åœ¨çˆ¶ç»„ä»¶<code>v-slot</code>æ¥å—çš„å¯¹è±¡ä¸Š</p><p>çˆ¶ç»„ä»¶ä¸­åœ¨ä½¿ç”¨æ—¶é€šè¿‡<code>v-slot:</code>ï¼ˆç®€å†™ï¼š#ï¼‰è·å–å­ç»„ä»¶çš„ä¿¡æ¯ï¼Œåœ¨å†…å®¹ä¸­ä½¿ç”¨</p></li></ul></li></ul></blockquote><h4 id="34ã€ä½¿ç”¨è¿‡-Vue-SSR-å—ï¼Ÿè¯´è¯´-SSRï¼Ÿ"><a href="#34ã€ä½¿ç”¨è¿‡-Vue-SSR-å—ï¼Ÿè¯´è¯´-SSRï¼Ÿ" class="headerlink" title="34ã€ä½¿ç”¨è¿‡ Vue SSR å—ï¼Ÿè¯´è¯´ SSRï¼Ÿ"></a>34ã€ä½¿ç”¨è¿‡ Vue SSR å—ï¼Ÿè¯´è¯´ SSRï¼Ÿ</h4><p>æœåŠ¡å™¨ç«¯æ¸²æŸ“</p><h4 id="35ã€è¯´è¯´ä½ å¯¹vueçš„mixinçš„ç†è§£ï¼Œæœ‰ä»€ä¹ˆåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#35ã€è¯´è¯´ä½ å¯¹vueçš„mixinçš„ç†è§£ï¼Œæœ‰ä»€ä¹ˆåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="35ã€è¯´è¯´ä½ å¯¹vueçš„mixinçš„ç†è§£ï¼Œæœ‰ä»€ä¹ˆåº”ç”¨åœºæ™¯ï¼Ÿ"></a>35ã€è¯´è¯´ä½ å¯¹vueçš„mixinçš„ç†è§£ï¼Œæœ‰ä»€ä¹ˆåº”ç”¨åœºæ™¯ï¼Ÿ</h4>]]></content>
      
      
      <categories>
          
          <category> é¢è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jsçŸ¥è¯†ç‚¹æ€»ç»“</title>
      <link href="/posts/2198.html"/>
      <url>/posts/2198.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h4 id="1ã€æ‰‹åŠ¨å®ç°é˜²æŠ–å’ŒèŠ‚æµ"><a href="#1ã€æ‰‹åŠ¨å®ç°é˜²æŠ–å’ŒèŠ‚æµ" class="headerlink" title="1ã€æ‰‹åŠ¨å®ç°é˜²æŠ–å’ŒèŠ‚æµ"></a>1ã€æ‰‹åŠ¨å®ç°<code>é˜²æŠ–</code>å’Œ<code>èŠ‚æµ</code></h4><blockquote><p><strong>é˜²æŠ–</strong>ï¼šäº‹ä»¶è¢«è§¦å‘ n ç§’åå†æ‰§è¡Œå›è°ƒï¼Œå¦‚æœåœ¨è¿™ n ç§’å†…äº‹ä»¶åˆè¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶,ï¼Œé˜²æ­¢åœ¨çŸ­æ—¶é—´å†…è¿‡äºé¢‘ç¹çš„æ‰§è¡Œç›¸åŒçš„ä»»åŠ¡ã€‚å½“çŸ­æ—¶é—´å†…çš„é¢‘ç¹æ˜¯ä¸å¿…è¦çš„æ—¶å€™ï¼Œå°±å¯ä»¥è€ƒè™‘å»æŠ–åŠ¨ï¼Œé¿å…èµ„æºæµªè´¹ï¼Œæˆ–é€ æˆä¸å‹å¥½çš„ä½“éªŒã€‚</p><p><strong>èŠ‚æµ</strong>ï¼šè§„å®šä¸€ä¸ªå•ä½æ—¶é—´ï¼Œåœ¨è¿™ä¸ªå•ä½æ—¶é—´å†…ï¼Œåªèƒ½æœ‰ä¸€æ¬¡è§¦å‘äº‹ä»¶çš„å›è°ƒå‡½æ•°æ‰§è¡Œï¼Œå¦‚æœåœ¨åŒä¸€ä¸ªå•ä½æ—¶é—´å†…æŸäº‹ä»¶è¢«è§¦å‘å¤šæ¬¡ï¼Œåªæœ‰ä¸€æ¬¡èƒ½ç”Ÿæ•ˆ</p><p><strong>é˜²æŠ–å‡½æ•°çš„åº”ç”¨åœºæ™¯ï¼š</strong></p><ul><li>æŒ‰é’®æäº¤åœºæ™¯ï¼šé˜²â½Œå¤šæ¬¡æäº¤æŒ‰é’®ï¼Œåªæ‰§â¾æœ€åæäº¤çš„â¼€æ¬¡</li><li>æœåŠ¡ç«¯éªŒè¯åœºæ™¯ï¼šè¡¨å•éªŒè¯éœ€è¦æœåŠ¡ç«¯é…åˆï¼Œåªæ‰§â¾â¼€æ®µè¿ç»­çš„è¾“â¼Šäº‹ä»¶çš„æœ€åâ¼€æ¬¡ï¼Œè¿˜æœ‰æœç´¢è”æƒ³è¯åŠŸèƒ½ç±»ä¼¼â½£å­˜ç¯å¢ƒè¯·â½¤lodash.debounce</li></ul><p><strong>èŠ‚æµå‡½æ•°çš„é€‚â½¤åœºæ™¯ï¼š</strong></p><ul><li>æ‹–æ‹½åœºæ™¯ï¼šå›ºå®šæ—¶é—´å†…åªæ‰§â¾â¼€æ¬¡ï¼Œé˜²â½Œè¶…â¾¼é¢‘æ¬¡è§¦å‘ä½ç½®å˜åŠ¨</li><li>ç¼©æ”¾åœºæ™¯ï¼šç›‘æ§æµè§ˆå™¨resize</li><li>åŠ¨ç”»åœºæ™¯ï¼šé¿å…çŸ­æ—¶é—´å†…å¤šæ¬¡è§¦å‘åŠ¨ç”»å¼•èµ·æ€§èƒ½é—®é¢˜</li></ul></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * debounce é˜²æŠ–</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fn [function] éœ€è¦é˜²æŠ–çš„å‡½æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> delay [number] æ¯«ç§’ï¼Œé˜²æŠ–æœŸé™å€¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">fn, delay</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="literal">null</span>; <span class="comment">//å€ŸåŠ©é—­åŒ…</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">...arg</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">      <span class="comment">//è¿›å…¥è¯¥åˆ†æ”¯è¯­å¥ï¼Œè¯´æ˜å½“å‰æ­£åœ¨ä¸€ä¸ªè®¡æ—¶è¿‡ç¨‹ä¸­ï¼Œå¹¶ä¸”åˆè§¦å‘äº†ç›¸åŒäº‹ä»¶ã€‚</span></span><br><span class="line">      <span class="comment">// æ‰€ä»¥è¦å–æ¶ˆå½“å‰çš„è®¡æ—¶ï¼Œé‡æ–°å¼€å§‹è®¡æ—¶</span></span><br><span class="line">      <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">    &#125;</span><br><span class="line">    timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, arg); <span class="comment">// ä½¿ç”¨applyå°†fnå‡½æ•°çš„thisæŒ‡å‘ä¿®æ”¹ä¸ºreturnåçš„function</span></span><br><span class="line">    &#125;, delay); <span class="comment">// è¿›å…¥è¯¥åˆ†æ”¯è¯´æ˜å½“å‰å¹¶æ²¡æœ‰åœ¨è®¡æ—¶ï¼Œé‚£ä¹ˆå°±å¼€å§‹ä¸€ä¸ªè®¡æ—¶</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * debounce èŠ‚æµ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fn [function] éœ€è¦èŠ‚æµçš„å‡½æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> delay [number] æ¯«ç§’</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">throttle</span>(<span class="params">fn, delay</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> valid = <span class="literal">false</span>; <span class="comment">// èŠ‚æµé˜€</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">...arg</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (valid) &#123;</span><br><span class="line">      <span class="comment">//ä¼‘æ¯æ—¶é—´ æš‚ä¸æ¥å®¢</span></span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å·¥ä½œæ—¶é—´ï¼Œæ‰§è¡Œå‡½æ•°å¹¶ä¸”åœ¨é—´éš”æœŸå†…æŠŠçŠ¶æ€ä½è®¾ä¸ºæ— æ•ˆ</span></span><br><span class="line">    valid = <span class="literal">true</span>;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, arg);</span><br><span class="line">      valid = <span class="literal">false</span>;</span><br><span class="line">    &#125;, delay);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2ã€letã€constã€var-çš„åŒºåˆ«"><a href="#2ã€letã€constã€var-çš„åŒºåˆ«" class="headerlink" title="2ã€letã€constã€var çš„åŒºåˆ«"></a>2ã€letã€constã€var çš„åŒºåˆ«</h4><blockquote><p><strong>1.æ˜¯å¦å­˜åœ¨å˜é‡æå‡ï¼Ÿ</strong></p><ul><li><p><code>var</code>å£°æ˜çš„å˜é‡å­˜åœ¨å˜é‡æå‡ï¼ˆå°†å˜é‡æå‡åˆ°å½“å‰<a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Scope">ä½œç”¨åŸŸ</a>çš„é¡¶éƒ¨ï¼‰ã€‚å³å˜é‡å¯ä»¥åœ¨å£°æ˜ä¹‹å‰è°ƒç”¨ï¼Œå€¼ä¸º<code>undefined</code></p></li><li><p><code>let</code>å’Œ<code>const</code>ä¸å­˜åœ¨å˜é‡æå‡ã€‚å³å®ƒä»¬æ‰€å£°æ˜çš„å˜é‡ä¸€å®šè¦åœ¨å£°æ˜åä½¿ç”¨ï¼Œå¦åˆ™æŠ¥<code>ReferenceError</code>é”™</p></li></ul><p><strong>2.æ˜¯å¦å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Ÿ</strong></p><p><code>letå’Œconstå­˜åœ¨æš‚æ—¶æ€§æ­»åŒº</code>ã€‚å³åªè¦å—çº§ä½œç”¨åŸŸå†…å­˜åœ¨ let å‘½ä»¤ï¼Œå®ƒæ‰€å£°æ˜çš„å˜é‡å°±â€œç»‘å®šâ€ï¼ˆbindingï¼‰è¿™ä¸ªåŒºåŸŸï¼Œä¸å†å—å¤–éƒ¨çš„å½±å“</p><p><strong>3.æ˜¯å¦å…è®¸é‡å¤å£°æ˜å˜é‡ï¼Ÿ</strong></p><ul><li><p><code>var</code>å…è®¸é‡å¤å£°æ˜å˜é‡ã€‚</p></li><li><p><code>let</code>å’Œ<code>const</code>åœ¨åŒä¸€ä½œç”¨åŸŸä¸å…è®¸é‡å¤å£°æ˜å˜é‡ã€‚</p></li></ul><p><strong>4.æ˜¯å¦å­˜åœ¨å—çº§ä½œç”¨åŸŸï¼Ÿ</strong></p><ul><li>var ä¸å­˜åœ¨å—çº§ä½œç”¨åŸŸã€‚</li><li>let å’Œ const å­˜åœ¨å—çº§ä½œç”¨åŸŸ<ul><li>å—ä½œç”¨åŸŸç”±<code>&#123; &#125;</code>åŒ…æ‹¬ï¼Œ<code>if</code>è¯­å¥å’Œ<code>for</code>è¯­å¥é‡Œé¢çš„<code>&#123; &#125;</code>ä¹Ÿå±äºå—ä½œç”¨åŸŸ</li></ul></li></ul><p><strong>5. æ˜¯å¦èƒ½ä¿®æ”¹å£°æ˜çš„å˜é‡ï¼Ÿ</strong></p><ul><li><code>var</code>å’Œ<code>let</code>å¯ä»¥ã€‚</li><li><code>const</code>å£°æ˜ä¸€ä¸ªåªè¯»çš„<strong>å¸¸é‡</strong>ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚<code>const</code>å£°æ˜çš„å˜é‡ä¸å¾—æ”¹å˜å€¼ï¼Œè¿™æ„å‘³ç€ï¼Œ<code>const</code>ä¸€æ—¦å£°æ˜å˜é‡ï¼Œå°±å¿…é¡»ç«‹å³åˆå§‹åŒ–ï¼Œä¸èƒ½ç•™åˆ°ä»¥åèµ‹å€¼ã€‚</li></ul></blockquote><h4 id="3ã€ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°åŒºåˆ«"><a href="#3ã€ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°åŒºåˆ«" class="headerlink" title="3ã€ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°åŒºåˆ«"></a>3ã€ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°åŒºåˆ«</h4><blockquote><p>1.ç®­å¤´å‡½æ•°æ˜¯åŒ¿åå‡½æ•°ï¼Œä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ï¼Œä¸èƒ½ä½¿ç”¨ new</p><p>2.ç®­å¤´å‡½æ•°å†…æ²¡æœ‰<code>arguments</code>ï¼Œå¯ä»¥ç”¨å±•å¼€è¿ç®—ç¬¦<code>...</code>è§£å†³</p><p>3.ç®­å¤´å‡½æ•°çš„ thisï¼Œå§‹ç»ˆæŒ‡å‘çˆ¶çº§ä¸Šä¸‹æ–‡ï¼ˆç®­å¤´å‡½æ•°çš„<code>this</code>å–å†³äºå®šä¹‰ä½ç½®<code>çˆ¶çº§çš„ä¸Šä¸‹æ–‡</code>ï¼Œè·Ÿä½¿ç”¨ä½ç½®æ²¡å…³ç³»ï¼Œæ™®é€šå‡½æ•°<code>this</code>æŒ‡å‘è°ƒç”¨çš„é‚£ä¸ªå¯¹è±¡ï¼‰</p><p>4.ç®­å¤´å‡½æ•°ä¸èƒ½é€šè¿‡<code>call() ã€ apply() ã€bind()</code>æ–¹æ³•ç›´æ¥ä¿®æ”¹å®ƒçš„ this æŒ‡å‘ã€‚(<code>callã€applyã€bind</code>ä¼šé»˜è®¤å¿½ç•¥ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä½†æ˜¯å¯ä»¥æ­£å¸¸ä¼ å‚)</p><p>5.ç®­å¤´å‡½æ•°æ²¡æœ‰åŸå‹å±æ€§</p></blockquote><h4 id="4ã€Promise"><a href="#4ã€Promise" class="headerlink" title="4ã€Promise"></a>4ã€Promise</h4><ul><li><p>çŠ¶æ€</p><ul><li><p><strong>è¿›è¡Œä¸­</strong>ï¼š<code>pending</code></p></li><li><p><strong>å·²æˆåŠŸ</strong>ï¼š<code>resolved</code></p></li><li><p><strong>å·²å¤±è´¥</strong>ï¼š<code>rejected</code></p></li></ul></li><li><p>ç‰¹ç‚¹</p><ul><li><p>å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“</p></li><li><p>ä¸€æ—¦çŠ¶æ€æ”¹å˜å°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯å¾—åˆ°è¿™ä¸ªç»“æœ</p></li></ul></li><li><p>å£°æ˜ï¼š<code>new Promise((resolve, reject) =&gt; &#123;&#125;)</code></p></li><li><p>å‡ºå‚</p><ul><li><p><strong>resolve</strong>ï¼šå°†çŠ¶æ€ä»<code>æœªå®Œæˆ</code>å˜ä¸º<code>æˆåŠŸ</code>ï¼Œåœ¨å¼‚æ­¥æ“ä½œæˆåŠŸæ—¶è°ƒç”¨ï¼Œå¹¶å°†å¼‚æ­¥æ“ä½œçš„ç»“æœä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»</p></li><li><p><strong>reject</strong>ï¼šå°†çŠ¶æ€ä»<code>æœªå®Œæˆ</code>å˜ä¸º<code>å¤±è´¥</code>ï¼Œåœ¨å¼‚æ­¥æ“ä½œå¤±è´¥æ—¶è°ƒç”¨ï¼Œå¹¶å°†å¼‚æ­¥æ“ä½œçš„é”™è¯¯ä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»</p></li></ul></li></ul><p><strong>â‘  ä»€ä¹ˆæ˜¯ Promiseï¼Ÿ</strong></p><ul><li>Promiseï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ª<code>å®¹å™¨</code>ï¼ŒåŒ…å«å¼‚æ­¥æ“ä½œç»“æœçš„å¯¹è±¡</li><li>ä»è¯­æ³•ä¸Šè¯´ï¼Œ<strong>promise</strong> æ˜¯ä¸€ä¸ª<code>å¯¹è±¡</code>ï¼Œä»å®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„çš„æœ€ç»ˆçŠ¶æ€ï¼ˆæˆåŠŸæˆ–å¤±è´¥ï¼‰ã€‚</li><li>Promise æ˜¯ä¸€ä¸ª<code>æ„é€ å‡½æ•°</code>ï¼Œå¯¹å¤–æä¾›ç»Ÿä¸€çš„ APIï¼Œè‡ªå·±èº«ä¸Šæœ‰ allã€rejectã€resolve ç­‰æ–¹æ³•ï¼ŒåŸå‹ä¸Šæœ‰ thenã€catch ç­‰æ–¹æ³•ã€‚</li></ul><p><strong>â‘¡ Promise æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</strong></p><p>è§£å†³å›è°ƒåœ°ç‹±</p><p>ps:ä»€ä¹ˆæ˜¯å›è°ƒåœ°ç‹±ï¼Ÿå›è°ƒåœ°ç‹±ï¼Œå…¶å®ç®€å•æ¥è¯´å°±æ˜¯å¼‚æ­¥å›è°ƒå‡½æ•°çš„åµŒå¥—</p><p><strong>â‘¢Promise æœ‰å“ªäº›æ–¹æ³•</strong></p><ul><li><p><strong>then()ï¼š</strong>åˆ†åˆ«æŒ‡å®š<code>resolvedçŠ¶æ€</code>å’Œ<code>rejectedçŠ¶æ€</code>çš„å›è°ƒå‡½æ•°</p><ul><li><p><strong>ç¬¬ä¸€å‚æ•°</strong>ï¼šçŠ¶æ€å˜ä¸º<code>resolved</code>æ—¶è°ƒç”¨</p></li><li><p><strong>ç¬¬äºŒå‚æ•°</strong>ï¼šçŠ¶æ€å˜ä¸º<code>rejected</code>æ—¶è°ƒç”¨(å¯é€‰)</p></li><li><p><strong>é“¾å¼è°ƒç”¨ promise.then()</strong>ï¼š<strong><code>then</code> æ–¹æ³•è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå…¶å…è®¸æ–¹æ³•é“¾ï¼Œä»è€Œåˆ›å»ºä¸€ä¸ª promise é“¾</strong></p></li></ul></li></ul><ul><li><p><strong>catch()</strong>ï¼šæŒ‡å®šå‘ç”Ÿé”™è¯¯æ—¶çš„å›è°ƒå‡½æ•°</p></li><li><p><strong>Promise.resolve()</strong>ï¼šå°†å¯¹è±¡è½¬ä¸º Promise å¯¹è±¡ ç­‰ä»·äº <code>new Promise(resolve =&gt; resolve())</code></p><ul><li><p><strong>Promise å®ä¾‹</strong>ï¼šåŸå°ä¸åŠ¨åœ°è¿”å›å…¥å‚</p></li><li><p><strong>thenable å¯¹è±¡</strong>ï¼š</p><p><code>thenable</code>å¯¹è±¡æŒ‡çš„æ˜¯å…·æœ‰<code>then</code>æ–¹æ³•çš„å¯¹è±¡</p><p><code>Promise.resolve</code>æ–¹æ³•ä¼šå°†è¿™ä¸ªå¯¹è±¡è½¬ä¸º Promise å¯¹è±¡ï¼Œç„¶åå°±ç«‹å³æ‰§è¡Œ<code>thenable</code>å¯¹è±¡çš„<code>then</code>æ–¹æ³•</p></li><li><p><strong>ä¸å…·æœ‰ then()çš„å¯¹è±¡</strong>ï¼šå°†æ­¤å¯¹è±¡è½¬ä¸º Promise å¯¹è±¡å¹¶è¿”å›ï¼ŒçŠ¶æ€ä¸º<code>resolved</code></p></li><li><p><strong>ä¸å¸¦å‚æ•°</strong>ï¼šè¿”å› Promise å¯¹è±¡ï¼ŒçŠ¶æ€ä¸º<code>resolved</code></p></li></ul></li><li><p><strong>Promise.reject()</strong>ï¼šå°†å¯¹è±¡è½¬ä¸ºçŠ¶æ€ä¸º<code>rejected</code>çš„ Promise å¯¹è±¡(ç­‰ä»·äº<code>new Promise((resolve, reject) =&gt; reject())</code>)</p></li><li><p><strong>Promise.all()ï¼š</strong></p><p>å¹¶å‘ï¼Œ<strong>å‘èµ·å¤šä¸ªå¹¶å‘è¯·æ±‚</strong>ï¼Œå°†å¤šä¸ªå®ä¾‹åŒ…è£…æˆä¸€ä¸ªæ–°å®ä¾‹ï¼ˆæ•°ç»„å½¢å¼ï¼‰ï¼Œç„¶ååœ¨æ‰€æœ‰ promise éƒ½è¢«è§£å†³åæ‰§è¡Œä¸€äº›æ“ä½œ(é½å˜æ›´å†è¿”å›)</p><ul><li>æˆåŠŸï¼šåªæœ‰å…¨éƒ¨å®ä¾‹çŠ¶æ€å˜æˆ<code>fulfilled</code>ï¼ˆ æˆåŠŸ ï¼‰ï¼Œæœ€ç»ˆçŠ¶æ€æ‰ä¼šå˜æˆ<code>fulfilled</code></li><li>å¤±è´¥ï¼šå…¶ä¸­ä¸€ä¸ªå®ä¾‹çŠ¶æ€å˜æˆ<code>rejected</code>ï¼Œæœ€ç»ˆçŠ¶æ€å°±ä¼šå˜æˆ<code>rejected</code></li><li>æ¯ä¸€ä¸ª promise æˆåŠŸçš„å€¼ï¼Œä¼šæŒ‰ç…§ä¼ å…¥çš„é¡ºåºè¿”å›æ•°ç»„å†…</li><li>ç”¨ all æ–¹æ³•è¿›è¡Œæ¥å£è¯·æ±‚ï¼Œå°±ç®—å…¶ä¸­æœ‰å¤±è´¥çš„æƒ…å†µï¼Œåˆ«çš„è¯·æ±‚ä¹Ÿä¼šè¿›è¡Œï¼Œä½†æœ€åçš„çŠ¶æ€è¿˜æ˜¯<code>rejected</code></li></ul></li><li><p><strong>Promise.race()ï¼š</strong></p><p>èµ›è·‘æœºåˆ¶</p><p>å°†å¤šä¸ªå®ä¾‹åŒ…è£…æˆä¸€ä¸ªæ–°å®ä¾‹ï¼Œè¿”å›å…¨éƒ¨å®ä¾‹çŠ¶æ€ä¼˜å…ˆå˜æ›´åçš„ç»“æœ(å…ˆå˜æ›´å…ˆè¿”å›)</p><ul><li>æˆåŠŸå¤±è´¥ï¼šå“ªä¸ªå®ä¾‹ç‡å…ˆæ”¹å˜çŠ¶æ€å°±è¿”å›å“ªä¸ªå®ä¾‹çš„çŠ¶æ€</li></ul></li></ul><ul><li><strong>Promise.finally()</strong>ï¼šæŒ‡å®šä¸ç®¡æœ€åçŠ¶æ€å¦‚ä½•éƒ½ä¼šæ‰§è¡Œçš„å›è°ƒå‡½æ•°</li><li><strong>Promise.allSettled()</strong>â­ï¼šå°†å¤šä¸ªå®ä¾‹åŒ…è£…æˆä¸€ä¸ªæ–°å®ä¾‹ï¼Œè¿”å›å…¨éƒ¨å®ä¾‹çŠ¶æ€å˜æ›´åçš„çŠ¶æ€æ•°ç»„(é½å˜æ›´å†è¿”å›)<ul><li>æˆåŠŸï¼šæˆå‘˜åŒ…å«<code>status</code>å’Œ<code>value</code>ï¼Œ<code>status</code>ä¸º<code>fulfilled</code>ï¼Œ<code>value</code>ä¸ºè¿”å›å€¼</li><li>å¤±è´¥ï¼šæˆå‘˜åŒ…å«<code>status</code>å’Œ<code>value</code>ï¼Œ<code>status</code>ä¸º<code>rejected</code>ï¼Œ<code>value</code>ä¸ºé”™è¯¯åŸå› </li></ul></li><li><strong>Promise.any()</strong>ï¼šå°†å¤šä¸ªå®ä¾‹åŒ…è£…æˆä¸€ä¸ªæ–°å®ä¾‹ï¼Œè¿”å›å…¨éƒ¨å®ä¾‹çŠ¶æ€å˜æ›´åçš„ç»“æœæ•°ç»„(é½å˜æ›´å†è¿”å›)</li></ul><ul><li><p>æˆåŠŸï¼šå…¶ä¸­ä¸€ä¸ªå®ä¾‹çŠ¶æ€å˜æˆ<code>fulfilled</code>ï¼Œæœ€ç»ˆçŠ¶æ€å°±ä¼šå˜æˆ<code>fulfilled</code></p></li><li><p>å¤±è´¥ï¼šåªæœ‰å…¨éƒ¨å®ä¾‹çŠ¶æ€å˜æˆ<code>rejected</code>ï¼Œæœ€ç»ˆçŠ¶æ€æ‰ä¼šå˜æˆ<code>rejected</code></p></li></ul><ul><li><strong>Promise.try()</strong>ï¼šä¸æƒ³åŒºåˆ†æ˜¯å¦åŒæ­¥å¼‚æ­¥å‡½æ•°ï¼ŒåŒ…è£…å‡½æ•°ä¸ºå®ä¾‹ï¼Œä½¿ç”¨<code>then()</code>æŒ‡å®šä¸‹ä¸€æ­¥æµç¨‹ï¼Œä½¿ç”¨<code>catch()</code>æ•è·é”™è¯¯</li></ul><p><strong>å¸¸è§çš„é”™è¯¯</strong></p><ul><li><p><code>Uncaught TypeError: undefined is not a promise</code></p><p>å¦‚æœåœ¨æ§åˆ¶å°ä¸­æ”¶åˆ° <code>Uncaught TypeError: undefined is not a promise</code> é”™è¯¯ï¼Œåˆ™è¯·ç¡®ä¿ä½¿ç”¨ <code>new Promise()</code> è€Œä¸æ˜¯ <code>Promise()</code></p></li><li><p><strong><code>UnhandledPromiseRejectionWarning</code></strong></p><p>è¿™æ„å‘³ç€è°ƒç”¨çš„ promise è¢«æ‹’ç»ï¼Œä½†æ˜¯æ²¡æœ‰ç”¨äºå¤„ç†é”™è¯¯çš„ catchã€‚ åœ¨ then ä¹‹åæ·»åŠ  catch åˆ™å¯ä»¥æ­£ç¡®åœ°å¤„ç†</p></li></ul><blockquote><p>æ‰©å±•ï¼š<a href="https://juejin.cn/post/7043758954496655397#heading-2">æ‰‹å†™ Promise</a></p></blockquote><h4 id="5ã€æ•°æ®ç±»å‹"><a href="#5ã€æ•°æ®ç±»å‹" class="headerlink" title="5ã€æ•°æ®ç±»å‹"></a>5ã€æ•°æ®ç±»å‹</h4><p>åŸå§‹æ•°æ®ç±»å‹ï¼ˆ<strong>åŸºæœ¬ç±»å‹</strong>ï¼‰ï¼šæŒ‰å€¼è®¿é—®ï¼Œå¯ä»¥æ“ä½œä¿å­˜åœ¨å˜é‡ä¸­å®é™…çš„å€¼ã€‚</p><ul><li><strong>ç©ºå€¼</strong>ï¼ˆ<code>null</code>ï¼‰ï¼šç”¨äºæœªçŸ¥çš„å€¼ â€”â€” åªæœ‰ä¸€ä¸ª <code>null</code> å€¼çš„ç‹¬ç«‹ç±»å‹ã€‚</li><li><strong>æœªå®šä¹‰</strong>ï¼ˆ<code>undefined</code>ï¼‰: ç”¨äºæœªå®šä¹‰çš„å€¼ â€”â€” åªæœ‰ä¸€ä¸ª <code>undefined</code> å€¼çš„ç‹¬ç«‹ç±»å‹ã€‚</li><li><strong>å¸ƒå°”å€¼</strong>ï¼ˆ<code>boolean</code>ï¼‰ï¼šç”¨äº <code>true</code> å’Œ <code>false</code>ã€‚</li><li><strong>æ•°å­—</strong>ï¼ˆ<code>number</code>ï¼‰ï¼šç”¨äºä»»ä½•ç±»å‹çš„æ•°å­—ï¼šæ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼Œåœ¨ <code>Â±(253-1)</code> èŒƒå›´å†…çš„æ•´æ•°ã€‚</li><li><strong>å­—ç¬¦ä¸²</strong>ï¼ˆ<code>string</code>ï¼‰ï¼šç”¨äºå­—ç¬¦ä¸²ï¼šä¸€ä¸ªå­—ç¬¦ä¸²å¯ä»¥åŒ…å« 0 ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥æ²¡æœ‰å•ç‹¬çš„å•å­—ç¬¦ç±»å‹ã€‚</li><li><strong>ç¬¦å·</strong>ï¼ˆ<code>symbol</code>ï¼‰:ç”¨äºå”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚</li><li>BigInt:ä¸€ç§æ•°å­—ç±»å‹,å¯ä»¥è¡¨ç¤ºä»»æ„ç²¾åº¦æ ¼å¼çš„æ•´æ•°</li></ul><p>å¼•ç”¨ç±»å‹ï¼ˆ<strong>å¤æ‚æ•°æ®ç±»å‹</strong>ï¼‰ï¼šå¼•ç”¨ç±»å‹çš„å€¼æ˜¯ä¿å­˜åœ¨å†…å­˜ä¸­çš„å¯¹è±¡ã€‚</p><ul><li>å¯¹è±¡ï¼ˆ<strong>Object</strong>ï¼‰<ul><li>æ•°ç»„å¯¹è±¡ï¼ˆArrayï¼‰</li><li>å‡½æ•°å¯¹è±¡ï¼ˆFunctionï¼‰</li><li>å¸ƒå°”å¯¹è±¡ï¼ˆBooleanï¼‰</li><li>æ•°å­—å¯¹è±¡ï¼ˆNumberï¼‰</li><li>å­—ç¬¦ä¸²å¯¹è±¡ï¼ˆStringï¼‰</li><li>æ—¥æœŸå¯¹è±¡ï¼ˆDateï¼‰</li><li>æ­£åˆ™å¯¹è±¡ï¼ˆRegExpï¼‰</li><li>é”™è¯¯å¯¹è±¡ï¼ˆErrorï¼‰</li></ul></li></ul><blockquote><p>âš ï¸ <strong>æ³¨æ„</strong>ï¼š ä¸å…¶ä»–è¯­è¨€ä¸åŒçš„æ˜¯ï¼ŒJavaScript ä¸å…è®¸ç›´æ¥è®¿é—®å†…å­˜ä¸­çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½ç›´æ¥æ“ä½œå¯¹è±¡çš„å†…å­˜ç©ºé—´ã€‚åœ¨æ“ä½œå¯¹è±¡æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨æ“ä½œå¯¹è±¡çš„å¼•ç”¨è€Œä¸æ˜¯å®é™…çš„å¯¹è±¡ã€‚æ‰€ä»¥å¼•ç”¨ç±»å‹çš„å€¼æ˜¯æŒ‰å¼•ç”¨è®¿é—®çš„ã€‚</p></blockquote><h4 id="6ã€æ£€æµ‹æ•°æ®ç±»å‹çš„å¸¸ç”¨æ–¹æ³•"><a href="#6ã€æ£€æµ‹æ•°æ®ç±»å‹çš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="6ã€æ£€æµ‹æ•°æ®ç±»å‹çš„å¸¸ç”¨æ–¹æ³•"></a>6ã€æ£€æµ‹æ•°æ®ç±»å‹çš„å¸¸ç”¨æ–¹æ³•</h4><blockquote><p><strong>typeofã€instanceofã€constructorã€Object.prototype.toString.call()</strong></p></blockquote><h6 id="1-typeof"><a href="#1-typeof" class="headerlink" title="1 .typeof"></a>1 .typeof</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">  <span class="keyword">typeof</span> <span class="number">100</span>, <span class="comment">//&quot;number&quot;</span></span><br><span class="line">  <span class="keyword">typeof</span> <span class="literal">undefined</span>, <span class="comment">//&quot;undefined&quot;</span></span><br><span class="line">  <span class="keyword">typeof</span> <span class="literal">null</span>, <span class="comment">//&quot;object&quot;</span></span><br><span class="line">  <span class="keyword">typeof</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">  &#125;, <span class="comment">//&quot;function&quot;</span></span><br><span class="line">  <span class="keyword">typeof</span> <span class="keyword">new</span> <span class="title class_">Number</span>(<span class="number">100</span>), <span class="comment">//&#x27;object&#x27;</span></span><br><span class="line">  <span class="keyword">typeof</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;abc&quot;</span>), <span class="comment">// &#x27;string&#x27;</span></span><br><span class="line">  <span class="keyword">typeof</span> <span class="keyword">new</span> <span class="title class_">Boolean</span>(<span class="literal">true</span>) <span class="comment">//&#x27;boolean&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><blockquote><p>typeof å¯ä»¥æ­£å¸¸æ£€æµ‹å‡ºï¼šnumberã€booleanã€stringã€objectã€functionã€undefinedã€symbolã€bigint</p><ul><li>æ£€æµ‹åŸºæœ¬æ•°æ®ç±»å‹ï¼Œnull ä¼šæ£€æµ‹ objectï¼Œå› ä¸º null æ˜¯ä¸€ä¸ªç©ºçš„å¼•ç”¨å¯¹è±¡</li><li>æ£€æµ‹å¤æ‚æ•°æ®ç±»å‹ï¼Œé™¤ function å¤–ï¼Œå‡ä¸º object</li></ul></blockquote><h6 id="2-instanceof"><a href="#2-instanceof" class="headerlink" title="2 . instanceof"></a><strong>2 . instanceof</strong></h6><p><code>instanceof</code> è¿ç®—ç¬¦éœ€è¦æŒ‡å®šä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæˆ–è€…è¯´æŒ‡å®šä¸€ä¸ªç‰¹å®šçš„ç±»å‹ï¼Œç”¨æ¥åˆ¤æ–­è¿™ä¸ªæ„é€ å‡½æ•°çš„åŸå‹æ˜¯å¦åœ¨ç»™å®šå¯¹è±¡çš„åŸå‹é“¾ä¸Š</p><blockquote><p>åŸºæœ¬æ•°æ®ç±»å‹ä¸­ï¼šNumberï¼ŒStringï¼ŒBooleanã€‚å­—é¢é‡å€¼ä¸å¯ä»¥ç”¨ instanceof æ£€æµ‹ï¼Œä½†æ˜¯æ„é€ å‡½æ•°åˆ›å»ºçš„å€¼å¯ä»¥</p><p>æ³¨æ„ï¼šnull å’Œ undefined éƒ½è¿”å›äº† falseï¼Œè¿™æ˜¯å› ä¸ºå®ƒä»¬çš„ç±»å‹å°±æ˜¯è‡ªå·±æœ¬èº«ï¼Œå¹¶ä¸æ˜¯ Object åˆ›å»ºå‡ºæ¥å®ƒä»¬ï¼Œæ‰€ä»¥è¿”å›äº† falseã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">  <span class="number">100</span> <span class="keyword">instanceof</span> <span class="title class_">Number</span>, <span class="comment">//false</span></span><br><span class="line">  <span class="literal">undefined</span> <span class="keyword">instanceof</span> <span class="title class_">Object</span>, <span class="comment">//false</span></span><br><span class="line">  [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] <span class="keyword">instanceof</span> <span class="title class_">Array</span>, <span class="comment">//true</span></span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Error</span>() <span class="keyword">instanceof</span> <span class="title class_">Error</span> <span class="comment">//true</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><h6 id="3-constructor"><a href="#3-constructor" class="headerlink" title="3 .constructor"></a><strong>3 .constructor</strong></h6><p>constructor æ˜¯ prototype å¯¹è±¡ä¸Šçš„å±æ€§ï¼ŒæŒ‡å‘æ„é€ å‡½æ•°ã€‚æ ¹æ®å®ä¾‹å¯¹è±¡å¯»æ‰¾å±æ€§çš„é¡ºåºï¼Œè‹¥å®ä¾‹å¯¹è±¡ä¸Šæ²¡æœ‰å®ä¾‹å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œå°±å»åŸå‹é“¾ä¸Šå¯»æ‰¾ï¼Œå› æ­¤ï¼Œå®ä¾‹å¯¹è±¡ä¹Ÿæ˜¯èƒ½ä½¿ç”¨ constructor å±æ€§çš„ã€‚å¯ä»¥æ£€æµ‹å‡ºå­—é¢é‡æ–¹å¼åˆ›å»ºçš„å¯¹è±¡ç±»å‹</p><p>å¦‚æœè¾“å‡ºä¸€ä¸ªç±»å‹çš„å®ä¾‹çš„ constructorï¼Œå°±å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">new</span> <span class="title class_">Number</span>(<span class="number">123</span>).<span class="property">constructor</span>);</span><br><span class="line"><span class="comment">//Æ’ Number() &#123; [native code] &#125;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å®ƒæŒ‡å‘äº† Number çš„æ„é€ å‡½æ•°ï¼Œå› æ­¤ï¼Œå¯ä»¥ä½¿ç”¨<code>num.constructor === Number</code>æ¥åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯ä¸æ˜¯ Number ç±»å‹çš„</p><p>é™¤äº† undefined å’Œ null ä¹‹å¤–ï¼Œå…¶ä»–ç±»å‹éƒ½å¯ä»¥é€šè¿‡ constructor å±æ€§æ¥åˆ¤æ–­ç±»å‹ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;abcdef&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> bool = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// undefinedå’Œnullæ²¡æœ‰constructorå±æ€§</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">  num.<span class="property">constructor</span> === <span class="title class_">Number</span>,</span><br><span class="line">  str.<span class="property">constructor</span> === <span class="title class_">String</span>,</span><br><span class="line">  bool.<span class="property">constructor</span> === <span class="title class_">Boolean</span>,</span><br><span class="line">  arr.<span class="property">constructor</span> === <span class="title class_">Array</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">//æ‰€æœ‰ç»“æœå‡ä¸ºtrue</span></span><br></pre></td></tr></table></figure><h6 id="4-ä½¿ç”¨-Object-prototype-toString-call-æ£€æµ‹å¯¹è±¡ç±»å‹â­"><a href="#4-ä½¿ç”¨-Object-prototype-toString-call-æ£€æµ‹å¯¹è±¡ç±»å‹â­" class="headerlink" title="4 . ä½¿ç”¨ Object.prototype.toString.call()æ£€æµ‹å¯¹è±¡ç±»å‹â­"></a><strong>4 . ä½¿ç”¨ Object.prototype.toString.call()æ£€æµ‹å¯¹è±¡ç±»å‹</strong>â­</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> toString = <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>;</span><br><span class="line"></span><br><span class="line">toString.<span class="title function_">call</span>(<span class="number">123</span>); <span class="comment">//&quot;[object Number]&quot;</span></span><br><span class="line">toString.<span class="title function_">call</span>(<span class="literal">undefined</span>); <span class="comment">//&quot;[object Undefined]&quot;</span></span><br><span class="line">toString.<span class="title function_">call</span>(<span class="literal">null</span>); <span class="comment">//&quot;[object Null]&quot;</span></span><br><span class="line">toString.<span class="title function_">call</span>(<span class="regexp">/^[a-zA-Z]&#123;5,20&#125;$/</span>); <span class="comment">//&quot;[object RegExp]&quot;</span></span><br><span class="line">toString.<span class="title function_">call</span>(<span class="keyword">new</span> <span class="title class_">Error</span>()); <span class="comment">//&quot;[object Error]&quot;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨<code>Object.prototype.toString.call(obj).slice(8ï¼Œ-1)</code>æ¥åˆ¤æ–­å¹¶æˆªå–</p><p>ä½¿ç”¨<code>Object.prototype.toString.call()</code>çš„æ–¹å¼æ¥åˆ¤æ–­ä¸€ä¸ªå˜é‡çš„ç±»å‹æ˜¯æœ€å‡†ç¡®çš„æ–¹æ³•</p><h6 id="5-è‡ªå·±å°è£…å‡½æ•°"><a href="#5-è‡ªå·±å°è£…å‡½æ•°" class="headerlink" title="5 . è‡ªå·±å°è£…å‡½æ•°"></a><strong>5 . è‡ªå·±å°è£…å‡½æ•°</strong></h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getType</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> type = <span class="keyword">typeof</span> obj;</span><br><span class="line">  <span class="keyword">if</span> (type !== <span class="string">&quot;object&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> type;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//å¦‚æœä¸æ˜¯objectç±»å‹çš„æ•°æ®ï¼Œç›´æ¥ç”¨typeofå°±èƒ½åˆ¤æ–­å‡ºæ¥</span></span><br><span class="line">  <span class="comment">//å¦‚æœæ˜¯objectç±»å‹æ•°æ®ï¼Œå‡†ç¡®åˆ¤æ–­ç±»å‹å¿…é¡»ä½¿ç”¨Object.prototype.toString.call(obj)çš„æ–¹å¼æ‰èƒ½åˆ¤æ–­</span></span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(obj).<span class="title function_">replace</span>(<span class="regexp">/^\[object (\S+)]$/</span>, <span class="string">&quot;$1&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="6ã€isArray"><a href="#6ã€isArray" class="headerlink" title="6ã€isArray"></a><strong>6ã€isArray</strong></h6><p>isArray å¯ä»¥æ£€æµ‹å‡ºæ˜¯å¦ä¸ºæ•°ç»„</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [];</span><br><span class="line"><span class="title class_">Array</span>.<span class="title function_">isArray</span>(arr); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h4 id="7ã€æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•æœ‰å“ªäº›"><a href="#7ã€æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•æœ‰å“ªäº›" class="headerlink" title="7ã€æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•æœ‰å“ªäº›"></a>7ã€æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•æœ‰å“ªäº›</h4><h5 id="ä¸€ã€æ“ä½œæ–¹æ³•"><a href="#ä¸€ã€æ“ä½œæ–¹æ³•" class="headerlink" title="ä¸€ã€æ“ä½œæ–¹æ³•"></a>ä¸€ã€æ“ä½œæ–¹æ³•</h5><h6 id="å¢"><a href="#å¢" class="headerlink" title="å¢"></a>å¢</h6><p>ä¸‹é¢å‰ä¸‰ç§æ˜¯å¯¹åŸæ•°ç»„äº§ç”Ÿå½±å“çš„å¢æ·»æ–¹æ³•ï¼Œç¬¬å››ç§åˆ™ä¸ä¼šå¯¹åŸæ•°ç»„äº§ç”Ÿå½±å“</p><blockquote><p>push( ) unshift( ) splice( ) concat( )</p></blockquote><p><strong>push()</strong></p><p><code>push()</code>æ–¹æ³•æ¥æ”¶ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ°æ•°ç»„æœ«å°¾ï¼Œè¿”å›æ•°ç»„çš„æœ€æ–°é•¿åº¦</p><p><strong>unshift()</strong></p><p>unshift()åœ¨æ•°ç»„å¼€å¤´æ·»åŠ ä»»æ„å¤šä¸ªå€¼ï¼Œç„¶åè¿”å›æ–°çš„æ•°ç»„é•¿åº¦</p><p><strong>splice</strong></p><p>ä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯å¼€å§‹ä½ç½®ã€0ï¼ˆè¦åˆ é™¤çš„å…ƒç´ æ•°é‡ï¼‰ã€æ’å…¥çš„å…ƒç´ ï¼Œè¿”å›çš„æ˜¯ç©ºæ•°ç»„</p><p><strong>concat()</strong></p><p>åˆå¹¶</p><p>é¦–å…ˆä¼šåˆ›å»ºä¸€ä¸ªå½“å‰æ•°ç»„çš„å‰¯æœ¬ï¼Œç„¶åå†æŠŠå®ƒçš„å‚æ•°æ·»åŠ åˆ°å‰¯æœ¬æœ«å°¾ï¼Œæœ€åè¿”å›è¿™ä¸ªæ–°æ„å»ºçš„æ•°ç»„ï¼Œä¸ä¼šå½±å“åŸå§‹æ•°ç»„</p><p><code>let colors = [&quot;red&quot;].concat(&quot;yellow&quot;, [&quot;black&quot;]);// [&quot;red&quot;, &quot;yellow&quot;, &quot;black&quot;]</code></p><h6 id="åˆ "><a href="#åˆ " class="headerlink" title="åˆ "></a>åˆ </h6><p>ä¸‹é¢ä¸‰ç§éƒ½ä¼šå½±å“åŸæ•°ç»„ï¼Œæœ€åä¸€é¡¹ä¸å½±å“åŸæ•°ç»„ï¼š</p><blockquote><p>pop() shift() splice() slice()</p></blockquote><p><strong>pop()</strong></p><p><code>pop()</code> æ–¹æ³•ç”¨äºåˆ é™¤æ•°ç»„çš„æœ€åä¸€é¡¹ï¼ŒåŒæ—¶å‡å°‘æ•°ç»„çš„<code>length</code> å€¼ï¼Œè¿”å›è¢«åˆ é™¤çš„é¡¹</p><p><strong>shift()</strong></p><p><code>shift()</code>æ–¹æ³•ç”¨äºåˆ é™¤æ•°ç»„çš„ç¬¬ä¸€é¡¹ï¼ŒåŒæ—¶å‡å°‘æ•°ç»„çš„<code>length</code> å€¼ï¼Œè¿”å›è¢«åˆ é™¤çš„é¡¹</p><p><strong>splice()</strong></p><p>ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯å¼€å§‹ä½ç½®ï¼Œåˆ é™¤å…ƒç´ çš„æ•°é‡ï¼Œè¿”å›åŒ…å«åˆ é™¤å…ƒç´ çš„æ•°ç»„</p><p><strong>slice()</strong></p><p>slice(å¼€å§‹ç´¢å¼•, ç»“æŸç´¢å¼•) ï¼Œè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œä¸ä¼šå½±å“åŸå§‹æ•°ç»„</p><h6 id="æ”¹"><a href="#æ”¹" class="headerlink" title="æ”¹"></a>æ”¹</h6><p>å³ä¿®æ”¹åŸæ¥æ•°ç»„çš„å†…å®¹ï¼Œå¸¸ç”¨<code>splice</code></p><p><strong>splice()</strong></p><p>ä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ï¼ˆå¼€å§‹ä½ç½®ï¼Œè¦åˆ é™¤å…ƒç´ çš„æ•°é‡ï¼Œè¦æ’å…¥çš„ä»»æ„å¤šä¸ªå…ƒç´ )ï¼Œè¿”å›åˆ é™¤å…ƒç´ çš„æ•°ç»„</p><p>ä¼šæ”¹å˜åŸæ•°ç»„</p><h6 id="æŸ¥"><a href="#æŸ¥" class="headerlink" title="æŸ¥"></a>æŸ¥</h6><p>æŸ¥æ‰¾å…ƒç´ ï¼Œè¿”å›å…ƒç´ åæ ‡æˆ–è€…å…ƒç´ å€¼</p><blockquote><p>indexOf( )  includes( )  find( )</p></blockquote><p><strong>indexOf()</strong></p><p>è¿”å›è¦æŸ¥æ‰¾çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼Œå¦‚æœæ²¡æ‰¾åˆ°åˆ™è¿”å› -1</p><p><strong>includes()</strong></p><p>è¿”å›è¦æŸ¥æ‰¾çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼Œæ‰¾åˆ°è¿”å›<code>true</code>ï¼Œå¦åˆ™<code>false</code></p><p><strong>find()</strong></p><p>è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ </p><h5 id="äºŒã€æ’åºæ–¹æ³•"><a href="#äºŒã€æ’åºæ–¹æ³•" class="headerlink" title="äºŒã€æ’åºæ–¹æ³•"></a>äºŒã€æ’åºæ–¹æ³•</h5><blockquote><p>reverse()sort()</p></blockquote><h6 id="reverse"><a href="#reverse" class="headerlink" title="reverse()"></a>reverse()</h6><p>ç¿»è½¬</p><h6 id="sort"><a href="#sort" class="headerlink" title="sort()"></a>sort()</h6><p>æ’åº</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sortArr</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a - b; <span class="comment">// å‡åº</span></span><br><span class="line">  <span class="keyword">return</span> b - a; <span class="comment">// é™åº</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="ä¸‰ã€è½¬æ¢æ–¹æ³•"><a href="#ä¸‰ã€è½¬æ¢æ–¹æ³•" class="headerlink" title="ä¸‰ã€è½¬æ¢æ–¹æ³•"></a>ä¸‰ã€è½¬æ¢æ–¹æ³•</h5><h6 id="join"><a href="#join" class="headerlink" title="join()"></a>join()</h6><p>join() æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå³å­—ç¬¦ä¸²åˆ†éš”ç¬¦ï¼Œè¿”å›åŒ…å«æ‰€æœ‰é¡¹çš„å­—ç¬¦ä¸²ï¼Œè½¬ä¸ºå­—ç¬¦ä¸²</p><h5 id="å››ã€è¿­ä»£æ–¹æ³•"><a href="#å››ã€è¿­ä»£æ–¹æ³•" class="headerlink" title="å››ã€è¿­ä»£æ–¹æ³•"></a>å››ã€è¿­ä»£æ–¹æ³•</h5><p>å¸¸ç”¨æ¥è¿­ä»£æ•°ç»„çš„æ–¹æ³•ï¼ˆé™¤ forEach å¤–å…¶ä»–éƒ½ä¸ä¼šå¯¹ç©ºæ•°ç»„è¿›â¾æ£€æµ‹ã€ä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„ï¼‰æœ‰å¦‚ä¸‹ï¼š</p><blockquote><p>some() every() forEach() filter() map()</p></blockquote><h6 id="some"><a href="#some" class="headerlink" title="some()"></a>some()</h6><p>å¯¹æ•°ç»„æ¯ä¸€é¡¹éƒ½è¿è¡Œä¼ å…¥çš„æµ‹è¯•å‡½æ•°ï¼Œå¦‚æœè‡³å°‘æœ‰ 1 ä¸ªå…ƒç´ è¿”å› true ï¼Œåˆ™è¿™ä¸ªæ–¹æ³•è¿”å› true</p><h6 id="every"><a href="#every" class="headerlink" title="every()"></a>every()</h6><p>å¯¹æ•°ç»„æ¯ä¸€é¡¹éƒ½è¿è¡Œä¼ å…¥çš„æµ‹è¯•å‡½æ•°ï¼Œå¦‚æœæ‰€æœ‰å…ƒç´ éƒ½è¿”å› true ï¼Œåˆ™è¿™ä¸ªæ–¹æ³•è¿”å› true</p><h6 id="forEach"><a href="#forEach" class="headerlink" title="forEach()"></a>forEach()</h6><p>å¯¹æ•°ç»„æ¯ä¸€é¡¹éƒ½è¿è¡Œä¼ å…¥çš„å‡½æ•°ï¼Œæ²¡æœ‰è¿”å›å€¼</p><h6 id="filter"><a href="#filter" class="headerlink" title="filter()"></a>filter()</h6><p>å¯¹æ•°ç»„æ¯ä¸€é¡¹éƒ½è¿è¡Œä¼ å…¥çš„å‡½æ•°ï¼Œå‡½æ•°è¿”å› <code>true</code> çš„é¡¹ä¼šç»„æˆæ•°ç»„ä¹‹åè¿”å›</p><h6 id="map"><a href="#map" class="headerlink" title="map()"></a>map()</h6><p>æ˜ å°„ å¯¹æ•°ç»„æ¯ä¸€é¡¹éƒ½è¿è¡Œä¼ å…¥çš„å‡½æ•°ï¼Œè¿”å›ç”±æ¯æ¬¡å‡½æ•°è°ƒç”¨çš„ç»“æœæ„æˆçš„æ•°ç»„</p><h4 id="8ã€æ·±æµ…æ‹·è´"><a href="#8ã€æ·±æµ…æ‹·è´" class="headerlink" title="8ã€æ·±æµ…æ‹·è´"></a>8ã€æ·±æµ…æ‹·è´</h4><blockquote><p><strong>åŸºæœ¬ç±»å‹</strong>æ•°æ®ä¿å­˜åœ¨åœ¨<strong>æ ˆ</strong>å†…å­˜ä¸­</p><p><strong>å¼•ç”¨ç±»å‹</strong>æ•°æ®ä¿å­˜åœ¨<strong>å †</strong>å†…å­˜ä¸­ï¼Œå¼•ç”¨æ•°æ®ç±»å‹çš„å˜é‡æ˜¯ä¸€ä¸ªæŒ‡å‘å †å†…å­˜ä¸­å®é™…å¯¹è±¡çš„å¼•ç”¨ï¼Œå­˜åœ¨æ ˆä¸­</p></blockquote><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/eq4kTpIjEyhCWwu.png?x-oss-process=style/huyu" alt=""></p><h5 id="æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«"><a href="#æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«" class="headerlink" title="æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«"></a>æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«</h5><p><strong>1.æµ…æ‹·è´</strong>ï¼š å°†åŸå¯¹è±¡æˆ–åŸæ•°ç»„çš„å¼•ç”¨ç›´æ¥èµ‹ç»™æ–°å¯¹è±¡ï¼Œæ–°æ•°ç»„ï¼Œæ–°å¯¹è±¡/æ•°ç»„åªæ˜¯åŸå¯¹è±¡çš„ä¸€ä¸ªå¼•ç”¨ã€‚</p><p>å¦‚æœå±æ€§æ˜¯åŸºæœ¬ç±»å‹ï¼Œæ‹·è´çš„å°±æ˜¯åŸºæœ¬ç±»å‹çš„å€¼ã€‚å¦‚æœå±æ€§æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‹·è´çš„å°±æ˜¯å†…å­˜åœ°å€ï¼Œå³æµ…æ‹·è´æ˜¯æ‹·è´ä¸€å±‚ï¼Œæ·±å±‚æ¬¡çš„å¼•ç”¨ç±»å‹åˆ™å…±äº«å†…å­˜åœ°å€</p><p><strong>2.æ·±æ‹·è´</strong>ï¼š åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡å’Œæ•°ç»„ï¼Œå°†åŸå¯¹è±¡çš„å„é¡¹å±æ€§çš„â€œå€¼â€ï¼ˆæ•°ç»„çš„æ‰€æœ‰å…ƒç´ ï¼‰æ‹·è´è¿‡æ¥ï¼Œæ˜¯â€œå€¼â€è€Œä¸æ˜¯â€œå¼•ç”¨â€</p><h5 id="æµ…æ‹·è´"><a href="#æµ…æ‹·è´" class="headerlink" title="æµ…æ‹·è´"></a>æµ…æ‹·è´</h5><p><strong>æ•°ç»„æµ…æ‹·è´:</strong></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç›´æ¥éå†</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">shallowCopy</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> newArr = [];</span><br><span class="line">  arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> newArr.<span class="title function_">push</span>(item));</span><br><span class="line">  <span class="keyword">return</span> newArr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// slice</span></span><br><span class="line"><span class="keyword">const</span> arr2 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> newArr2 = arr2.<span class="title function_">slice</span>();</span><br><span class="line"><span class="comment">//    concat() åˆå¹¶ç©ºæ•°ç»„å®ç°</span></span><br><span class="line"><span class="keyword">const</span> arr3 = [<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">55</span>];</span><br><span class="line"><span class="keyword">const</span> newArr3 = arr3.<span class="title function_">concat</span>([]);</span><br></pre></td></tr></table></figure><p><strong>å¯¹è±¡æµ…æ‹·è´:</strong></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç›´æ¥éå†</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">shallowCopy</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> newObj = &#123;&#125;;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    newObj[item] = obj[item];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newObj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ‹“å±•è¿ç®—ç¬¦</span></span><br><span class="line"><span class="keyword">const</span> obj2 = &#123; <span class="attr">name</span>: <span class="string">&quot;Bob&quot;</span>, <span class="attr">age</span>: <span class="number">17</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> newObj2 = &#123; ...obj2 &#125;;</span><br></pre></td></tr></table></figure><h5 id="æ·±æ‹·è´"><a href="#æ·±æ‹·è´" class="headerlink" title="æ·±æ‹·è´"></a>æ·±æ‹·è´</h5><blockquote><p>ç”¨æ·±æ‹·è´æœ€åè¦é€’å½’åˆ°å…¨éƒ¨æ˜¯åŸºæœ¬å€¼ï¼Œä¸ç„¶å¯èƒ½ä¼šé™·å…¥æ­»å¾ªç¯/å¾ªç¯å¼•ç”¨ï¼Œå¯¼è‡´æ ˆæº¢å‡º</p><p>TODO(å¾…ç†è§£)â­ï¼š å¤„ç†è¿‡çš„æ•°æ®ä½¿ç”¨ map ç»“æ„ç¼“å­˜èµ·æ¥ &gt;&gt; é€’å½’çš„æ—¶å€™ç¢°åˆ°ç›¸åŒçš„æ•°æ® &gt;&gt; ç›´æ¥ä½¿ç”¨ç¼“å­˜é‡Œé¢çš„</p></blockquote><p><strong>1. å…ˆè½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œåœ¨è½¬æ¢æˆ(æ•°ç»„/å¯¹è±¡) JSON.parse(JSON.stringify(XXXX))</strong></p><p>æœ‰ä¸€ä¸ªç¼ºç‚¹ é‡Œé¢çš„å‡½æ•°ä¸èƒ½æ‹·è´</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [&#123; <span class="attr">number</span>: <span class="number">1</span> &#125;, &#123; <span class="attr">number</span>: <span class="number">2</span> &#125;, &#123; <span class="attr">number</span>: <span class="number">3</span> &#125;];</span><br><span class="line"><span class="keyword">const</span> str = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(array);</span><br><span class="line"><span class="keyword">const</span> copyArray = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(str);</span><br></pre></td></tr></table></figure><p><strong>2ã€é€’å½’å®ç°ç®€å•çš„æ·±æ‹·è´ï¼š</strong></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">obj = &#123;&#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> obj !== <span class="string">&quot;object&quot;</span> || obj == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="comment">// obj æ˜¯ null ï¼Œæˆ–è€…ä¸æ˜¯å¯¹è±¡å’Œæ•°ç»„ï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–è¿”å›ç»“æœ</span></span><br><span class="line">  <span class="keyword">let</span> result;</span><br><span class="line">  obj <span class="keyword">instanceof</span> <span class="title class_">Array</span> ? (result = []) : (result = &#123;&#125;);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="comment">// ä¿è¯ key ä¸æ˜¯åŸå‹çš„å±æ€§</span></span><br><span class="line">    <span class="keyword">if</span> (obj.<span class="title function_">hasOwnProperty</span>(key)) &#123;</span><br><span class="line">      <span class="comment">// é€’å½’è°ƒç”¨ï¼ï¼ï¼</span></span><br><span class="line">      result[key] = <span class="title function_">deepClone</span>(obj[key]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// è¿”å›ç»“æœ</span></span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>3ã€è§£æ„èµ‹å€¼æ³•å®ç°ä¸€å±‚æ‹·è´</strong></p><p><strong>4ã€Object.assign() å®ç°ä¸€å±‚æ·±æ‹·è´</strong></p><p><strong>5ã€ lodashç¬¬ä¸‰æ–¹åº“</strong></p><p><strong>å°ç»“</strong></p><p>å‰æä¸ºæ‹·è´ç±»å‹ä¸ºå¼•ç”¨ç±»å‹çš„æƒ…å†µä¸‹ï¼š</p><ul><li>æµ…æ‹·è´æ˜¯æ‹·è´ä¸€å±‚ï¼Œå±æ€§ä¸ºå¯¹è±¡æ—¶ï¼Œæµ…æ‹·è´æ˜¯å¤åˆ¶ï¼Œä¸¤ä¸ªå¯¹è±¡æŒ‡å‘åŒä¸€ä¸ªåœ°å€</li><li>æ·±æ‹·è´æ˜¯é€’å½’æ‹·è´æ·±å±‚æ¬¡ï¼Œå±æ€§ä¸ºå¯¹è±¡æ—¶ï¼Œæ·±æ‹·è´æ˜¯æ–°å¼€æ ˆï¼Œä¸¤ä¸ªå¯¹è±¡æŒ‡å‘ä¸åŒçš„åœ°å€</li></ul><h4 id="9ã€é—­åŒ…"><a href="#9ã€é—­åŒ…" class="headerlink" title="9ã€é—­åŒ…"></a>9ã€é—­åŒ…</h4><p><strong>ä»€ä¹ˆæ˜¯é—­åŒ…</strong></p><blockquote><p>é€šä¿—åœ°è®²é—­åŒ…å°±æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°é‡Œè¾¹å†å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå†…éƒ¨å‡½æ•°ä¸€ç›´ä¿æŒæœ‰å¯¹å¤–éƒ¨å‡½æ•°ä¸­ä½œç”¨åŸŸçš„è®¿é—®æƒé™(å°æˆ¿é—´ä¸€ç›´å¯ä»¥æœ‰å¤§æˆ¿å­çš„è®¿é—®æƒé™)</p></blockquote><p><strong>é—­åŒ…çš„ä½œç”¨</strong></p><blockquote><ol><li>è®¿é—®å…¶ä»–å‡½æ•°å†…éƒ¨å˜é‡</li><li>ä¿æŠ¤å˜é‡ä¸è¢« JS çš„åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶</li><li>é¿å…å…¨å±€å˜é‡è¢«æ±¡æŸ“ æ–¹ä¾¿è°ƒç”¨ä¸Šä¸‹æ–‡çš„å±€éƒ¨å˜é‡ åŠ å¼ºå°è£…æ€§</li></ol></blockquote><p><strong>é—­åŒ…çš„ä¼˜ç‚¹</strong></p><blockquote><p>ï¼ˆä¸€ï¼‰å˜é‡é•¿æœŸé©»æ‰åœ¨å†…å­˜ä¸­<br>ï¼ˆäºŒï¼‰å¦ä¸€ä¸ªå°±æ˜¯å¯ä»¥é‡å¤ä½¿ç”¨å˜é‡ï¼Œå¹¶ä¸”ä¸ä¼šé€ æˆå˜é‡æ±¡æŸ“<br>â‘  å…¨å±€å˜é‡å¯ä»¥é‡å¤ä½¿ç”¨ï¼Œä½†æ˜¯å®¹æ˜“é€ æˆå˜é‡æ±¡æŸ“ã€‚ä¸åŒçš„åœ°æ–¹å®šä¹‰äº†ç›¸åŒçš„å…¨å±€å˜é‡,è¿™æ ·å°±ä¼šäº§ç”Ÿæ··ä¹±ã€‚<br>â‘¡ å±€éƒ¨å˜é‡ä»…åœ¨å±€éƒ¨ä½œç”¨åŸŸå†…æœ‰æ•ˆï¼Œä¸å¯ä»¥é‡å¤ä½¿ç”¨ï¼Œä¸ä¼šé€ æˆå˜é‡æ±¡æŸ“ã€‚<br>â‘¢ é—­åŒ…ç»“åˆäº†å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡çš„ä¼˜ç‚¹ã€‚å¯ä»¥é‡å¤ä½¿ç”¨å˜é‡ï¼Œå¹¶ä¸”ä¸ä¼šé€ æˆå˜é‡æ±¡æŸ“</p></blockquote><p><strong>é—­åŒ…çš„ç¼ºç‚¹</strong></p><blockquote><p>ç”±äºé—­åŒ…ä¼šä½¿å¾—å‡½æ•°ä¸­çš„å˜é‡éƒ½è¢«ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå†…å­˜æ¶ˆè€—å¾ˆå¤§ï¼Œæ‰€ä»¥ä¸èƒ½æ»¥ç”¨é—­åŒ…ï¼Œå¦åˆ™ä¼šé€ æˆç½‘é¡µçš„æ€§èƒ½é—®é¢˜ï¼Œåœ¨ IE ä¸­å¯èƒ½å¯¼è‡´å†…å­˜æ³„éœ²ã€‚è§£å†³æ–¹æ³•æ˜¯ï¼Œåœ¨é€€å‡ºå‡½æ•°ä¹‹å‰ï¼Œå°†ä¸ä½¿ç”¨çš„å±€éƒ¨å˜é‡å…¨éƒ¨åˆ é™¤ã€‚</p></blockquote><h4 id="10ã€æ•°ç»„å»é‡"><a href="#10ã€æ•°ç»„å»é‡" class="headerlink" title="10ã€æ•°ç»„å»é‡"></a>10ã€æ•°ç»„å»é‡</h4><p><a href="https://segmentfault.com/a/1190000016418021">https://segmentfault.com/a/1190000016418021</a></p><h6 id="Set-å»é‡"><a href="#Set-å»é‡" class="headerlink" title="Set å»é‡"></a>Set å»é‡</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">const</span> newArr = [...<span class="keyword">new</span> <span class="title class_">Set</span>(arr)]; <span class="comment">// [ 1, 2, 3, 4, 5 ]</span></span><br></pre></td></tr></table></figure><h6 id="indexOf-å»é‡"><a href="#indexOf-å»é‡" class="headerlink" title="indexOf å»é‡"></a>indexOf å»é‡</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> newArr = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (newArr.<span class="title function_">indexOf</span>(arr[i]) === -<span class="number">1</span>) newArr.<span class="title function_">push</span>(arr[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newArr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="splice-å»é‡"><a href="#splice-å»é‡" class="headerlink" title="splice å»é‡"></a>splice å»é‡</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; arr.<span class="property">length</span>; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (arr[i] === arr[j]) &#123;</span><br><span class="line">        arr.<span class="title function_">splice</span>(j, <span class="number">1</span>);</span><br><span class="line">        j--;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="includes-å»é‡"><a href="#includes-å»é‡" class="headerlink" title="includes å»é‡"></a>includes å»é‡</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> newArr = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!newArr.<span class="title function_">includes</span>(arr[i])) &#123;</span><br><span class="line">      newArr.<span class="title function_">push</span>(arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newArr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="filter-å»é‡"><a href="#filter-å»é‡" class="headerlink" title="filter å»é‡"></a>filter å»é‡</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> arr.<span class="title function_">filter</span>(<span class="keyword">function</span> (<span class="params">item, index, arr</span>) &#123;</span><br><span class="line">    <span class="comment">//å½“å‰å…ƒç´ ï¼Œåœ¨åŸå§‹æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªç´¢å¼•===å½“å‰ç´¢å¼•å€¼ï¼Œå¦åˆ™è¿”å›å½“å‰å…ƒç´ </span></span><br><span class="line">    <span class="keyword">return</span> arr.<span class="title function_">indexOf</span>(item) === index;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="findIndexæ•°ç»„å¯¹è±¡å»é‡"><a href="#findIndexæ•°ç»„å¯¹è±¡å»é‡" class="headerlink" title="findIndexæ•°ç»„å¯¹è±¡å»é‡"></a>findIndexæ•°ç»„å¯¹è±¡å»é‡</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="comment">// todo:å¾…æ€»ç»“æ•°ç»„å»é‡æ–¹æ³•</span></span><br><span class="line">  <span class="comment">// æ–¹æ³•ä¸€</span></span><br><span class="line">  <span class="keyword">return</span> arr.<span class="title function_">filter</span>(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> arr.<span class="title function_">findIndex</span>(<span class="function">(<span class="params">child</span>) =&gt;</span> child.<span class="property">id</span> === item.<span class="property">id</span>) === index;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="Mapæ•°ç»„å¯¹è±¡å»é‡"><a href="#Mapæ•°ç»„å¯¹è±¡å»é‡" class="headerlink" title="Mapæ•°ç»„å¯¹è±¡å»é‡"></a>Mapæ•°ç»„å¯¹è±¡å»é‡</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">  <span class="keyword">return</span> arr.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> !res.<span class="title function_">has</span>(item.<span class="property">id</span>) &amp;&amp; res.<span class="title function_">set</span>(item.<span class="property">id</span>, <span class="number">1</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="reduce-æ•°ç»„å¯¹è±¡å»é‡"><a href="#reduce-æ•°ç»„å¯¹è±¡å»é‡" class="headerlink" title="reduce æ•°ç»„å¯¹è±¡å»é‡"></a>reduce æ•°ç»„å¯¹è±¡å»é‡</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line">  <span class="keyword">return</span> arr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">pre, item</span>) =&gt;</span> &#123;</span><br><span class="line">    obj[item.<span class="property">id</span>] ? <span class="string">&quot;&quot;</span> : (obj[item.<span class="property">id</span>] = <span class="literal">true</span> &amp;&amp; pre.<span class="title function_">push</span>(item));</span><br><span class="line">    <span class="keyword">return</span> pre;</span><br><span class="line">  &#125;, []);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="lodash-åº“æ•°ç»„å’Œæ•°ç»„å¯¹è±¡å»é‡"><a href="#lodash-åº“æ•°ç»„å’Œæ•°ç»„å¯¹è±¡å»é‡" class="headerlink" title="lodash åº“æ•°ç»„å’Œæ•°ç»„å¯¹è±¡å»é‡"></a>lodash åº“æ•°ç»„å’Œæ•°ç»„å¯¹è±¡å»é‡</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; isEqual, uniqWith, uniqBy &#125; <span class="keyword">from</span> <span class="string">&quot;lodash&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> arr = [</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&quot;sli&quot;</span>, <span class="attr">year</span>: <span class="number">2012</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&quot;ap&quot;</span>, <span class="attr">year</span>: <span class="number">2015</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&quot;alslion&quot;</span>, <span class="attr">year</span>: <span class="number">2012</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&quot;pose&quot;</span>, <span class="attr">year</span>: <span class="number">2012</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&quot;pose&quot;</span>, <span class="attr">year</span>: <span class="number">2012</span> &#125;,</span><br><span class="line">];</span><br><span class="line"><span class="comment">// æ ¹æ®idå»æ‰ç›¸åŒçš„å…ƒç´ :</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">uniqBy</span>(arr, <span class="string">&quot;id&quot;</span>));</span><br><span class="line"><span class="comment">// æ·±æ£€æŸ¥æ•°ç»„æ¯ä¸€é¡¹è¿›è¡Œå»é‡:</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">uniqWith</span>(arr, isEqual));</span><br></pre></td></tr></table></figure><h4 id="11ã€é€»è¾‘è¿ç®—ç¬¦-amp-amp-å’Œ"><a href="#11ã€é€»è¾‘è¿ç®—ç¬¦-amp-amp-å’Œ" class="headerlink" title="11ã€é€»è¾‘è¿ç®—ç¬¦ &amp;&amp; å’Œ ||"></a>11ã€é€»è¾‘è¿ç®—ç¬¦ &amp;&amp; å’Œ ||</h4><p><strong>||è¿ç®—ç¬¦: æ¡ä»¶ 1 || æ¡ä»¶ 2</strong></p><ul><li>è‹¥æ¡ä»¶ 1 ä¸º trueã€è¿”å›æ¡ä»¶ 1</li><li>è‹¥æ¡ä»¶ 1 ä¸º falseã€ä¸ç®¡ || åé¢æ˜¯ true è¿˜æ˜¯ falseã€éƒ½æ˜¯è¿”å›||åé¢çš„å€¼ã€å³åˆ™è¿”å›æ¡ä»¶ 2;</li></ul><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0</span> || <span class="string">&quot;&quot;</span>); <span class="comment">// &#x27;&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;&quot;</span> || <span class="number">0</span>); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure><p><strong>&amp;&amp;è¿ç®—ç¬¦: æ¡ä»¶ 1 &amp;&amp; æ¡ä»¶ 2</strong></p><ul><li>è‹¥æ¡ä»¶ 1 ä¸º falseã€å°±è¿”å›è¿”å›æ¡ä»¶ 1 çš„å€¼;</li><li>è‹¥æ¡ä»¶ 1 ä¸º true, æ— è®ºæ¡ä»¶ 2 ä¸º true æˆ–è€… false, éƒ½å°†è¿”å›æ¡ä»¶ 2 çš„å€¼;</li></ul><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0</span> &amp;&amp; <span class="string">&quot;&quot;</span>); <span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;&quot;</span> &amp;&amp; <span class="number">0</span>); <span class="comment">// &#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="12ã€new-çš„è¿‡ç¨‹"><a href="#12ã€new-çš„è¿‡ç¨‹" class="headerlink" title="12ã€new çš„è¿‡ç¨‹"></a>12ã€new çš„è¿‡ç¨‹</h4><p>åˆ†æä¸€ä¸‹ new çš„æ•´ä¸ªè¿‡ç¨‹ï¼š</p><ul><li>1ã€åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡</li><li>2ã€this æŒ‡å‘ obj ç©ºå¯¹è±¡ï¼Œå¹¶è°ƒç”¨æ„é€ å‡½æ•°</li><li>3ã€ç»§æ‰¿æ„é€ å‡½æ•°çš„åŸå‹</li><li>4ã€è¿”å›å¯¹è±¡</li></ul><p>ç®€å•å®ç°ä¸€ä¸‹ newï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myNew</span>(<span class="params">fn, ...args</span>) &#123;</span><br><span class="line">  <span class="comment">// ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡</span></span><br><span class="line">  <span class="keyword">const</span> obj = &#123;&#125;;</span><br><span class="line">  <span class="comment">// ç¬¬äºŒæ­¥ï¼šthisæŒ‡å‘obj ç©ºå¯¹è±¡ï¼Œå¹¶è°ƒç”¨æ„é€ å‡½æ•°</span></span><br><span class="line">  fn.<span class="title function_">apply</span>(obj, args);</span><br><span class="line">  <span class="comment">// ç¬¬ä¸‰æ­¥ï¼šç»§æ‰¿æ„é€ å‡½æ•°çš„åŸå‹</span></span><br><span class="line">  obj.<span class="property">__proto__</span> = fn.<span class="property"><span class="keyword">prototype</span></span>;</span><br><span class="line">  <span class="comment">// ç¬¬å››æ­¥ï¼šè¿”å›å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="13ã€äº‹ä»¶å¾ªç¯-Event-Loop-ï¼ˆç»“åˆç€14æ¡è®²ï¼‰"><a href="#13ã€äº‹ä»¶å¾ªç¯-Event-Loop-ï¼ˆç»“åˆç€14æ¡è®²ï¼‰" class="headerlink" title="13ã€äº‹ä»¶å¾ªç¯ Event Loop  ï¼ˆç»“åˆç€14æ¡è®²ï¼‰"></a>13ã€äº‹ä»¶å¾ªç¯ Event Loop  ï¼ˆç»“åˆç€14æ¡è®²ï¼‰</h4><p><strong>æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p><blockquote><p>é¦–å…ˆï¼Œ<code>JavaScript</code>æ˜¯ä¸€é—¨å•çº¿ç¨‹çš„è¯­è¨€ï¼Œæ„å‘³ç€åŒä¸€æ—¶é—´å†…åªèƒ½åšä¸€ä»¶äº‹ï¼Œå¦‚æœå‰é¢ä¸€ä¸ªä»»åŠ¡è€—æ—¶å¤ªé•¿ï¼Œåç»­çš„ä»»åŠ¡ä¸å¾—ä¸ç­‰å¾…ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç¨‹åºå‡æ­»çš„é—®é¢˜ï¼Œä½†æ˜¯è¿™å¹¶ä¸æ„å‘³ç€å•çº¿ç¨‹å°±æ˜¯é˜»å¡ï¼Œè€Œå®ç°å•çº¿ç¨‹éé˜»å¡çš„æ–¹æ³•å°±æ˜¯äº‹ä»¶å¾ªç¯</p></blockquote><p>åœ¨<code>JavaScript</code>ä¸­ï¼Œæ‰€æœ‰çš„ä»»åŠ¡éƒ½å¯ä»¥åˆ†ä¸º</p><ul><li>åŒæ­¥ä»»åŠ¡ï¼šç«‹å³æ‰§è¡Œçš„ä»»åŠ¡ï¼ŒåŒæ­¥ä»»åŠ¡ä¸€èˆ¬ä¼šç›´æ¥è¿›å…¥åˆ°ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œ</li><li>å¼‚æ­¥ä»»åŠ¡ï¼šå¼‚æ­¥æ‰§è¡Œçš„ä»»åŠ¡ï¼Œæ¯”å¦‚<code>ajax</code>ç½‘ç»œè¯·æ±‚ï¼Œ<code>setTimeout</code>å®šæ—¶å‡½æ•°ç­‰</li></ul><p>åŒæ­¥ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹ï¼Œå³ä¸»æ‰§è¡Œæ ˆï¼Œå¼‚æ­¥ä»»åŠ¡è¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œä¸»çº¿ç¨‹å†…çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸ºç©ºï¼Œä¼šå»ä»»åŠ¡é˜Ÿåˆ—è¯»å–å¯¹åº”çš„ä»»åŠ¡ï¼Œæ¨å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚è¿‡ç¨‹ä¸æ–­é‡å¤å°±æ˜¯<strong>äº‹ä»¶å¾ªç¯</strong></p><h4 id="14ã€async-å’Œ-await-å®ä»»åŠ¡-å’Œ-å¾®ä»»åŠ¡"><a href="#14ã€async-å’Œ-await-å®ä»»åŠ¡-å’Œ-å¾®ä»»åŠ¡" class="headerlink" title="14ã€async å’Œ await å®ä»»åŠ¡ å’Œ å¾®ä»»åŠ¡"></a>14ã€async å’Œ await å®ä»»åŠ¡ å’Œ å¾®ä»»åŠ¡</h4><p><a href="https://www.mianshiya.com/qd/bf4a0bf261c7e2500090d9482499675f">https://www.mianshiya.com/qd/bf4a0bf261c7e2500090d9482499675f</a></p><h5 id="å®ä»»åŠ¡-å’Œ-å¾®ä»»åŠ¡"><a href="#å®ä»»åŠ¡-å’Œ-å¾®ä»»åŠ¡" class="headerlink" title="å®ä»»åŠ¡ å’Œ å¾®ä»»åŠ¡"></a>å®ä»»åŠ¡ å’Œ å¾®ä»»åŠ¡</h5><p>ä¸‹é¢ä»£ç æ‰§è¡Œé¡ºåºæ˜¯ä»€ä¹ˆ</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)  <span class="comment">// åŒæ­¥</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;  <span class="comment">// å®ä»»åŠ¡</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;new Promise&#x27;</span>) <span class="comment">// åŒæ­¥</span></span><br><span class="line">    <span class="title function_">resolve</span>()</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;then&#x27;</span>)  <span class="comment">// å¾®ä»»åŠ¡</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>) <span class="comment">// åŒæ­¥</span></span><br></pre></td></tr></table></figure><p><code>1</code>=&gt;<code>&#39;new Promise&#39;</code>=&gt; <code>3</code> =&gt; <code>&#39;then&#39;</code> =&gt; <code>2</code></p><h6 id="1ã€ä»€ä¹ˆæ˜¯å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡"><a href="#1ã€ä»€ä¹ˆæ˜¯å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡"></a>1ã€ä»€ä¹ˆæ˜¯å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡</h6><p>Javascript æŠŠå¼‚æ­¥ä»»åŠ¡åˆåšäº†è¿›ä¸€æ­¥çš„åˆ’åˆ†ï¼Œå¼‚æ­¥ä»»åŠ¡åˆåˆ†ä¸ºä¸¤ç±»ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><p><strong>å¾®ä»»åŠ¡ï¼š</strong></p><p>ä¸€ä¸ªéœ€è¦å¼‚æ­¥æ‰§è¡Œçš„å‡½æ•°ï¼Œæ‰§è¡Œæ—¶æœºæ˜¯åœ¨ä¸»å‡½æ•°æ‰§è¡Œç»“æŸä¹‹åã€å½“å‰å®ä»»åŠ¡ç»“æŸä¹‹å‰</p><p>å¸¸è§çš„å¾®ä»»åŠ¡æœ‰ï¼š</p><ul><li>Promise.then</li><li>MutaionObserver</li><li>Object.observeï¼ˆå·²åºŸå¼ƒï¼›Proxy å¯¹è±¡æ›¿ä»£ï¼‰</li><li>process.nextTickï¼ˆNode.jsï¼‰</li></ul><p><strong>å®ä»»åŠ¡ï¼š</strong></p><p>å®ä»»åŠ¡çš„æ—¶é—´ç²’åº¦æ¯”è¾ƒå¤§ï¼Œæ‰§è¡Œçš„æ—¶é—´é—´éš”æ˜¯ä¸èƒ½ç²¾ç¡®æ§åˆ¶çš„ï¼Œå¯¹ä¸€äº›é«˜å®æ—¶æ€§çš„éœ€æ±‚å°±ä¸å¤ªç¬¦åˆ</p><p>å¸¸è§çš„å®ä»»åŠ¡æœ‰ï¼š</p><ul><li>script (å¯ä»¥ç†è§£ä¸ºå¤–å±‚åŒæ­¥ä»£ç )</li><li>setTimeout/setInterval</li><li>UI rendering/UIäº‹ä»¶</li><li>postMessageã€MessageChannel</li><li>setImmediateã€I/Oï¼ˆNode.jsï¼‰</li></ul><blockquote><p><strong>promiseé‡Œé¢çš„ä»£ç æ˜¯åŒæ­¥ä»»åŠ¡ promiseçš„æ–¹æ³•.then()ç­‰æ˜¯å¼‚æ­¥ä»»åŠ¡ å¾®ä»»åŠ¡</strong></p></blockquote><h6 id="2ã€å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡çš„æ‰§è¡Œé¡ºåº"><a href="#2ã€å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡çš„æ‰§è¡Œé¡ºåº" class="headerlink" title="2ã€å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡çš„æ‰§è¡Œé¡ºåº"></a>2ã€å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡çš„æ‰§è¡Œé¡ºåº</h6><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/YvSB58sUMZg7l31.png?x-oss-process=style/huyu" ></p><p>æ¯ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œå®Œä¹‹åï¼Œéƒ½ä¼šæ£€æŸ¥æ˜¯å¦å­˜åœ¨å¾…æ‰§è¡Œçš„å¾®ä»»åŠ¡ï¼Œå¦‚æœæœ‰ï¼Œåˆ™æ‰§è¡Œå®Œæ‰€æœ‰å¾®ä»»åŠ¡ä¹‹åï¼Œå†ç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡ã€‚</p><blockquote><p><strong>1ã€å¾®ä»»åŠ¡æ¯”å®ä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´è¦æ—©</strong></p><p><strong>2ã€å¾®ä»»åŠ¡åœ¨DOMæ¸²æŸ“ä¹‹å‰æ‰§è¡Œï¼Œå®ä»»åŠ¡åœ¨DOMæ¸²æŸ“ä¹‹åæ‰§è¡Œ</strong></p></blockquote><h5 id="asyncä¸await"><a href="#asyncä¸await" class="headerlink" title="asyncä¸await"></a>asyncä¸await</h5><blockquote><p><code>async</code> æ˜¯å¼‚æ­¥çš„æ„æ€ï¼Œ<code>await</code>æ˜¯ç­‰å¾…ã€‚æ‰€ä»¥å¯ä»¥ç†è§£<code>async</code>å°±æ˜¯ç”¨æ¥å£°æ˜ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•ï¼Œè€Œ <code>await</code>æ˜¯ç”¨æ¥ç­‰å¾…å¼‚æ­¥æ–¹æ³•æ‰§è¡Œ</p></blockquote><h6 id="async"><a href="#async" class="headerlink" title="async"></a>async</h6><p><code>async</code>å‡½æ•°è¿”å›ä¸€ä¸ª<code>promise</code>å¯¹è±¡</p><h6 id="await"><a href="#await" class="headerlink" title="await"></a>await</h6><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œ<code>await</code>å‘½ä»¤åé¢æ˜¯ä¸€ä¸ª <code>Promise</code>å¯¹è±¡ï¼Œè¿”å›è¯¥å¯¹è±¡çš„ç»“æœã€‚å¦‚æœä¸æ˜¯ <code>Promise</code>å¯¹è±¡ï¼Œå°±ç›´æ¥è¿”å›å¯¹åº”çš„å€¼</p><p>ä¸ç®¡<code>await</code>åé¢è·Ÿç€çš„æ˜¯ä»€ä¹ˆï¼Œ<code>await</code>éƒ½ä¼šé˜»å¡åé¢çš„ä»£ç ï¼ˆåŠ å…¥å¾®ä»»åŠ¡åˆ—è¡¨ï¼‰</p><p>ä¸‹é¢ä»£ç æ‰§è¡Œé¡ºåºæ˜¯ä»€ä¹ˆï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">async1</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async1 start&#x27;</span>)</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">async2</span>()</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async1 end&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">async2</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async2&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script start&#x27;</span>)</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;settimeout&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="title function_">async1</span>()</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise1&#x27;</span>)</span><br><span class="line">    <span class="title function_">resolve</span>()</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise2&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script end&#x27;</span>)</span><br></pre></td></tr></table></figure><p>åˆ†æè¿‡ç¨‹ï¼š</p><ol><li>æ‰§è¡Œæ•´æ®µä»£ç ï¼Œé‡åˆ° <code>console.log(&#39;script start&#39;)</code> ç›´æ¥æ‰“å°ç»“æœï¼Œè¾“å‡º <code>script start</code></li><li>é‡åˆ°å®šæ—¶å™¨äº†ï¼Œå®ƒæ˜¯å®ä»»åŠ¡ï¼Œå…ˆæ”¾ç€ä¸æ‰§è¡Œ</li><li>é‡åˆ° <code>async1()</code>ï¼Œæ‰§è¡Œ <code>async1</code> å‡½æ•°ï¼Œå…ˆæ‰“å° <code>async1 start</code>ï¼Œä¸‹é¢é‡åˆ°<code>await</code>æ€ä¹ˆåŠï¼Ÿå…ˆæ‰§è¡Œ <code>async2</code>ï¼Œæ‰“å° <code>async2</code>ï¼Œç„¶åé˜»å¡ä¸‹é¢ä»£ç ï¼ˆå³åŠ å…¥å¾®ä»»åŠ¡åˆ—è¡¨ï¼‰ï¼Œè·³å‡ºå»æ‰§è¡ŒåŒæ­¥ä»£ç </li><li>è·³åˆ° <code>new Promise</code> è¿™é‡Œï¼Œç›´æ¥æ‰§è¡Œï¼Œæ‰“å° <code>promise1</code>ï¼Œä¸‹é¢é‡åˆ° <code>.then()</code>ï¼Œå®ƒæ˜¯å¾®ä»»åŠ¡ï¼Œæ”¾åˆ°å¾®ä»»åŠ¡åˆ—è¡¨ç­‰å¾…æ‰§è¡Œ</li><li>æœ€åä¸€è¡Œç›´æ¥æ‰“å° <code>script end</code>ï¼Œç°åœ¨åŒæ­¥ä»£ç æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œå³ <code>await</code>ä¸‹é¢çš„ä»£ç ï¼Œæ‰“å° <code>async1 end</code></li><li>ç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªå¾®ä»»åŠ¡ï¼Œå³æ‰§è¡Œ <code>then</code> çš„å›è°ƒï¼Œæ‰“å° <code>promise2</code></li><li>ä¸Šä¸€ä¸ªå®ä»»åŠ¡æ‰€æœ‰äº‹éƒ½åšå®Œäº†ï¼Œå¼€å§‹ä¸‹ä¸€ä¸ªå®ä»»åŠ¡ï¼Œå°±æ˜¯å®šæ—¶å™¨ï¼Œæ‰“å° <code>settimeout</code></li></ol><p>æ‰€ä»¥æœ€åçš„ç»“æœæ˜¯ï¼š<code>script start</code>ã€<code>async1 start</code>ã€<code>async2</code>ã€<code>promise1</code>ã€<code>script end</code>ã€<code>async1 end</code>ã€<code>promise2</code>ã€<code>settimeout</code></p><h4 id="15ã€callã€applyã€bind-çš„åŒºåˆ«"><a href="#15ã€callã€applyã€bind-çš„åŒºåˆ«" class="headerlink" title="15ã€callã€applyã€bind çš„åŒºåˆ«"></a>15ã€<strong>callã€applyã€bind çš„åŒºåˆ«</strong></h4><ul><li>éƒ½å¯ä»¥æ”¹å˜ <code>this</code> æŒ‡å‘</li><li>call å’Œ apply ä¼š<code>ç«‹å³æ‰§è¡Œ</code>ï¼Œbind ä¸ä¼šï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªå‡½æ•°</li><li>call å’Œ bind å¯ä»¥æ¥æ”¶<code>å¤šä¸ªå‚æ•°</code>ï¼Œ<code>apply</code> åªèƒ½æ¥å—ä¸¤ä¸ªï¼Œç¬¬äºŒä¸ªæ˜¯<code>æ•°ç»„</code></li><li>bind å‚æ•°å¯ä»¥åˆ†å¤šæ¬¡ä¼ å…¥</li></ul><h4 id="16ã€ç»§æ‰¿"><a href="#16ã€ç»§æ‰¿" class="headerlink" title="16ã€ç»§æ‰¿"></a>16ã€ç»§æ‰¿</h4><blockquote><p><strong>é¦–å…ˆï¼Œç»§æ‰¿çš„æ˜¯ å±æ€§ å’Œ åŸå‹æ–¹æ³•</strong></p></blockquote><h5 id="Class-ç»§æ‰¿"><a href="#Class-ç»§æ‰¿" class="headerlink" title="Class ç»§æ‰¿"></a>Class ç»§æ‰¿</h5><p>ES6ï¼š<a href="https://es6.ruanyifeng.com/#docs/class-extends">https://es6.ruanyifeng.com/#docs/class-extends</a></p><blockquote><p>Class å¯ä»¥é€šè¿‡<code>extends</code>å…³é”®å­—å®ç°ç»§æ‰¿ï¼Œè®©å­ç±»ç»§æ‰¿çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•</p><p>å­ç±»å¦‚æœå†™ <code>constructor()</code>å°±å¿…é¡»è¦å†™ <code>super()</code>,ä¸”è¦å†™åœ¨æœ€å‰é¢ï¼Œå¦åˆ™æŠ¥é”™ï¼Œåªæœ‰<code>super()</code>æ–¹æ³•æ‰èƒ½è®©å­ç±»å®ä¾‹ç»§æ‰¿çˆ¶ç±»ã€‚</p><p>:facepunch:ps: ES6 è§„å®šï¼Œå­ç±»å¿…é¡»åœ¨<code>constructor()</code>æ–¹æ³•ä¸­è°ƒç”¨<code>super()</code>ï¼Œå¦åˆ™å°±ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºå­ç±»è‡ªå·±çš„<code>this</code>å¯¹è±¡ï¼Œå¿…é¡»å…ˆé€šè¿‡çˆ¶ç±»çš„æ„é€ å‡½æ•°å®Œæˆå¡‘é€ ï¼Œå¾—åˆ°ä¸çˆ¶ç±»åŒæ ·çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œç„¶åå†å¯¹å…¶è¿›è¡ŒåŠ å·¥ï¼Œæ·»åŠ å­ç±»è‡ªå·±çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ã€‚å¦‚æœä¸è°ƒç”¨<code>super()</code>æ–¹æ³•ï¼Œå­ç±»å°±å¾—ä¸åˆ°è‡ªå·±çš„<code>this</code>å¯¹è±¡ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Parent</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">x,y</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span> = x</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">y</span> = y</span><br><span class="line">...</span><br><span class="line">  &#125;</span><br><span class="line"><span class="title function_">toString</span>(<span class="params"></span>) &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Parent</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">x, y, color</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(x, y); <span class="comment">// è°ƒç”¨çˆ¶ç±»çš„constructor(x, y)</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">color</span> = color;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">toString</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">color</span> + <span class="string">&#x27; &#x27;</span> + <span class="variable language_">super</span>.<span class="title function_">toString</span>(); <span class="comment">// è°ƒç”¨çˆ¶ç±»çš„toString()</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="ES5-ç»§æ‰¿"><a href="#ES5-ç»§æ‰¿" class="headerlink" title="ES5 ç»§æ‰¿"></a>ES5 ç»§æ‰¿</h5><blockquote><p>js ä¸­æœ‰å¾ˆå¤šä¸­ç»§æ‰¿çš„æ–¹å¼ï¼Œä¸è¿‡æ¯ä¸€ç§ç»§æ‰¿æ–¹å¼éƒ½æœ‰ä¼˜ç¼ºç‚¹ï¼Œé‡ç‚¹æŒæ¡ ES5 ç»§æ‰¿ï¼Œåˆ«çš„ç»§æ‰¿æ–¹å¼åŸºæœ¬éƒ½æ˜¯ ES5 ç»§æ‰¿çš„è¯­æ³•ç³–</p><p>å…ˆåˆ›é€ å­ç±»å®ä¾‹ï¼Œé€šè¿‡<code>Parent.call(this, arg1, arg2...)</code>å°†çˆ¶ç±»çš„å±æ€§æ–¹æ³•æ·»åŠ åˆ°<code>this</code>ä¸Šï¼Œç»§æ‰¿äº†çˆ¶ç±»çš„å±æ€§</p><p>å†é€šè¿‡ <code>Son.prototype = Object.create( Father.prototype )</code>å°†çˆ¶ç±»çš„åŸå‹ç»§æ‰¿è¿‡æ¥</p><p>æœ€åå¯ä»¥é€šè¿‡<code>Son.prototype.constructor = Son</code> å°†å­ç±»çš„åŸå‹æŒ‡åˆ°å­ç±»èº«ä¸Š</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Father</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Father</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">get</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;é»‘é©¬&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»§æ‰¿çš„æ˜¯ å±æ€§ å’Œ åŸå‹æ–¹æ³•</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="title class_">Father</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>, name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Son.prototype = new Father() // ç›¸äº’å½±å“ ä¼šå­˜åœ¨ä¸€ä¸ª &#123;name:undefined&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Object.create åˆ›é€ å‡ºä¸€ä¸ªç©ºå¯¹è±¡</span></span><br><span class="line"><span class="comment">// è®©å½“å‰å¯¹è±¡çš„__proto__ æŒ‡å‘ä¼ å…¥çš„å¯¹è±¡</span></span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Father</span>.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Son</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> son = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="string">&quot;ç¨‹åºå‘˜&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(son);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(son.<span class="title function_">get</span>() + son.<span class="property">name</span>); <span class="comment">// é»‘é©¬ç¨‹åºå‘˜</span></span><br></pre></td></tr></table></figure><h4 id="17ã€åŸå‹é“¾"><a href="#17ã€åŸå‹é“¾" class="headerlink" title="17ã€åŸå‹é“¾"></a>17ã€åŸå‹é“¾</h4><p><strong>ä»€ä¹ˆæ˜¯åŸå‹åŸå‹é“¾ï¼Ÿ</strong></p><blockquote><p>æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ª prototype åŸå‹(åŸå‹å°±æ˜¯å¯¹è±¡)ï¼ŒåŸå‹å¯¹è±¡æœ‰ä¸€ä¸ª constructor å±æ€§ï¼ŒæŒ‡å‘çš„æ˜¯æ„é€ å‡½æ•°</p><p>è®¿é—®å¯¹è±¡çš„æŸä¸€ä¸ªå±æ€§æˆ–è€…æ–¹æ³•æ—¶ï¼Œä¼šä»å¯¹è±¡è‡ªèº«æŸ¥æ‰¾ï¼Œå¦‚æœæŸ¥æ‰¾ä¸åˆ°ï¼Œå°±ä¼šå»åŸå‹é“¾ä¸Šå»æ‰¾ï¼ŒåŸå‹çš„æœ€ç»ˆç›®çš„å°±æ˜¯è®©æ‰€æœ‰çš„å®ä¾‹èƒ½å¤Ÿå…±äº«å…¶å±æ€§å’Œæ–¹æ³•</p><p>æŸ¥æ‰¾é¡ºåº:</p><p>è‡ªèº« &gt;<code>__proto__</code>&gt; æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ &gt;<code>__proto__</code>&gt; Object çš„åŸå‹å¯¹è±¡ &gt;<code>__proto__</code>&gt; null</p></blockquote><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/zlOJPgIK3y7YkWh.png?x-oss-process=style/huyu" alt=""></p><h4 id="18ã€å †å’Œæ ˆ-TODO-â­â­"><a href="#18ã€å †å’Œæ ˆ-TODO-â­â­" class="headerlink" title="18ã€å †å’Œæ ˆ TODO â­â­"></a>18ã€å †å’Œæ ˆ TODO â­â­</h4><p><a href="https://juejin.cn/post/6844903618999500808">https://juejin.cn/post/6844903618999500808</a></p><h4 id="19ã€ES6-Set-å’Œ-Map-TODO-â­â­"><a href="#19ã€ES6-Set-å’Œ-Map-TODO-â­â­" class="headerlink" title="19ã€ES6 Set å’Œ Map TODO â­â­"></a>19ã€ES6 Set å’Œ Map TODO â­â­</h4><h4 id="20ã€includes"><a href="#20ã€includes" class="headerlink" title="20ã€includes"></a>20ã€<strong>includes</strong></h4><blockquote><p><code>includes()</code> æ–¹æ³•ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ä¸€ä¸ªæŒ‡å®šçš„å€¼ï¼Œæ ¹æ®æƒ…å†µï¼Œå¦‚æœåŒ…å«åˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› false</p></blockquote><p>è¯­æ³•</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">arr.<span class="title function_">includes</span>(valueToFind[, fromIndex])</span><br></pre></td></tr></table></figure><ul><li><p><code>valueToFind</code></p><p>éœ€è¦æŸ¥æ‰¾çš„å…ƒç´ å€¼ã€‚<strong>Note:</strong> ä½¿ç”¨ <code>includes()</code>æ¯”è¾ƒå­—ç¬¦ä¸²å’Œå­—ç¬¦æ—¶æ˜¯åŒºåˆ†å¤§å°å†™ã€‚</p></li><li><p><code>fromIndex</code> å¯é€‰</p><p>ä»<code>fromIndex</code> ç´¢å¼•å¤„å¼€å§‹æŸ¥æ‰¾ <code>valueToFind</code>ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œåˆ™æŒ‰å‡åºä» <code>array.length + fromIndex</code> çš„ç´¢å¼•å¼€å§‹æœ ï¼ˆå³ä½¿ä»æœ«å°¾å¼€å§‹å¾€å‰è·³ <code>fromIndex</code> çš„ç»å¯¹å€¼ä¸ªç´¢å¼•ï¼Œç„¶åå¾€åæœå¯»ï¼‰ã€‚é»˜è®¤ä¸º 0ã€‚</p></li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].<span class="title function_">includes</span>(<span class="number">2</span>); <span class="comment">// true</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].<span class="title function_">includes</span>(<span class="number">4</span>); <span class="comment">// false</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].<span class="title function_">includes</span>(<span class="number">3</span>, <span class="number">3</span>); <span class="comment">// false</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].<span class="title function_">includes</span>(<span class="number">3</span>, -<span class="number">1</span>); <span class="comment">// true</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="title class_">NaN</span>].<span class="title function_">includes</span>(<span class="title class_">NaN</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h4 id="21ã€find"><a href="#21ã€find" class="headerlink" title="21ã€find"></a>21ã€<strong>find</strong></h4><blockquote><p><code>find()</code>æ–¹æ³•è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚å¦åˆ™è¿”å› <code>undefined</code></p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">arr.<span class="title function_">find</span>(callback[, thisArg])</span><br></pre></td></tr></table></figure><ul><li><p><code>callback</code></p><p>åœ¨æ•°ç»„æ¯ä¸€é¡¹ä¸Šæ‰§è¡Œçš„å‡½æ•°ï¼Œæ¥æ”¶ 3 ä¸ªå‚æ•°ï¼š<code>element</code>å½“å‰éå†åˆ°çš„å…ƒç´ ã€‚<code>index</code>å¯é€‰å½“å‰éå†åˆ°çš„ç´¢å¼•ã€‚<code>array</code>å¯é€‰æ•°ç»„æœ¬èº«</p></li><li><p><code>thisArg</code>å¯é€‰</p><p>æ‰§è¡Œå›è°ƒæ—¶ç”¨ä½œ <code>this</code> çš„å¯¹è±¡</p></li></ul><h4 id="find-findindex-indexOf-includes-filter"><a href="#find-findindex-indexOf-includes-filter" class="headerlink" title="find findindex indexOf  includes filter"></a>find findindex indexOf  includes filter</h4><h4 id="22ã€hasOwnProperty"><a href="#22ã€hasOwnProperty" class="headerlink" title="22ã€hasOwnProperty"></a>22ã€hasOwnProperty</h4><p><a href="https://juejin.cn/post/6966053301615853582">https://juejin.cn/post/6966053301615853582</a></p><blockquote><p><code>hasOwnProperty</code>æ˜¯Object.prototypeçš„ä¸€ä¸ªæ–¹æ³•<br><strong>ä»–èƒ½åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦åŒ…å«è‡ªå®šä¹‰å±æ€§è€Œä¸æ˜¯åŸå‹é“¾ä¸Šçš„å±æ€§</strong><br><code>hasOwnProperty</code> æ˜¯ JavaScript ä¸­å”¯ä¸€ä¸€ä¸ªå¤„ç†å±æ€§ä½†æ˜¯ä¸æŸ¥æ‰¾åŸå‹é“¾çš„å‡½æ•°</p></blockquote><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220805205922244.png?x-oss-process=style/huyu" alt="image-20220805205922244" style="zoom:150%;" /></p><h4 id="23ã€JSå¦‚ä½•åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰"><a href="#23ã€JSå¦‚ä½•åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰" class="headerlink" title="23ã€JSå¦‚ä½•åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰"></a>23ã€JSå¦‚ä½•åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> a = &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;zs&#x27;</span>,</span><br><span class="line"><span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line"><span class="attr">job</span>: &#123;</span><br><span class="line"><span class="attr">sex</span>: <span class="string">&#x27;ç”·&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> b = &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;zs&#x27;</span>,</span><br><span class="line"><span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line"><span class="attr">job</span>: &#123;</span><br><span class="line"><span class="attr">sex</span>: <span class="string">&#x27;ç”·&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="JSON-stringifyï¼ˆï¼‰è½¬å­—ç¬¦ä¸²"><a href="#JSON-stringifyï¼ˆï¼‰è½¬å­—ç¬¦ä¸²" class="headerlink" title="JSON.stringifyï¼ˆï¼‰è½¬å­—ç¬¦ä¸²"></a>JSON.stringifyï¼ˆï¼‰è½¬å­—ç¬¦ä¸²</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(a) === <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(b))  <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p><strong>ç¼ºé™·</strong>ï¼šå“ªæ€•ä¸¤ä¸ªå¯¹è±¡çš„å†…éƒ¨æ•°æ®ç›¸ç­‰ï¼Œä½†åªè¦æ¯ä¸ªæ•°æ®å¯¹åº”çš„ä½ç½®ä¸åŒï¼Œå…¶ç»“æœä¹Ÿä¸ºfalse</p><h6 id="å‡½æ•°æ£€æµ‹"><a href="#å‡½æ•°æ£€æµ‹" class="headerlink" title="å‡½æ•°æ£€æµ‹"></a>å‡½æ•°æ£€æµ‹</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">isEqual</span> = (<span class="params">a, b</span>) =&gt; &#123;</span><br><span class="line"> <span class="keyword">const</span> aKeysList = <span class="title class_">Object</span>.<span class="title function_">keys</span>(a)</span><br><span class="line"> <span class="keyword">const</span> bKeysList = <span class="title class_">Object</span>.<span class="title function_">keys</span>(b)</span><br><span class="line"> <span class="keyword">if</span> (aKeysList.<span class="property">length</span> !== bKeysList.<span class="property">length</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">for</span> (<span class="keyword">const</span> aKey <span class="keyword">in</span> a) &#123;</span><br><span class="line">  <span class="keyword">if</span> (a[aKey] !== b[aKey]) &#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isEqual</span>(a, b))   <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p><strong>ç¼ºé™·</strong>ï¼šè‹¥å¯¹è±¡å½“ä¸­åµŒæœ‰å¼•ç”¨ç±»å‹æ•°æ®ï¼Œåˆ™æ­¤æ–¹æ³•åˆ™ä¸é€‚ç”¨ï¼Œéœ€è¦è¿›è¡Œæ”¹è¿›</p><h6 id="å‡½æ•°æ£€æµ‹çš„åŸºç¡€ä¸Šé€’å½’"><a href="#å‡½æ•°æ£€æµ‹çš„åŸºç¡€ä¸Šé€’å½’" class="headerlink" title="å‡½æ•°æ£€æµ‹çš„åŸºç¡€ä¸Šé€’å½’"></a>å‡½æ•°æ£€æµ‹çš„åŸºç¡€ä¸Šé€’å½’</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">isEqual</span> = (<span class="params">a, b</span>) =&gt; &#123;</span><br><span class="line"><span class="keyword">const</span> aKeysList = <span class="title class_">Object</span>.<span class="title function_">keys</span>(a)</span><br><span class="line"><span class="keyword">const</span> bKeysList = <span class="title class_">Object</span>.<span class="title function_">keys</span>(b)</span><br><span class="line"><span class="keyword">if</span> (aKeysList.<span class="property">length</span> !== bKeysList.<span class="property">length</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> aKey <span class="keyword">in</span> a) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> a[aKey] === <span class="string">&#x27;object&#x27;</span> || <span class="keyword">typeof</span> b[aKey] === <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (!<span class="title function_">isEqual</span>(a[aKey], b[aKey])) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (a[aKey] !== b[aKey]) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isEqual</span>(a, b))  <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h4 id="24ã€forÂ·Â·Â·inå’ŒforÂ·Â·Â·ofçš„åŒºåˆ«"><a href="#24ã€forÂ·Â·Â·inå’ŒforÂ·Â·Â·ofçš„åŒºåˆ«" class="headerlink" title="24ã€forÂ·Â·Â·inå’ŒforÂ·Â·Â·ofçš„åŒºåˆ«"></a>24ã€forÂ·Â·Â·inå’ŒforÂ·Â·Â·ofçš„åŒºåˆ«</h4><p><a href="https://blog.csdn.net/weixin_43638968/article/details/109291957">https://blog.csdn.net/weixin_43638968/article/details/109291957</a></p><p><strong>é¦–å…ˆä¸€å¥è¯ï¼š(forÂ·Â·Â·inå–keyï¼ŒforÂ·Â·ofå–value)</strong><br>â‘ ä»éå†<a href="https://so.csdn.net/so/search?q=æ•°ç»„&amp;spm=1001.2101.3001.7020">æ•°ç»„</a>è§’åº¦æ¥è¯´ï¼ŒforÂ·Â·Â·inéå†å‡ºæ¥çš„æ˜¯key(å³ä¸‹æ ‡)ï¼ŒforÂ·Â·Â·oféå†å‡ºæ¥çš„æ˜¯value(å³æ•°ç»„çš„å€¼)ï¼›</p><p>â‘¡ä»éå†<a href="https://so.csdn.net/so/search?q=å­—ç¬¦ä¸²&amp;spm=1001.2101.3001.7020">å­—ç¬¦ä¸²</a>çš„è§’åº¦æ¥è¯´ï¼ŒåŒæ•°ç»„ä¸€æ ·ã€‚</p><p>â‘¢ä»éå†å¯¹è±¡çš„è§’åº¦æ¥è¯´ï¼ŒforÂ·Â·Â·inä¼šéå†å‡ºæ¥çš„ä¸ºå¯¹è±¡çš„keyï¼Œä½†forÂ·Â·Â·ofä¼šç›´æ¥æŠ¥é”™ã€‚</p><p>â‘£å¦‚æœè¦ä½¿ç”¨forâ€¦oféå†æ™®é€šå¯¹è±¡ï¼Œéœ€è¦é…åˆObject.keys()ä¸€èµ·ä½¿ç”¨ã€‚</p><h4 id="25ã€åˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼"><a href="#25ã€åˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼" class="headerlink" title="25ã€åˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼"></a>25ã€åˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼</h4><p><a href="https://juejin.cn/post/6844904126233444360">https://juejin.cn/post/6844904126233444360</a></p><h6 id="å­—é¢é‡"><a href="#å­—é¢é‡" class="headerlink" title="å­—é¢é‡"></a>å­—é¢é‡</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;å¼ ä¸‰&#x27;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="new-Object"><a href="#new-Object" class="headerlink" title="new Object"></a>new Object</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj2 = <span class="keyword">new</span> <span class="title class_">Object</span>()</span><br></pre></td></tr></table></figure><h6 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line"><span class="title function_">sang</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å”±æ­Œ&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;å¼ ä¸‰&#x27;</span>, <span class="number">22</span>)</span><br></pre></td></tr></table></figure><h6 id="ES6-class"><a href="#ES6-class" class="headerlink" title="ES6 class"></a>ES6 class</h6><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line"><span class="title function_">constructor</span>(<span class="params">name, age</span>) &#123; <span class="comment">// constructoræ„é€ å‡½æ•°</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">sayname</span>(<span class="params"></span>) &#123; <span class="comment">//åŸå‹ä¸Šçš„</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> per = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;dz&#x27;</span>, <span class="number">23</span>)</span><br></pre></td></tr></table></figure><h4 id="26ã€å˜é‡æå‡ä¸å‡½æ•°æå‡"><a href="#26ã€å˜é‡æå‡ä¸å‡½æ•°æå‡" class="headerlink" title="26ã€å˜é‡æå‡ä¸å‡½æ•°æå‡"></a>26ã€å˜é‡æå‡ä¸å‡½æ•°æå‡</h4><h6 id="å˜é‡æå‡"><a href="#å˜é‡æå‡" class="headerlink" title="å˜é‡æå‡"></a>å˜é‡æå‡</h6><p>å°†å˜é‡å£°æ˜æå‡åˆ°å®ƒæ‰€åœ¨ä½œç”¨åŸŸçš„æœ€å¼€å§‹çš„éƒ¨åˆ†ã€‚</p><ul><li><strong>é€šè¿‡varå®šä¹‰ï¼ˆå£°æ˜ï¼‰çš„å˜é‡ï¼Œåœ¨å®šä¹‰è¯­å¥ä¹‹å‰å°±å¯ä»¥è®¿é—®åˆ°</strong></li><li><strong>å€¼ï¼šundefinedï¼›</strong></li></ul><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">//undefined</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br></pre></td></tr></table></figure><p>å› ä¸ºæœ‰å˜é‡æå‡çš„ç¼˜æ•…ï¼Œä¸Šé¢ä»£ç å®é™…çš„æ‰§è¡Œé¡ºåºä¸ºï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">a = <span class="number">1</span>;</span><br></pre></td></tr></table></figure><h6 id="å‡½æ•°æå‡"><a href="#å‡½æ•°æå‡" class="headerlink" title="å‡½æ•°æå‡"></a>å‡½æ•°æå‡</h6><blockquote><p>jsä¸­åˆ›å»ºå‡½æ•°æœ‰ä¸¤ç§æ–¹å¼ï¼š<strong>å‡½æ•°å£°æ˜å¼</strong>å’Œ<strong>å‡½æ•°è¡¨è¾¾å¼</strong></p></blockquote><p><strong>1ã€å‡½æ•°å£°æ˜æå‡</strong></p><p><strong>jsåœ¨æ‰§è¡Œä¹‹å‰ï¼Œä¼šæŠŠfooå‡½æ•°æå‡åˆ°æœ€å‰é¢</strong>ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨funå‡½æ•°å®šä¹‰ä¹‹å‰å°±å¯ä»¥ä½¿ç”¨funå‡½æ•°ã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">fun</span>();</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fun</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;aa&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰“å°ç»“æœä¸ºaaï¼›è¯´æ˜ä»¥å‡½æ•°å£°æ˜æ¥å®šä¹‰å‡½æ•°æ—¶ï¼Œå¯ä»¥åœ¨å®šä¹‰å‡½æ•°ä¹‹å‰è®¿é—®åˆ°å®šä¹‰çš„å‡½æ•°ã€‚</p><p><strong>2ã€å‡½æ•°è¡¨è¾¾å¼æå‡</strong></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> fun = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å‡½æ•°è¡¨è¾¾å¼&#x27;</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ­¤ç§å£°æ˜æ–¹å¼æˆ‘ä»¬å¯ä»¥ç†è§£ä¸º<strong>ä¸€ä¸ªæ™®é€šå˜é‡çš„æå‡</strong>ï¼Œåœ¨jsä»£ç æ‰§è¡Œä¹‹å‰ä¼šæŠŠfunæå‡å¸¦æœ€å‰é¢ï¼Œ<strong>åœ¨å‡½æ•°èµ‹å€¼ä¹‹å‰ï¼Œfunæ˜¯undefinedï¼Œå¦‚æœè°ƒç”¨fun(),å°†ä¼šæŠ¥é”™</strong>ã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">fun</span>();</span><br><span class="line"><span class="keyword">var</span> fun = <span class="keyword">function</span> (<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;aa&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶æ‰“å°çš„ç»“æœä¸ºæŠ¥é”™<code>Uncaught TypeError: fun is not a function</code>ï¼Œå› ä¸ºåœ¨jsä»£ç æ‰§è¡Œä¹‹å‰ï¼Œä¼šæŠŠfunæå‡åˆ°æœ€å‰é¢ï¼Œå€¼ä¸ºundefinedï¼Œä¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä»¥å‡½æ•°çš„å½¢å¼æ¥è¿›è¡Œè°ƒç”¨æ—¶å°†ä¼šæŠ¥é”™ã€‚</p><h4 id="27ã€æš‚æ—¶æ€§æ­»åŒº"><a href="#27ã€æš‚æ—¶æ€§æ­»åŒº" class="headerlink" title="27ã€æš‚æ—¶æ€§æ­»åŒº"></a>27ã€æš‚æ—¶æ€§æ­»åŒº</h4><blockquote><p>æš‚æ—¶æ€§æ­»åŒºçš„æœ¬è´¨å°±æ˜¯ï¼Œåªè¦ä¸€è¿›å…¥å½“å‰ä½œç”¨åŸŸï¼Œæ‰€è¦ä½¿ç”¨çš„å˜é‡å°±å·²ç»å­˜åœ¨äº†ï¼Œä½†æ˜¯ä¸å¯è·å–ï¼Œ<strong>åªæœ‰ç­‰åˆ°å£°æ˜å˜é‡çš„é‚£ä¸€è¡Œä»£ç å‡ºç°ï¼Œæ‰å¯ä»¥è·å–å’Œä½¿ç”¨è¯¥å˜é‡</strong></p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(a);   <span class="comment">// ReferenceError: Cannot access &#x27;a&#x27; before</span></span><br><span class="line"><span class="keyword">let</span>/<span class="keyword">const</span> a = <span class="number">78</span></span><br><span class="line"> &#125;</span><br><span class="line"><span class="title function_">fn</span>()</span><br></pre></td></tr></table></figure><h4 id="28ã€ES6æ–°å¢äº†å“ªäº›è¯­æ³•"><a href="#28ã€ES6æ–°å¢äº†å“ªäº›è¯­æ³•" class="headerlink" title="28ã€ES6æ–°å¢äº†å“ªäº›è¯­æ³•"></a>28ã€ES6æ–°å¢äº†å“ªäº›è¯­æ³•</h4><blockquote><ul><li>class</li><li>ç®­å¤´å‡½æ•°</li><li>è§£æ„èµ‹å€¼</li><li>å­—ç¬¦ä¸²æ¨¡æ¿</li><li>async/await</li><li>å¼•å…¥ module æ¨¡å—</li><li>generators(ç”Ÿæˆå™¨)</li><li>Mapå’ŒSet</li></ul></blockquote><h4 id="29ã€å‡å¦‚æœ‰10ä¸‡æ¡æ•°æ®éœ€è¦å¤„ç†ï¼Œå‰ç«¯åº”è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ"><a href="#29ã€å‡å¦‚æœ‰10ä¸‡æ¡æ•°æ®éœ€è¦å¤„ç†ï¼Œå‰ç«¯åº”è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ" class="headerlink" title="29ã€å‡å¦‚æœ‰10ä¸‡æ¡æ•°æ®éœ€è¦å¤„ç†ï¼Œå‰ç«¯åº”è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ"></a>29ã€å‡å¦‚æœ‰10ä¸‡æ¡æ•°æ®éœ€è¦å¤„ç†ï¼Œå‰ç«¯åº”è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ</h4><p><a href="https://juejin.cn/post/6844904184689475592">https://juejin.cn/post/6844904184689475592</a></p><p><a href="https://juejin.cn/post/7101206944534233125#heading-29">https://juejin.cn/post/7101206944534233125#heading-29</a></p><p>æ€è·¯ï¼š</p><ol><li><strong>é‡‡ç”¨æ‡’åŠ è½½+åˆ†é¡µ(å‰ç«¯ç»´æŠ¤æ‡’åŠ è½½çš„æ•°æ®åˆ†å‘å’Œåˆ†é¡µ)</strong></li><li><strong>ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨æŠ€æœ¯(ç›®å‰reactçš„antd4.0å·²æ”¯æŒè™šæ‹Ÿæ»šåŠ¨çš„selecté•¿åˆ—è¡¨)</strong></li></ol>]]></content>
      
      
      <categories>
          
          <category> é¢è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰“å°ç»„ä»¶</title>
      <link href="/posts/12573.html"/>
      <url>/posts/12573.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="æ‰“å°element-uiçš„tableè¡¨å•"><a href="#æ‰“å°element-uiçš„tableè¡¨å•" class="headerlink" title="æ‰“å°element.uiçš„tableè¡¨å•"></a>æ‰“å°element.uiçš„tableè¡¨å•</h1><blockquote><p>1ï¼Œé¦–å…ˆç»™éœ€è¦æ‰“å°çš„å…ƒç´ ä¸€ä¸ªid</p><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20221021222503430.png" alt="image-20221021222503430"></p><p>2ï¼Œåœ¨ç‚¹å‡»æ‰“å°æŒ‰é’®çš„æ—¶å€™è°ƒç”¨æ–¹æ³•ï¼Œåœ¨æ–¹æ³•ä¸­ä¼ å…¥id</p><p><img src="https://raw.githubusercontent.com/pan52yu/blogImg/main/image-20221021222533133.png" alt="image-20221021222533133"></p><p>3ï¼Œä»£ç ä¼šæ‹¼æ¥æˆä¸€ä¸ªæ–°çš„é¡µé¢ï¼Œç„¶åæ‰“å¼€ä¸€ä¸ªæ–°çš„æµè§ˆå™¨æ ‡ç­¾ï¼Œé¢„è§ˆæ‰“å°ï¼Œéœ€è¦è°ƒæ•´çš„åœ°æ–¹ï¼Œå¯ä»¥åœ¨è¡¨å•çš„æ ·å¼ä¸­è°ƒæ•´ã€‚å‡å¦‚è¯´ä¸æƒ³æ‰“å°è¡¨å•çš„æœ€åä¸€åˆ—â€œæ“ä½œâ€ï¼Œå¯ä»¥å¤åˆ¶ä¸€ä¸ªæ–°çš„è¡¨å•ï¼Œç„¶åéšè—ï¼Œç»™å®ƒidï¼ŒæŠŠâ€œæ“ä½œâ€è¿™åˆ—çš„ä»£ç åˆ æ‰ï¼Œæ‰“å°å‡ºæ¥å°±ä¸ä¼šæœ‰â€œæ“ä½œâ€è¿™ä¸€åˆ—äº†ã€‚å…·ä½“çš„å¯ä»¥çœ‹ä¸‹ä»£ç ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"> <span class="keyword">function</span> <span class="title function_">PrintForm</span>(<span class="params">id</span>) &#123;</span><br><span class="line">  <span class="comment">// ç©ºé¡µé¢</span></span><br><span class="line">  <span class="keyword">let</span> printStr = <span class="string">&quot;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=&#x27;Content-Type&#x27; content=&#x27;text/html; charset=utf-8&#x27;&gt;&lt;/head&gt;&quot;</span>;</span><br><span class="line">  <span class="comment">// å®šä¹‰element-ui tableç»„ä»¶çš„æ ·å¼</span></span><br><span class="line">  <span class="keyword">const</span> tabStyle = <span class="string">`&lt;style&gt;</span></span><br><span class="line"><span class="string">      table&#123;width:150%;display:table-cell!important;box-sizing:border-box;table-layout:auto!important;&#125;</span></span><br><span class="line"><span class="string">      .el-table__header,.el-table__body,.el-table__footer&#123;width:100%!important;border-collapse: collapse;text-align:center;&#125;</span></span><br><span class="line"><span class="string">      table,table tr th, table tr td &#123; border:1px solid #ddd;color:#606266;word-wrap:break-word&#125;</span></span><br><span class="line"><span class="string">      table tr th,table tr td&#123;padding:5 10px;word-wrap:break-word &#125;</span></span><br><span class="line"><span class="string">      .el-table__body, tr td .cell&#123;width:100%!important&#125;</span></span><br><span class="line"><span class="string">      .el-table th.gutter&#123;display: none;&#125;</span></span><br><span class="line"><span class="string">      .el-table colgroup.gutter&#123;display: none;&#125;</span></span><br><span class="line"><span class="string">      &lt;/style&gt;&lt;body&gt;`</span>;</span><br><span class="line">  <span class="keyword">let</span> content = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="comment">// è·å–åä¸ºä¼ å…¥idçš„ domå…ƒç´ å†…çš„å†…å®¹</span></span><br><span class="line">  <span class="keyword">const</span> html = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(id).<span class="property">innerHTML</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(html)</span><br><span class="line">  <span class="comment">// æ–°å»ºä¸€ä¸ª DOM</span></span><br><span class="line">  <span class="keyword">const</span> div = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> printDOMID = <span class="string">&quot;printDOMElement&quot;</span>;</span><br><span class="line">  div.<span class="property">id</span> = printDOMID;</span><br><span class="line">  div.<span class="property">innerHTML</span> = html;</span><br><span class="line">  <span class="comment">// æå–ç¬¬ä¸€ä¸ªè¡¨æ ¼çš„å†…å®¹ å³è¡¨å¤´</span></span><br><span class="line">  <span class="keyword">const</span> ths = div.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;.el-table__header-wrapper th&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> <span class="title class_">ThsTextArry</span> = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = ths.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (ths[i].<span class="property">innerText</span> !== <span class="string">&quot;&quot;</span>) <span class="title class_">ThsTextArry</span>.<span class="title function_">push</span>(ths[i].<span class="property">innerText</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// åˆ é™¤å¤šä½™çš„è¡¨å¤´</span></span><br><span class="line">  div.<span class="title function_">querySelector</span>(<span class="string">&quot;.hidden-columns&quot;</span>).<span class="title function_">remove</span>();</span><br><span class="line">  <span class="comment">// ç¬¬ä¸€ä¸ªè¡¨æ ¼çš„å†…å®¹æå–å‡ºæ¥åå·²ç»æ²¡ç”¨äº† åˆ æ‰</span></span><br><span class="line">  div.<span class="title function_">querySelector</span>(<span class="string">&quot;.el-table__header-wrapper&quot;</span>).<span class="title function_">remove</span>();</span><br><span class="line">  <span class="comment">// å°†ç¬¬ä¸€ä¸ªè¡¨æ ¼çš„å†…å®¹æ’å…¥åˆ°ç¬¬äºŒä¸ªè¡¨æ ¼</span></span><br><span class="line">  <span class="keyword">let</span> newHTML = <span class="string">&quot;&lt;tr&gt;&quot;</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = <span class="title class_">ThsTextArry</span>.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">    newHTML +=</span><br><span class="line">      <span class="string">&#x27;&lt;td style=&quot;text-align: center; font-weight: bold&quot;&gt;&#x27;</span> +</span><br><span class="line">      <span class="title class_">ThsTextArry</span>[i] +</span><br><span class="line">      <span class="string">&quot;&lt;/td&gt;&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  newHTML += <span class="string">&quot;&lt;/tr&gt;&quot;</span>;</span><br><span class="line"></span><br><span class="line">  div.<span class="title function_">querySelector</span>(<span class="string">&quot;.el-table__body-wrapper table&quot;</span>).<span class="title function_">insertAdjacentHTML</span>(<span class="string">&quot;afterbegin&quot;</span>, newHTML);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> str = div.<span class="title function_">querySelector</span>(<span class="string">&quot;.el-table__body-wrapper&quot;</span>).<span class="property">innerHTML</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(str)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ‹¼æ¥ç©ºé¡µé¢+styleæ ·å¼+domå†…å®¹</span></span><br><span class="line">  content = content + str;</span><br><span class="line">  printStr = printStr + tabStyle + content + <span class="string">&quot;&lt;/body&gt;&lt;/html&gt;&quot;</span>;</span><br><span class="line">  <span class="comment">// æ‰“å¼€æ–°é¡µé¢</span></span><br><span class="line">  <span class="keyword">let</span> pWin = <span class="variable language_">window</span>.<span class="title function_">open</span>(<span class="string">&quot;_blank&quot;</span>);</span><br><span class="line">  <span class="comment">// å°†å†…å®¹èµ‹å€¼åˆ°æ–°é¡µé¢</span></span><br><span class="line">  pWin.<span class="property">document</span>.<span class="title function_">write</span>(printStr);</span><br><span class="line">  <span class="comment">// ä½¿ç”¨setTimeoutï¼Œç­‰é¡µé¢domå…ƒç´ æ¸²æŸ“å®Œæˆåå†æ‰“å°ã€‚</span></span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    pWin.<span class="title function_">print</span>(); <span class="comment">// è°ƒç”¨æ‰“å°åŠŸèƒ½ã€‚</span></span><br><span class="line">    pWin.<span class="title function_">close</span>(); <span class="comment">// å…³é—­ æ‰“å°åˆ›å»ºçš„å½“å‰é¡µé¢</span></span><br><span class="line">  &#125;, <span class="number">100</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>HTTPç›¸å…³çŸ¥è¯†</title>
      <link href="/posts/17087.html"/>
      <url>/posts/17087.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="Post-å’Œ-Get-çš„åŒºåˆ«"><a href="#Post-å’Œ-Get-çš„åŒºåˆ«" class="headerlink" title="Post å’Œ Get çš„åŒºåˆ«"></a>Post å’Œ Get çš„åŒºåˆ«</h3><p>å…ˆå¼•å…¥å‰¯ä½œç”¨å’Œå¹‚ç­‰çš„æ¦‚å¿µã€‚</p><p>å‰¯ä½œç”¨æŒ‡å¯¹æœåŠ¡å™¨ä¸Šçš„èµ„æºåšæ”¹å˜ï¼Œæœç´¢æ˜¯æ— å‰¯ä½œç”¨çš„ï¼Œæ³¨å†Œæ˜¯å‰¯ä½œç”¨çš„ã€‚</p><p>å¹‚ç­‰æŒ‡å‘é€ M å’Œ N æ¬¡è¯·æ±‚ï¼ˆä¸¤è€…ä¸ç›¸åŒä¸”éƒ½å¤§äº 1ï¼‰ï¼ŒæœåŠ¡å™¨ä¸Šèµ„æºçš„çŠ¶æ€ä¸€è‡´ï¼Œæ¯”å¦‚æ³¨å†Œ 10 ä¸ªå’Œ 11 ä¸ªå¸å·æ˜¯ä¸å¹‚ç­‰çš„ï¼Œå¯¹æ–‡ç« è¿›è¡Œæ›´æ”¹ 10 æ¬¡å’Œ 11 æ¬¡æ˜¯å¹‚ç­‰çš„ã€‚</p><p>åœ¨è§„èŒƒçš„åº”ç”¨åœºæ™¯ä¸Šè¯´ï¼ŒGet å¤šç”¨äºæ— å‰¯ä½œç”¨ï¼Œå¹‚ç­‰çš„åœºæ™¯ï¼Œä¾‹å¦‚æœç´¢å…³é”®å­—ã€‚Post å¤šç”¨äºå‰¯ä½œç”¨ï¼Œä¸å¹‚ç­‰çš„åœºæ™¯ï¼Œä¾‹å¦‚æ³¨å†Œã€‚</p><p>åœ¨æŠ€æœ¯ä¸Šè¯´ï¼š</p><ul><li>Get è¯·æ±‚èƒ½ç¼“å­˜ï¼ŒPost ä¸èƒ½</li><li>Post ç›¸å¯¹ Get å®‰å…¨ä¸€ç‚¹ç‚¹ï¼Œå› ä¸ºGet è¯·æ±‚éƒ½åŒ…å«åœ¨ URL é‡Œï¼Œä¸”ä¼šè¢«æµè§ˆå™¨ä¿å­˜å†å²çºªå½•ï¼ŒPost ä¸ä¼šï¼Œä½†æ˜¯åœ¨æŠ“åŒ…çš„æƒ…å†µä¸‹éƒ½æ˜¯ä¸€æ ·çš„ã€‚</li><li>Post å¯ä»¥é€šè¿‡ request bodyæ¥ä¼ è¾“æ¯” Get æ›´å¤šçš„æ•°æ®ï¼ŒGet æ²¡æœ‰è¿™ä¸ªæŠ€æœ¯</li><li>URLæœ‰é•¿åº¦é™åˆ¶ï¼Œä¼šå½±å“ Get è¯·æ±‚ï¼Œä½†æ˜¯è¿™ä¸ªé•¿åº¦é™åˆ¶æ˜¯æµè§ˆå™¨è§„å®šçš„ï¼Œä¸æ˜¯ RFC è§„å®šçš„</li><li>Post æ”¯æŒæ›´å¤šçš„ç¼–ç ç±»å‹ä¸”ä¸å¯¹æ•°æ®ç±»å‹é™åˆ¶</li></ul><h3 id="å¸¸è§çŠ¶æ€ç "><a href="#å¸¸è§çŠ¶æ€ç " class="headerlink" title="å¸¸è§çŠ¶æ€ç "></a>å¸¸è§çŠ¶æ€ç </h3><p><strong>2XX æˆåŠŸ</strong></p><ul><li>200 OKï¼Œè¡¨ç¤ºä»å®¢æˆ·ç«¯å‘æ¥çš„è¯·æ±‚åœ¨æœåŠ¡å™¨ç«¯è¢«æ­£ç¡®å¤„ç†</li><li>204 No contentï¼Œè¡¨ç¤ºè¯·æ±‚æˆåŠŸï¼Œä½†å“åº”æŠ¥æ–‡ä¸å«å®ä½“çš„ä¸»ä½“éƒ¨åˆ†</li><li>205 Reset Contentï¼Œè¡¨ç¤ºè¯·æ±‚æˆåŠŸï¼Œä½†å“åº”æŠ¥æ–‡ä¸å«å®ä½“çš„ä¸»ä½“éƒ¨åˆ†ï¼Œä½†æ˜¯ä¸ 204 å“åº”ä¸åŒåœ¨äºè¦æ±‚è¯·æ±‚æ–¹é‡ç½®å†…å®¹</li><li>206 Partial Contentï¼Œè¿›è¡ŒèŒƒå›´è¯·æ±‚</li></ul><p><strong>3XX é‡å®šå‘</strong></p><ul><li>301 moved permanentlyï¼Œæ°¸ä¹…æ€§é‡å®šå‘ï¼Œè¡¨ç¤ºèµ„æºå·²è¢«åˆ†é…äº†æ–°çš„ URL</li><li>302 foundï¼Œä¸´æ—¶æ€§é‡å®šå‘ï¼Œè¡¨ç¤ºèµ„æºä¸´æ—¶è¢«åˆ†é…äº†æ–°çš„ URL</li><li>303 see otherï¼Œè¡¨ç¤ºèµ„æºå­˜åœ¨ç€å¦ä¸€ä¸ª URLï¼Œåº”ä½¿ç”¨ GET æ–¹æ³•è·å–èµ„æº</li><li>304 not modifiedï¼Œè¡¨ç¤ºæœåŠ¡å™¨å…è®¸è®¿é—®èµ„æºï¼Œä½†å› å‘ç”Ÿè¯·æ±‚æœªæ»¡è¶³æ¡ä»¶çš„æƒ…å†µ</li><li>307 temporary redirectï¼Œä¸´æ—¶é‡å®šå‘ï¼Œå’Œ302å«ä¹‰ç±»ä¼¼ï¼Œä½†æ˜¯æœŸæœ›å®¢æˆ·ç«¯ä¿æŒè¯·æ±‚æ–¹æ³•ä¸å˜å‘æ–°çš„åœ°å€å‘å‡ºè¯·æ±‚</li></ul><p><strong>4XX å®¢æˆ·ç«¯é”™è¯¯</strong></p><ul><li>400 bad requestï¼Œè¯·æ±‚æŠ¥æ–‡å­˜åœ¨è¯­æ³•é”™è¯¯</li><li>401 unauthorizedï¼Œè¡¨ç¤ºå‘é€çš„è¯·æ±‚éœ€è¦æœ‰é€šè¿‡ HTTP è®¤è¯çš„è®¤è¯ä¿¡æ¯</li><li>403 forbiddenï¼Œè¡¨ç¤ºå¯¹è¯·æ±‚èµ„æºçš„è®¿é—®è¢«æœåŠ¡å™¨æ‹’ç»</li><li>404 not foundï¼Œè¡¨ç¤ºåœ¨æœåŠ¡å™¨ä¸Šæ²¡æœ‰æ‰¾åˆ°è¯·æ±‚çš„èµ„æº</li></ul><p><strong>5XX æœåŠ¡å™¨é”™è¯¯</strong></p><ul><li>500 internal sever errorï¼Œè¡¨ç¤ºæœåŠ¡å™¨ç«¯åœ¨æ‰§è¡Œè¯·æ±‚æ—¶å‘ç”Ÿäº†é”™è¯¯</li><li>501 Not Implementedï¼Œè¡¨ç¤ºæœåŠ¡å™¨ä¸æ”¯æŒå½“å‰è¯·æ±‚æ‰€éœ€è¦çš„æŸä¸ªåŠŸèƒ½<ul><li>503 service unavailableï¼Œè¡¨æ˜æœåŠ¡å™¨æš‚æ—¶å¤„äºè¶…è´Ÿè½½æˆ–æ­£åœ¨åœæœºç»´æŠ¤ï¼Œæ— æ³•å¤„ç†è¯·æ±‚</li></ul></li></ul><h3 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h3><p>DNS çš„ä½œç”¨å°±æ˜¯é€šè¿‡åŸŸåæŸ¥è¯¢åˆ°å…·ä½“çš„ IPã€‚</p><p>å› ä¸º IP å­˜åœ¨æ•°å­—å’Œè‹±æ–‡çš„ç»„åˆï¼ˆIPv6ï¼‰ï¼Œå¾ˆä¸åˆ©äºäººç±»è®°å¿†ï¼Œæ‰€ä»¥å°±å‡ºç°äº†åŸŸåã€‚ä½ å¯ä»¥æŠŠåŸŸåçœ‹æˆæ˜¯æŸä¸ª IP çš„åˆ«åï¼ŒDNS å°±æ˜¯å»æŸ¥è¯¢è¿™ä¸ªåˆ«åçš„çœŸæ­£åç§°æ˜¯ä»€ä¹ˆã€‚</p><p>åœ¨ TCP æ¡æ‰‹ä¹‹å‰å°±å·²ç»è¿›è¡Œäº† DNS æŸ¥è¯¢ï¼Œè¿™ä¸ªæŸ¥è¯¢æ˜¯æ“ä½œç³»ç»Ÿè‡ªå·±åšçš„ã€‚å½“ä½ åœ¨æµè§ˆå™¨ä¸­æƒ³è®¿é—® <code>www.google.com</code> æ—¶ï¼Œä¼šè¿›è¡Œä¸€ä¸‹æ“ä½œï¼š</p><ol><li>æ“ä½œç³»ç»Ÿä¼šé¦–å…ˆåœ¨æœ¬åœ°ç¼“å­˜ä¸­æŸ¥è¯¢</li><li>æ²¡æœ‰çš„è¯ä¼šå»ç³»ç»Ÿé…ç½®çš„ DNS æœåŠ¡å™¨ä¸­æŸ¥è¯¢</li><li>å¦‚æœè¿™æ—¶å€™è¿˜æ²¡å¾—è¯ï¼Œä¼šç›´æ¥å» DNS æ ¹æœåŠ¡å™¨æŸ¥è¯¢ï¼Œè¿™ä¸€æ­¥æŸ¥è¯¢ä¼šæ‰¾å‡ºè´Ÿè´£ <code>com</code> è¿™ä¸ªä¸€çº§åŸŸåçš„æœåŠ¡å™¨</li><li>ç„¶åå»è¯¥æœåŠ¡å™¨æŸ¥è¯¢ <code>google</code> è¿™ä¸ªäºŒçº§åŸŸå</li><li>æ¥ä¸‹æ¥ä¸‰çº§åŸŸåçš„æŸ¥è¯¢å…¶å®æ˜¯æˆ‘ä»¬é…ç½®çš„ï¼Œä½ å¯ä»¥ç»™ <code>www</code> è¿™ä¸ªåŸŸåé…ç½®ä¸€ä¸ª IPï¼Œç„¶åè¿˜å¯ä»¥ç»™åˆ«çš„ä¸‰çº§åŸŸåé…ç½®ä¸€ä¸ª IP</li></ol><p>ä»¥ä¸Šä»‹ç»çš„æ˜¯ DNS è¿­ä»£æŸ¥è¯¢ï¼Œè¿˜æœ‰ç§æ˜¯é€’å½’æŸ¥è¯¢ï¼ŒåŒºåˆ«å°±æ˜¯å‰è€…æ˜¯ç”±å®¢æˆ·ç«¯å»åšè¯·æ±‚ï¼Œåè€…æ˜¯ç”±ç³»ç»Ÿé…ç½®çš„ DNS æœåŠ¡å™¨åšè¯·æ±‚ï¼Œå¾—åˆ°ç»“æœåå°†æ•°æ®è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p><p>PSï¼šDNS æ˜¯åŸºäº UDP åšçš„æŸ¥è¯¢ã€‚</p><h3 id="ä»è¾“å…¥-URL-åˆ°é¡µé¢åŠ è½½å®Œæˆçš„è¿‡ç¨‹"><a href="#ä»è¾“å…¥-URL-åˆ°é¡µé¢åŠ è½½å®Œæˆçš„è¿‡ç¨‹" class="headerlink" title="ä»è¾“å…¥ URL åˆ°é¡µé¢åŠ è½½å®Œæˆçš„è¿‡ç¨‹"></a>ä»è¾“å…¥ URL åˆ°é¡µé¢åŠ è½½å®Œæˆçš„è¿‡ç¨‹</h3><p>è¿™æ˜¯ä¸€ä¸ªå¾ˆç»å…¸çš„é¢è¯•é¢˜ï¼Œåœ¨è¿™é¢˜ä¸­å¯ä»¥å°†æœ¬æ–‡è®²å¾—å†…å®¹éƒ½ä¸²è”èµ·æ¥ã€‚</p><ol><li>é¦–å…ˆåš DNS æŸ¥è¯¢ï¼Œå¦‚æœè¿™ä¸€æ­¥åšäº†æ™ºèƒ½ DNS è§£æçš„è¯ï¼Œä¼šæä¾›è®¿é—®é€Ÿåº¦æœ€å¿«çš„ IP åœ°å€å›æ¥</li><li>æ¥ä¸‹æ¥æ˜¯ TCP æ¡æ‰‹ï¼Œåº”ç”¨å±‚ä¼šä¸‹å‘æ•°æ®ç»™ä¼ è¾“å±‚ï¼Œè¿™é‡Œ TCP åè®®ä¼šæŒ‡æ˜ä¸¤ç«¯çš„ç«¯å£å·ï¼Œç„¶åä¸‹å‘ç»™ç½‘ç»œå±‚ã€‚ç½‘ç»œå±‚ä¸­çš„ IP åè®®ä¼šç¡®å®š IP åœ°å€ï¼Œå¹¶ä¸”æŒ‡ç¤ºäº†æ•°æ®ä¼ è¾“ä¸­å¦‚ä½•è·³è½¬è·¯ç”±å™¨ã€‚ç„¶ååŒ…ä¼šå†è¢«å°è£…åˆ°æ•°æ®é“¾è·¯å±‚çš„æ•°æ®å¸§ç»“æ„ä¸­ï¼Œæœ€åå°±æ˜¯ç‰©ç†å±‚é¢çš„ä¼ è¾“äº†</li><li>TCP æ¡æ‰‹ç»“æŸåä¼šè¿›è¡Œ TLS æ¡æ‰‹ï¼Œç„¶åå°±å¼€å§‹æ­£å¼çš„ä¼ è¾“æ•°æ®</li><li>æ•°æ®åœ¨è¿›å…¥æœåŠ¡ç«¯ä¹‹å‰ï¼Œå¯èƒ½è¿˜ä¼šå…ˆç»è¿‡è´Ÿè´£è´Ÿè½½å‡è¡¡çš„æœåŠ¡å™¨ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯å°†è¯·æ±‚åˆç†çš„åˆ†å‘åˆ°å¤šå°æœåŠ¡å™¨ä¸Šï¼Œè¿™æ—¶å‡è®¾æœåŠ¡ç«¯ä¼šå“åº”ä¸€ä¸ª HTML æ–‡ä»¶</li><li>é¦–å…ˆæµè§ˆå™¨ä¼šåˆ¤æ–­çŠ¶æ€ç æ˜¯ä»€ä¹ˆï¼Œå¦‚æœæ˜¯ 200 é‚£å°±ç»§ç»­è§£æï¼Œå¦‚æœ 400 æˆ– 500 çš„è¯å°±ä¼šæŠ¥é”™ï¼Œå¦‚æœ 300 çš„è¯ä¼šè¿›è¡Œé‡å®šå‘ï¼Œè¿™é‡Œä¼šæœ‰ä¸ªé‡å®šå‘è®¡æ•°å™¨ï¼Œé¿å…è¿‡å¤šæ¬¡çš„é‡å®šå‘ï¼Œè¶…è¿‡æ¬¡æ•°ä¹Ÿä¼šæŠ¥é”™</li><li>æµè§ˆå™¨å¼€å§‹è§£ææ–‡ä»¶ï¼Œå¦‚æœæ˜¯ gzip æ ¼å¼çš„è¯ä¼šå…ˆè§£å‹ä¸€ä¸‹ï¼Œç„¶åé€šè¿‡æ–‡ä»¶çš„ç¼–ç æ ¼å¼çŸ¥é“è¯¥å¦‚ä½•å»è§£ç æ–‡ä»¶</li><li>æ–‡ä»¶è§£ç æˆåŠŸåä¼šæ­£å¼å¼€å§‹æ¸²æŸ“æµç¨‹ï¼Œå…ˆä¼šæ ¹æ® HTML æ„å»º DOM æ ‘ï¼Œæœ‰ CSS çš„è¯ä¼šå»æ„å»º CSSOM æ ‘ã€‚å¦‚æœé‡åˆ° <code>script</code> æ ‡ç­¾çš„è¯ï¼Œä¼šåˆ¤æ–­æ˜¯å¦å­˜åœ¨ <code>async</code> æˆ–è€… <code>defer</code> ï¼Œå‰è€…ä¼šå¹¶è¡Œè¿›è¡Œä¸‹è½½å¹¶æ‰§è¡Œ JSï¼Œåè€…ä¼šå…ˆä¸‹è½½æ–‡ä»¶ï¼Œç„¶åç­‰å¾… HTML è§£æå®Œæˆåé¡ºåºæ‰§è¡Œï¼Œå¦‚æœä»¥ä¸Šéƒ½æ²¡æœ‰ï¼Œå°±ä¼šé˜»å¡ä½æ¸²æŸ“æµç¨‹ç›´åˆ° JS æ‰§è¡Œå®Œæ¯•ã€‚é‡åˆ°æ–‡ä»¶ä¸‹è½½çš„ä¼šå»ä¸‹è½½æ–‡ä»¶ï¼Œè¿™é‡Œå¦‚æœä½¿ç”¨ HTTP 2.0 åè®®çš„è¯ä¼šæå¤§çš„æé«˜å¤šå›¾çš„ä¸‹è½½æ•ˆç‡ã€‚</li><li>åˆå§‹çš„ HTML è¢«å®Œå…¨åŠ è½½å’Œè§£æåä¼šè§¦å‘ <code>DOMContentLoaded</code> äº‹ä»¶</li><li>CSSOM æ ‘å’Œ DOM æ ‘æ„å»ºå®Œæˆåä¼šå¼€å§‹ç”Ÿæˆ Render æ ‘ï¼Œè¿™ä¸€æ­¥å°±æ˜¯ç¡®å®šé¡µé¢å…ƒç´ çš„å¸ƒå±€ã€æ ·å¼ç­‰ç­‰è¯¸å¤šæ–¹é¢çš„ä¸œè¥¿</li><li>åœ¨ç”Ÿæˆ Render æ ‘çš„è¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨å°±å¼€å§‹è°ƒç”¨ GPU ç»˜åˆ¶ï¼Œåˆæˆå›¾å±‚ï¼Œå°†å†…å®¹æ˜¾ç¤ºåœ¨å±å¹•ä¸Šäº†</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> http </tag>
            
            <tag> çŠ¶æ€ç  </tag>
            
            <tag> DNS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼‚æ­¥ç¬”è¯•é¢˜</title>
      <link href="/posts/44210.html"/>
      <url>/posts/44210.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>å¼‚æ­¥ç¬”è¯•é¢˜</p></blockquote><p>è¯·å†™å‡ºä¸‹é¢ä»£ç çš„è¿è¡Œç»“æœ</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">async1</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async1 start&#x27;</span>);</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">async2</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async1 end&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">async2</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async2&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script start&#x27;</span>);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setTimeout&#x27;</span>);</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="title function_">async1</span>();</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise1&#x27;</span>);</span><br><span class="line">    <span class="title function_">resolve</span>();</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise2&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script end&#x27;</span>);</span><br></pre></td></tr></table></figure><p>è¿™é“é¢˜ä¸»è¦è€ƒå¯Ÿçš„æ˜¯äº‹ä»¶å¾ªç¯ä¸­å‡½æ•°æ‰§è¡Œé¡ºåºçš„é—®é¢˜ï¼Œå…¶ä¸­åŒ…æ‹¬<code>async</code>ï¼Œ<code>await</code>ï¼Œ<code>setTimeout</code>ï¼Œ<code>Promise</code>å‡½æ•°ã€‚ä¸‹é¢æ¥è¯´ä¸€ä¸‹æœ¬é¢˜ä¸­æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹ã€‚</p><h3 id="ä»»åŠ¡é˜Ÿåˆ—"><a href="#ä»»åŠ¡é˜Ÿåˆ—" class="headerlink" title="ä»»åŠ¡é˜Ÿåˆ—"></a><strong>ä»»åŠ¡é˜Ÿåˆ—</strong></h3><p>â€‹    é¦–å…ˆæˆ‘ä»¬éœ€è¦æ˜ç™½ä»¥ä¸‹å‡ ä»¶äº‹æƒ…ï¼š</p><ul><li>JSåˆ†ä¸ºåŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡</li><li>åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆ</li><li>ä¸»çº¿ç¨‹ä¹‹å¤–ï¼Œäº‹ä»¶è§¦å‘çº¿ç¨‹ç®¡ç†ç€ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ï¼Œåªè¦å¼‚æ­¥ä»»åŠ¡æœ‰äº†è¿è¡Œç»“æœï¼Œå°±åœ¨ä»»åŠ¡é˜Ÿåˆ—ä¹‹ä¸­æ”¾ç½®ä¸€ä¸ªäº‹ä»¶ã€‚</li><li>ä¸€æ—¦æ‰§è¡Œæ ˆä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼ˆæ­¤æ—¶JSå¼•æ“ç©ºé—²ï¼‰ï¼Œç³»ç»Ÿå°±ä¼šè¯»å–ä»»åŠ¡é˜Ÿåˆ—ï¼Œå°†å¯è¿è¡Œçš„å¼‚æ­¥ä»»åŠ¡æ·»åŠ åˆ°å¯æ‰§è¡Œæ ˆä¸­ï¼Œå¼€å§‹æ‰§è¡Œã€‚</li></ul><p>â€‹    æ ¹æ®è§„èŒƒï¼Œäº‹ä»¶å¾ªç¯æ˜¯é€šè¿‡<a href="https://www.w3.org/TR/html5/webappapis.html#task-queues">ä»»åŠ¡é˜Ÿåˆ—</a>çš„æœºåˆ¶æ¥è¿›è¡Œåè°ƒçš„ã€‚ä¸€ä¸ª Event Loop ä¸­ï¼Œå¯ä»¥æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªä»»åŠ¡é˜Ÿåˆ—(task queue)ï¼Œä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ä¾¿æ˜¯ä¸€ç³»åˆ—æœ‰åºä»»åŠ¡(task)çš„é›†åˆï¼›<strong>æ¯ä¸ªä»»åŠ¡éƒ½æœ‰ä¸€ä¸ªä»»åŠ¡æº(task source)ï¼Œæºè‡ªåŒä¸€ä¸ªä»»åŠ¡æºçš„ task å¿…é¡»æ”¾åˆ°åŒä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ï¼Œä»ä¸åŒæºæ¥çš„åˆ™è¢«æ·»åŠ åˆ°ä¸åŒé˜Ÿåˆ—ã€‚</strong> setTimeout/Promise ç­‰APIä¾¿æ˜¯ä»»åŠ¡æºï¼Œè€Œè¿›å…¥ä»»åŠ¡é˜Ÿåˆ—çš„æ˜¯ä»–ä»¬æŒ‡å®šçš„å…·ä½“æ‰§è¡Œä»»åŠ¡ã€‚</p><p>â€‹    <a href="https://camo.githubusercontent.com/569f3f8af4ef408bf1c8e86ef1a0c593a6b2a678e1ab36fb1d641d1f292dce08/68747470733a2f2f692e6c6f6c692e6e65742f323031392f30322f30382f356335643764383530353663372e706e67"><img src="https://camo.githubusercontent.com/569f3f8af4ef408bf1c8e86ef1a0c593a6b2a678e1ab36fb1d641d1f292dce08/68747470733a2f2f692e6c6f6c692e6e65742f323031392f30322f30382f356335643764383530353663372e706e67" alt="img"></a></p><h3 id="å®ä»»åŠ¡"><a href="#å®ä»»åŠ¡" class="headerlink" title="å®ä»»åŠ¡"></a><strong>å®ä»»åŠ¡</strong></h3><p>â€‹    (macro)taskï¼ˆåˆç§°ä¹‹ä¸ºå®ä»»åŠ¡ï¼‰ï¼Œå¯ä»¥ç†è§£æ˜¯æ¯æ¬¡æ‰§è¡Œæ ˆæ‰§è¡Œçš„ä»£ç å°±æ˜¯ä¸€ä¸ªå®ä»»åŠ¡ï¼ˆåŒ…æ‹¬æ¯æ¬¡ä»äº‹ä»¶é˜Ÿåˆ—ä¸­è·å–ä¸€ä¸ªäº‹ä»¶å›è°ƒå¹¶æ”¾åˆ°æ‰§è¡Œæ ˆä¸­æ‰§è¡Œï¼‰ã€‚</p><p>â€‹    æµè§ˆå™¨ä¸ºäº†èƒ½å¤Ÿä½¿å¾—JSå†…éƒ¨(macro)taskä¸DOMä»»åŠ¡èƒ½å¤Ÿæœ‰åºçš„æ‰§è¡Œï¼Œ<strong>ä¼šåœ¨ä¸€ä¸ª(macro)taskæ‰§è¡Œç»“æŸåï¼Œåœ¨ä¸‹ä¸€ä¸ª(macro)task æ‰§è¡Œå¼€å§‹å‰ï¼Œå¯¹é¡µé¢è¿›è¡Œé‡æ–°æ¸²æŸ“</strong>ï¼Œæµç¨‹å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">(macro)task-&gt;æ¸²æŸ“-&gt;(macro)task-&gt;...</span><br></pre></td></tr></table></figure><p>(macro)taskä¸»è¦åŒ…å«ï¼šscript(æ•´ä½“ä»£ç )ã€setTimeoutã€setIntervalã€I/Oã€UIäº¤äº’äº‹ä»¶ã€postMessageã€MessageChannelã€setImmediate(Node.js ç¯å¢ƒ)</p><h3 id="å¾®ä»»åŠ¡"><a href="#å¾®ä»»åŠ¡" class="headerlink" title="å¾®ä»»åŠ¡"></a><strong>å¾®ä»»åŠ¡</strong></h3><p>â€‹    microtaskï¼ˆåˆç§°ä¸ºå¾®ä»»åŠ¡ï¼‰ï¼Œ<strong>å¯ä»¥ç†è§£æ˜¯åœ¨å½“å‰ task æ‰§è¡Œç»“æŸåç«‹å³æ‰§è¡Œçš„ä»»åŠ¡</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å½“å‰taskä»»åŠ¡åï¼Œä¸‹ä¸€ä¸ªtaskä¹‹å‰ï¼Œåœ¨æ¸²æŸ“ä¹‹å‰ã€‚</p><p>â€‹    æ‰€ä»¥å®ƒçš„å“åº”é€Ÿåº¦ç›¸æ¯”setTimeoutï¼ˆsetTimeoutæ˜¯taskï¼‰ä¼šæ›´å¿«ï¼Œå› ä¸ºæ— éœ€ç­‰æ¸²æŸ“ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æŸä¸€ä¸ªmacrotaskæ‰§è¡Œå®Œåï¼Œå°±ä¼šå°†åœ¨å®ƒæ‰§è¡ŒæœŸé—´äº§ç”Ÿçš„æ‰€æœ‰microtaskéƒ½æ‰§è¡Œå®Œæ¯•ï¼ˆåœ¨æ¸²æŸ“å‰ï¼‰ã€‚</p><p>â€‹    microtaskä¸»è¦åŒ…å«ï¼šPromise.thenã€MutaionObserverã€process.nextTick(Node.js ç¯å¢ƒ)</p><h3 id="è¿è¡Œæœºåˆ¶"><a href="#è¿è¡Œæœºåˆ¶" class="headerlink" title="è¿è¡Œæœºåˆ¶"></a><strong>è¿è¡Œæœºåˆ¶</strong></h3><p>â€‹    åœ¨äº‹ä»¶å¾ªç¯ä¸­ï¼Œæ¯è¿›è¡Œä¸€æ¬¡å¾ªç¯æ“ä½œç§°ä¸º tickï¼Œæ¯ä¸€æ¬¡ tick çš„ä»»åŠ¡<a href="https://www.w3.org/TR/html5/webappapis.html#event-loops-processing-model">å¤„ç†æ¨¡å‹</a>æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œä½†å…³é”®æ­¥éª¤å¦‚ä¸‹ï¼š</p><ul><li>æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡ï¼ˆæ ˆä¸­æ²¡æœ‰å°±ä»äº‹ä»¶é˜Ÿåˆ—ä¸­è·å–ï¼‰</li><li>æ‰§è¡Œè¿‡ç¨‹ä¸­å¦‚æœé‡åˆ°å¾®ä»»åŠ¡ï¼Œå°±å°†å®ƒæ·»åŠ åˆ°å¾®ä»»åŠ¡çš„ä»»åŠ¡é˜Ÿåˆ—ä¸­</li><li>å®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åï¼Œç«‹å³æ‰§è¡Œå½“å‰å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰å¾®ä»»åŠ¡ï¼ˆä¾æ¬¡æ‰§è¡Œï¼‰</li><li>å½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ£€æŸ¥æ¸²æŸ“ï¼Œç„¶åGUIçº¿ç¨‹æ¥ç®¡æ¸²æŸ“</li><li>æ¸²æŸ“å®Œæ¯•åï¼ŒJSçº¿ç¨‹ç»§ç»­æ¥ç®¡ï¼Œå¼€å§‹ä¸‹ä¸€ä¸ªå®ä»»åŠ¡ï¼ˆä»äº‹ä»¶é˜Ÿåˆ—ä¸­è·å–ï¼‰</li></ul><p>â€‹    æµç¨‹å›¾å¦‚ä¸‹ï¼š</p><p>â€‹    <a href="https://camo.githubusercontent.com/6960fe108d5b5064db1751528fc65ed70f08be3f40c25024ceef66370f4ef1b3/68747470733a2f2f692e6c6f6c692e6e65742f323031392f30322f30382f356335643661353238626461662e6a7067"><img src="https://camo.githubusercontent.com/6960fe108d5b5064db1751528fc65ed70f08be3f40c25024ceef66370f4ef1b3/68747470733a2f2f692e6c6f6c692e6e65742f323031392f30322f30382f356335643661353238626461662e6a7067" alt="img"></a></p><h3 id="Promiseå’Œasyncä¸­çš„ç«‹å³æ‰§è¡Œ"><a href="#Promiseå’Œasyncä¸­çš„ç«‹å³æ‰§è¡Œ" class="headerlink" title="Promiseå’Œasyncä¸­çš„ç«‹å³æ‰§è¡Œ"></a><strong>Promiseå’Œasyncä¸­çš„ç«‹å³æ‰§è¡Œ</strong></h3><p>æˆ‘ä»¬çŸ¥é“Promiseä¸­çš„å¼‚æ­¥ä½“ç°åœ¨<code>then</code>å’Œ<code>catch</code>ä¸­ï¼Œæ‰€ä»¥å†™åœ¨Promiseä¸­çš„ä»£ç æ˜¯è¢«å½“åšåŒæ­¥ä»»åŠ¡ç«‹å³æ‰§è¡Œçš„ã€‚è€Œåœ¨async/awaitä¸­ï¼Œåœ¨å‡ºç°awaitå‡ºç°ä¹‹å‰ï¼Œå…¶ä¸­çš„ä»£ç ä¹Ÿæ˜¯ç«‹å³æ‰§è¡Œçš„ã€‚é‚£ä¹ˆå‡ºç°äº†awaitæ—¶å€™å‘ç”Ÿäº†ä»€ä¹ˆå‘¢ï¼Ÿ</p><h3 id="awaitåšäº†ä»€ä¹ˆ"><a href="#awaitåšäº†ä»€ä¹ˆ" class="headerlink" title="awaitåšäº†ä»€ä¹ˆ"></a><strong>awaitåšäº†ä»€ä¹ˆ</strong></h3><p>â€‹    ä»å­—é¢æ„æ€ä¸Šçœ‹awaitå°±æ˜¯ç­‰å¾…ï¼Œawait ç­‰å¾…çš„æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿™ä¸ªè¡¨è¾¾å¼çš„è¿”å›å€¼å¯ä»¥æ˜¯ä¸€ä¸ªpromiseå¯¹è±¡ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–å€¼ã€‚</p><p>â€‹    å¾ˆå¤šäººä»¥ä¸ºawaitä¼šä¸€ç›´ç­‰å¾…ä¹‹åçš„è¡¨è¾¾å¼æ‰§è¡Œå®Œä¹‹åæ‰ä¼šç»§ç»­æ‰§è¡Œåé¢çš„ä»£ç ï¼Œ<strong>å®é™…ä¸Šawaitæ˜¯ä¸€ä¸ªè®©å‡ºçº¿ç¨‹çš„æ ‡å¿—ã€‚awaitåé¢çš„è¡¨è¾¾å¼ä¼šå…ˆæ‰§è¡Œä¸€éï¼Œå°†awaitåé¢çš„ä»£ç åŠ å…¥åˆ°microtaskä¸­ï¼Œç„¶åå°±ä¼šè·³å‡ºæ•´ä¸ªasyncå‡½æ•°æ¥æ‰§è¡Œåé¢çš„ä»£ç ã€‚</strong></p><p>â€‹    ç”±äºå› ä¸ºasync await æœ¬èº«å°±æ˜¯promise+generatorçš„è¯­æ³•ç³–ã€‚æ‰€ä»¥awaitåé¢çš„ä»£ç æ˜¯microtaskã€‚æ‰€ä»¥å¯¹äºæœ¬é¢˜ä¸­çš„</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">async1</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async1 start&#x27;</span>);</span><br><span class="line"><span class="keyword">await</span> <span class="title function_">async2</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async1 end&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç­‰ä»·äº</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">async1</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async1 start&#x27;</span>);</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="title function_">async2</span>()).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async1 end&#x27;</span>);</span><br><span class="line">        &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å›åˆ°æœ¬é¢˜"><a href="#å›åˆ°æœ¬é¢˜" class="headerlink" title="å›åˆ°æœ¬é¢˜"></a><strong>å›åˆ°æœ¬é¢˜</strong></h3><p>â€‹    ä»¥ä¸Šå°±æœ¬é“é¢˜æ¶‰åŠåˆ°çš„æ‰€æœ‰ç›¸å…³çŸ¥è¯†ç‚¹äº†ï¼Œä¸‹é¢æˆ‘ä»¬å†å›åˆ°è¿™é“é¢˜æ¥ä¸€æ­¥ä¸€æ­¥çœ‹çœ‹æ€ä¹ˆå›äº‹å„¿ã€‚</p><ol><li>é¦–å…ˆï¼Œäº‹ä»¶å¾ªç¯ä»å®ä»»åŠ¡(macrotask)é˜Ÿåˆ—å¼€å§‹ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œåªæœ‰ä¸€ä¸ªscript(æ•´ä½“ä»£ç )ä»»åŠ¡ï¼›å½“é‡åˆ°ä»»åŠ¡æº(task source)æ—¶ï¼Œåˆ™ä¼šå…ˆåˆ†å‘ä»»åŠ¡åˆ°å¯¹åº”çš„ä»»åŠ¡é˜Ÿåˆ—ä¸­å»ã€‚æ‰€ä»¥ï¼Œä¸Šé¢ä¾‹å­çš„ç¬¬ä¸€æ­¥æ‰§è¡Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</li></ol><p><a href="https://camo.githubusercontent.com/5f236daf1f85b04ffae36a526b7a50aaa4331d58b43b99cdf7c8703c94ead6e4/68747470733a2f2f692e6c6f6c692e6e65742f323031392f30322f30382f356335643639623432316166332e706e67"><img src="https://camo.githubusercontent.com/5f236daf1f85b04ffae36a526b7a50aaa4331d58b43b99cdf7c8703c94ead6e4/68747470733a2f2f692e6c6f6c692e6e65742f323031392f30322f30382f356335643639623432316166332e706e67" alt="img"></a></p><p>2.ç„¶åæˆ‘ä»¬çœ‹åˆ°é¦–å…ˆå®šä¹‰äº†ä¸¤ä¸ªasyncå‡½æ•°ï¼Œæ¥ç€å¾€ä¸‹çœ‹ï¼Œç„¶åé‡åˆ°äº† <code>console</code> è¯­å¥ï¼Œç›´æ¥è¾“å‡º <code>script start</code>ã€‚è¾“å‡ºä¹‹åï¼Œscript ä»»åŠ¡ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œé‡åˆ° <code>setTimeout</code>ï¼Œå…¶ä½œä¸ºä¸€ä¸ªå®ä»»åŠ¡æºï¼Œåˆ™ä¼šå…ˆå°†å…¶ä»»åŠ¡åˆ†å‘åˆ°å¯¹åº”çš„é˜Ÿåˆ—ä¸­ï¼š</p><p><a href="https://camo.githubusercontent.com/2022ffd886068fcd25518f4c7528c2baec00afd0d895f985a5f599d9d03821dd/68747470733a2f2f692e6c6f6c692e6e65742f323031392f30322f30382f356335643639623432353530612e706e67"><img src="https://camo.githubusercontent.com/2022ffd886068fcd25518f4c7528c2baec00afd0d895f985a5f599d9d03821dd/68747470733a2f2f692e6c6f6c692e6e65742f323031392f30322f30382f356335643639623432353530612e706e67" alt="img"></a></p><p>3.script ä»»åŠ¡ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œæ‰§è¡Œäº†async1()å‡½æ•°ï¼Œå‰é¢è®²è¿‡asyncå‡½æ•°ä¸­åœ¨awaitä¹‹å‰çš„ä»£ç æ˜¯ç«‹å³æ‰§è¡Œçš„ï¼Œæ‰€ä»¥ä¼šç«‹å³è¾“å‡º<code>async1 start</code>ã€‚</p><p>é‡åˆ°äº†awaitæ—¶ï¼Œä¼šå°†awaitåé¢çš„è¡¨è¾¾å¼æ‰§è¡Œä¸€éï¼Œæ‰€ä»¥å°±ç´§æ¥ç€è¾“å‡º<code>async2</code>ï¼Œç„¶åå°†awaitåé¢çš„ä»£ç ä¹Ÿå°±æ˜¯<code>console.log(&#39;async1 end&#39;)</code>åŠ å…¥åˆ°microtaskä¸­çš„Promiseé˜Ÿåˆ—ä¸­ï¼Œæ¥ç€è·³å‡ºasync1å‡½æ•°æ¥æ‰§è¡Œåé¢çš„ä»£ç ã€‚</p><p><a href="https://camo.githubusercontent.com/88b70d88483e46afee14e2b69072fb1759cddef336ea79a7329e895512283657/68747470733a2f2f692e6c6f6c692e6e65742f323031392f30322f31382f356336616435383333376165642e706e67"><img src="https://camo.githubusercontent.com/88b70d88483e46afee14e2b69072fb1759cddef336ea79a7329e895512283657/68747470733a2f2f692e6c6f6c692e6e65742f323031392f30322f31382f356336616435383333376165642e706e67" alt="img"></a></p><p>4.scriptä»»åŠ¡ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œé‡åˆ°Promiseå®ä¾‹ã€‚ç”±äºPromiseä¸­çš„å‡½æ•°æ˜¯ç«‹å³æ‰§è¡Œçš„ï¼Œè€Œåç»­çš„ <code>.then</code> åˆ™ä¼šè¢«åˆ†å‘åˆ° microtask çš„ <code>Promise</code> é˜Ÿåˆ—ä¸­å»ã€‚æ‰€ä»¥ä¼šå…ˆè¾“å‡º <code>promise1</code>ï¼Œç„¶åæ‰§è¡Œ <code>resolve</code>ï¼Œå°† <code>promise2</code> åˆ†é…åˆ°å¯¹åº”é˜Ÿåˆ—ã€‚</p><p><a href="https://camo.githubusercontent.com/0916cb5a9c1704fe199de69944ae7929ebe59b9ef3b3cd49961de26accd98fa9/68747470733a2f2f692e6c6f6c692e6e65742f323031392f30322f31382f356336616435383334376135652e706e67"><img src="https://camo.githubusercontent.com/0916cb5a9c1704fe199de69944ae7929ebe59b9ef3b3cd49961de26accd98fa9/68747470733a2f2f692e6c6f6c692e6e65742f323031392f30322f31382f356336616435383334376135652e706e67" alt="img"></a></p><p>5.scriptä»»åŠ¡ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œæœ€ååªæœ‰ä¸€å¥è¾“å‡ºäº† <code>script end</code>ï¼Œè‡³æ­¤ï¼Œå…¨å±€ä»»åŠ¡å°±æ‰§è¡Œå®Œæ¯•äº†ã€‚</p><p>æ ¹æ®ä¸Šè¿°ï¼Œæ¯æ¬¡æ‰§è¡Œå®Œä¸€ä¸ªå®ä»»åŠ¡ä¹‹åï¼Œä¼šå»æ£€æŸ¥æ˜¯å¦å­˜åœ¨ Microtasksï¼›å¦‚æœæœ‰ï¼Œåˆ™æ‰§è¡Œ Microtasks ç›´è‡³æ¸…ç©º Microtask Queueã€‚</p><p>å› è€Œåœ¨scriptä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œå¼€å§‹æŸ¥æ‰¾æ¸…ç©ºå¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚æ­¤æ—¶ï¼Œå¾®ä»»åŠ¡ä¸­ï¼Œ <code>Promise</code> é˜Ÿåˆ—æœ‰çš„ä¸¤ä¸ªä»»åŠ¡<code>async1 end</code>å’Œ<code>promise2</code>ï¼Œå› æ­¤æŒ‰å…ˆåé¡ºåºè¾“å‡º <code>async1 endï¼Œpromise2</code>ã€‚å½“æ‰€æœ‰çš„ Microtasks æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œè¡¨ç¤ºç¬¬ä¸€è½®çš„å¾ªç¯å°±ç»“æŸäº†ã€‚</p><p>6.ç¬¬äºŒè½®å¾ªç¯å¼€å§‹ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šè·³å›async1å‡½æ•°ä¸­æ‰§è¡Œåé¢çš„ä»£ç ï¼Œç„¶åé‡åˆ°äº†åŒæ­¥ä»»åŠ¡ <code>console</code> è¯­å¥ï¼Œç›´æ¥è¾“å‡º <code>async1 end</code>ã€‚è¿™æ ·ç¬¬äºŒè½®çš„å¾ªç¯å°±ç»“æŸäº†ã€‚ï¼ˆä¹Ÿå¯ä»¥ç†è§£ä¸ºè¢«åŠ å…¥åˆ°scriptä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œæ‰€ä»¥ä¼šå…ˆä¸setTimeouté˜Ÿåˆ—æ‰§è¡Œï¼‰</p><p>7.ç¬¬äºŒè½®å¾ªç¯ä¾æ—§ä»å®ä»»åŠ¡é˜Ÿåˆ—å¼€å§‹ã€‚æ­¤æ—¶å®ä»»åŠ¡ä¸­åªæœ‰ä¸€ä¸ª <code>setTimeout</code>ï¼Œå–å‡ºç›´æ¥è¾“å‡ºå³å¯ï¼Œè‡³æ­¤æ•´ä¸ªæµç¨‹ç»“æŸã€‚</p><p><strong>ä¸‹é¢æˆ‘ä¼šæ”¹å˜ä¸€ä¸‹ä»£ç æ¥åŠ æ·±å°è±¡</strong></p><h1 id="å˜å¼ä¸€"><a href="#å˜å¼ä¸€" class="headerlink" title="å˜å¼ä¸€"></a><strong>å˜å¼ä¸€</strong></h1><p>åœ¨ç¬¬ä¸€ä¸ªå˜å¼ä¸­æˆ‘å°†async2ä¸­çš„å‡½æ•°ä¹Ÿå˜æˆäº†Promiseå‡½æ•°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">async1</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async1 start&#x27;</span>);</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">async2</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async1 end&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">async2</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//async2åšå‡ºå¦‚ä¸‹æ›´æ”¹ï¼š</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise1&#x27;</span>);</span><br><span class="line">    <span class="title function_">resolve</span>();</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise2&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script start&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setTimeout&#x27;</span>);</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="title function_">async1</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise3&#x27;</span>);</span><br><span class="line">    <span class="title function_">resolve</span>();</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise4&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script end&#x27;</span>);</span><br></pre></td></tr></table></figure><p>å¯ä»¥å…ˆè‡ªå·±çœ‹çœ‹è¾“å‡ºé¡ºåºä¼šæ˜¯ä»€ä¹ˆï¼Œä¸‹é¢æ¥å…¬å¸ƒç»“æœï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">script start</span><br><span class="line">async1 start</span><br><span class="line">promise1</span><br><span class="line">promise3</span><br><span class="line">script end</span><br><span class="line">promise2</span><br><span class="line">async1 end</span><br><span class="line">promise4</span><br><span class="line"><span class="built_in">setTimeout</span></span><br></pre></td></tr></table></figure><p>åœ¨ç¬¬ä¸€æ¬¡macrotaskæ‰§è¡Œå®Œä¹‹åï¼Œä¹Ÿå°±æ˜¯è¾“å‡º<code>script end</code>ä¹‹åï¼Œä¼šå»æ¸…ç†æ‰€æœ‰microtaskã€‚æ‰€ä»¥ä¼šç›¸ç»§è¾“å‡º<code>promise2</code>ï¼Œ<code>async1 end</code>ï¼Œ<code>promise4</code>ï¼Œå…¶ä½™ä¸å†å¤šè¯´ã€‚</p><h1 id="å˜å¼äºŒ"><a href="#å˜å¼äºŒ" class="headerlink" title="å˜å¼äºŒ"></a><strong>å˜å¼äºŒ</strong></h1><p>åœ¨ç¬¬äºŒä¸ªå˜å¼ä¸­ï¼Œæˆ‘å°†async1ä¸­awaitåé¢çš„ä»£ç å’Œasync2çš„ä»£ç éƒ½æ”¹ä¸ºå¼‚æ­¥çš„ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">async1</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async1 start&#x27;</span>);</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">async2</span>();</span><br><span class="line">    <span class="comment">//æ›´æ”¹å¦‚ä¸‹ï¼š</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setTimeout1&#x27;</span>)</span><br><span class="line">    &#125;,<span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">async2</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//æ›´æ”¹å¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setTimeout2&#x27;</span>)</span><br><span class="line">&#125;,<span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script start&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setTimeout3&#x27;</span>);</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="title function_">async1</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise1&#x27;</span>);</span><br><span class="line">    <span class="title function_">resolve</span>();</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise2&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script end&#x27;</span>);</span><br></pre></td></tr></table></figure><p>å¯ä»¥å…ˆè‡ªå·±çœ‹çœ‹è¾“å‡ºé¡ºåºä¼šæ˜¯ä»€ä¹ˆï¼Œä¸‹é¢æ¥å…¬å¸ƒç»“æœï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">script start</span><br><span class="line">async1 start</span><br><span class="line">promise1</span><br><span class="line">script end</span><br><span class="line">promise2</span><br><span class="line">setTimeout3</span><br><span class="line">setTimeout2</span><br><span class="line">setTimeout1</span><br></pre></td></tr></table></figure><p>åœ¨è¾“å‡ºä¸º<code>promise2</code>ä¹‹åï¼Œæ¥ä¸‹æ¥ä¼šæŒ‰ç…§åŠ å…¥setTimeouté˜Ÿåˆ—çš„é¡ºåºæ¥ä¾æ¬¡è¾“å‡ºï¼Œé€šè¿‡ä»£ç æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åŠ å…¥é¡ºåºä¸º<code>3 2 1</code>ï¼Œæ‰€ä»¥ä¼šæŒ‰3ï¼Œ2ï¼Œ1çš„é¡ºåºæ¥è¾“å‡ºã€‚</p><h1 id="å˜å¼ä¸‰"><a href="#å˜å¼ä¸‰" class="headerlink" title="å˜å¼ä¸‰"></a><strong>å˜å¼ä¸‰</strong></h1><p>å˜å¼ä¸‰æ˜¯æˆ‘åœ¨ä¸€ç¯‡é¢ç»ä¸­çœ‹åˆ°çš„åŸé¢˜ï¼Œæ•´ä½“æ¥è¯´å¤§åŒå°å¼‚ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">a1</span> () &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;a1 start&#x27;</span>)</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">a2</span>()</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;a1 end&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">a2</span> () &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;a2&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script start&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setTimeout&#x27;</span>)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise1&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">a1</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> promise2 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="string">&#x27;promise2.then&#x27;</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise2&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">promise2.<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">    <span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise3&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script end&#x27;</span>)</span><br></pre></td></tr></table></figure><p>æ— éæ˜¯åœ¨å¾®ä»»åŠ¡é‚£å—å„¿åšç‚¹æ–‡ç« ï¼Œå‰é¢çš„å†…å®¹å¦‚æœä½ éƒ½çœ‹æ‡‚äº†çš„è¯è¿™é“é¢˜ä¸€å®šæ²¡é—®é¢˜çš„ï¼Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">script start</span><br><span class="line">a1 start</span><br><span class="line">a2</span><br><span class="line">promise2</span><br><span class="line">script end</span><br><span class="line">promise1</span><br><span class="line">a1 end</span><br><span class="line">promise2.<span class="property">then</span></span><br><span class="line">promise3</span><br><span class="line"><span class="built_in">setTimeout</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é¢è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>H5-C3çŸ¥è¯†ç‚¹æ€»ç»“</title>
      <link href="/posts/19357.html"/>
      <url>/posts/19357.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h4 id="1ã€ç›’å­æ°´å¹³å‚ç›´å±€ä¸­çš„æ–¹æ³•"><a href="#1ã€ç›’å­æ°´å¹³å‚ç›´å±€ä¸­çš„æ–¹æ³•" class="headerlink" title="1ã€ç›’å­æ°´å¹³å‚ç›´å±€ä¸­çš„æ–¹æ³•"></a>1ã€ç›’å­æ°´å¹³å‚ç›´å±€ä¸­çš„æ–¹æ³•</h4><h5 id="flex-å¸ƒå±€"><a href="#flex-å¸ƒå±€" class="headerlink" title="flex å¸ƒå±€"></a>flex å¸ƒå±€</h5><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* htmlä»£ç : */</span></span><br><span class="line">    &lt;div <span class="keyword">class</span>=<span class="string">&quot;wrap&quot;</span>&gt;</span><br><span class="line">       <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">       <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">   &lt;/div&gt;</span><br><span class="line"><span class="comment">/* CSSä»£ç ï¼š */</span></span><br><span class="line">         .<span class="property">wrap</span>&#123;</span><br><span class="line">             <span class="comment">/* è®¾ç½®ä¸ºå¼¹æ€§å¸ƒå±€ */</span></span><br><span class="line">             <span class="attr">display</span>: flex;</span><br><span class="line">             <span class="comment">/* å­å…ƒç´ åœ¨ä¸»è½´å¯¹é½æ–¹å¼ä¸ºå±…ä¸­ */</span></span><br><span class="line">             justify-<span class="attr">content</span>: center;</span><br><span class="line">             <span class="comment">/* äº¤å‰è½´åœ¨yè½´å¯¹é½ */</span></span><br><span class="line">             align-<span class="attr">items</span>: center;</span><br><span class="line">         &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="Position-Transform"><a href="#Position-Transform" class="headerlink" title="Position + Transform"></a><strong>Position + Transform</strong></h5><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"> <span class="comment">/* htmlä»£ç : */</span></span><br><span class="line">     &lt;div <span class="keyword">class</span>=<span class="string">&quot;wrap&quot;</span>&gt;</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"><span class="comment">/* CSSä»£ç ï¼š */</span></span><br><span class="line">          .<span class="property">wrap</span>&#123;</span><br><span class="line">              <span class="attr">width</span>: 600px;</span><br><span class="line">              <span class="attr">height</span>: 600px;</span><br><span class="line">              <span class="attr">border</span>: 2px solid black;</span><br><span class="line">               <span class="comment">/* è®¾ç½®ä¸ºç›¸å¯¹å®šä½ï¼Œç”¨æ¥ä½œä¸ºç»å¯¹å®šä½å…ƒç´ çš„å®¹å™¨å—ã€‚ */</span></span><br><span class="line">              <span class="attr">position</span>: relative;</span><br><span class="line">          &#125;</span><br><span class="line">          .<span class="property">box</span>&#123;</span><br><span class="line">              <span class="attr">width</span>:50px;</span><br><span class="line">              <span class="attr">height</span>: 50px;</span><br><span class="line">              <span class="comment">/* è®¾ç½®ä¸ºç»å¯¹å®šä½ï¼Œä½ç½®åœ¨çˆ¶å®¹å™¨çš„ä¸­å¿ƒ */</span></span><br><span class="line">              <span class="attr">position</span>: absolute;</span><br><span class="line">              <span class="attr">margin</span>: auto;</span><br><span class="line">              <span class="attr">left</span>: <span class="number">50</span>%;</span><br><span class="line">              <span class="attr">top</span>:<span class="number">50</span>%;</span><br><span class="line">              <span class="comment">/* å‘å›ç§»åŠ¨è‡ªèº«ä¸€åŠçš„é•¿å®½ */</span></span><br><span class="line">              <span class="attr">transform</span>: <span class="title function_">translateX</span>(-<span class="number">50</span>%) <span class="title function_">translateY</span>(-<span class="number">50</span>%);</span><br><span class="line">          &#125;</span><br></pre></td></tr></table></figure><h5 id="åˆ©ç”¨Position-margin-auto"><a href="#åˆ©ç”¨Position-margin-auto" class="headerlink" title="åˆ©ç”¨Position + margin:auto"></a>åˆ©ç”¨<strong>Position</strong> + <strong>margin:auto</strong></h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">   .<span class="property">father</span> &#123;</span><br><span class="line">     <span class="attr">margin</span>: 100px auto;</span><br><span class="line">     <span class="attr">width</span>: 500px;</span><br><span class="line">     <span class="attr">height</span>: 300px;</span><br><span class="line">     <span class="attr">border</span>: 1px solid #0a3b98;</span><br><span class="line">     <span class="attr">position</span>: relative;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">    .<span class="property">son</span> &#123;</span><br><span class="line">      <span class="attr">width</span>: 100px;</span><br><span class="line">      <span class="attr">height</span>: 40px;</span><br><span class="line">      <span class="attr">background</span>: #f0a238;</span><br><span class="line">      <span class="attr">position</span>: absolute;</span><br><span class="line">      <span class="attr">top</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attr">left</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attr">right</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attr">bottom</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attr">margin</span>: auto;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h5 id="inline-block"><a href="#inline-block" class="headerlink" title="inline-block"></a><strong>inline-block</strong></h5><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"> <span class="comment">/* htmlä»£ç : */</span></span><br><span class="line">      &lt;div <span class="keyword">class</span>=<span class="string">&quot;wrap&quot;</span>&gt;</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"><span class="comment">/* CSSä»£ç ï¼š */</span></span><br><span class="line">          .<span class="property">wrap</span>&#123;</span><br><span class="line">              <span class="attr">width</span>: 600px;</span><br><span class="line">              <span class="attr">border</span>: 2px solid black;</span><br><span class="line">              <span class="comment">/* è®¾ç½®è¡Œé«˜ä¸º600px */</span></span><br><span class="line">              line-<span class="attr">height</span>: 600px;</span><br><span class="line">              <span class="comment">/* è®©å­ç›’å­æ°´å¹³å±…ä¸­ */</span></span><br><span class="line">              text-<span class="attr">align</span>: center;</span><br><span class="line">          &#125;</span><br><span class="line">          .<span class="property">box</span>&#123;</span><br><span class="line">              <span class="attr">height</span>: 50px;</span><br><span class="line">              <span class="attr">width</span>: 50px;</span><br><span class="line">              <span class="comment">/* è®¾ç½®ä¸ºå—çº§å…ƒç´  */</span></span><br><span class="line">              <span class="attr">display</span>: inline-block;</span><br><span class="line">              <span class="comment">/* è®¾ç½®ä¸ºå‚ç›´å±…ä¸­ */</span></span><br><span class="line">              vertical-<span class="attr">align</span>: middle;</span><br><span class="line">              background-<span class="attr">color</span>: red;</span><br><span class="line">          &#125;</span><br></pre></td></tr></table></figure><h5 id="table-å¸ƒå±€"><a href="#table-å¸ƒå±€" class="headerlink" title="table å¸ƒå±€"></a><strong>table å¸ƒå±€</strong></h5><aside> ğŸ’¡ è®¾ç½®çˆ¶å…ƒç´ ä¸º`display:table-cell`ï¼Œå­å…ƒç´ è®¾ç½® `display: inline-block`ã€‚åˆ©ç”¨`vertical`å’Œ`text-align`å¯ä»¥è®©æ‰€æœ‰çš„è¡Œå†…å—çº§å…ƒç´ æ°´å¹³å‚ç›´å±…ä¸­</aside><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">     .<span class="property">father</span> &#123;</span><br><span class="line">         <span class="attr">display</span>: table-cell;</span><br><span class="line">         <span class="attr">width</span>: 200px;</span><br><span class="line">         <span class="attr">height</span>: 200px;</span><br><span class="line">         <span class="attr">background</span>: skyblue;</span><br><span class="line">         vertical-<span class="attr">align</span>: middle;</span><br><span class="line">         text-<span class="attr">align</span>: center;</span><br><span class="line">     &#125;</span><br><span class="line">      .<span class="property">son</span> &#123;</span><br><span class="line">          <span class="attr">display</span>: inline-block;</span><br><span class="line">          <span class="attr">width</span>: 100px;</span><br><span class="line">          <span class="attr">height</span>: 100px;</span><br><span class="line">          <span class="attr">background</span>: red;</span><br><span class="line">      &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h5 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h5><p>æ ¹æ®å…ƒç´ æ ‡ç­¾çš„æ€§è´¨ï¼Œå¯ä»¥åˆ†ä¸ºï¼š</p><ul><li>å†…è”å…ƒç´ å±…ä¸­å¸ƒå±€</li><li>å—çº§å…ƒç´ å±…ä¸­å¸ƒå±€</li></ul><h6 id="å†…è”å…ƒç´ å±…ä¸­å¸ƒå±€"><a href="#å†…è”å…ƒç´ å±…ä¸­å¸ƒå±€" class="headerlink" title="å†…è”å…ƒç´ å±…ä¸­å¸ƒå±€"></a>å†…è”å…ƒç´ å±…ä¸­å¸ƒå±€</h6><p>æ°´å¹³å±…ä¸­</p><ul><li>è¡Œå†…å…ƒç´ å¯è®¾ç½®ï¼š<strong>text-align: center</strong></li><li><strong>flex</strong> å¸ƒå±€è®¾ç½®çˆ¶å…ƒç´ ï¼š<strong>display: flex</strong> ; <strong>justify-content: center</strong></li></ul><p>å‚ç›´å±…ä¸­</p><ul><li>å•è¡Œæ–‡æœ¬çˆ¶å…ƒç´ ç¡®è®¤é«˜åº¦ï¼š<strong>height === line-height</strong></li><li>å¤šè¡Œæ–‡æœ¬çˆ¶å…ƒç´ ç¡®è®¤é«˜åº¦ï¼š<strong>disaply: table-cell</strong>; <strong>vertical-align: middle</strong></li></ul><h6 id="å—çº§å…ƒç´ å±…ä¸­å¸ƒå±€"><a href="#å—çº§å…ƒç´ å±…ä¸­å¸ƒå±€" class="headerlink" title="å—çº§å…ƒç´ å±…ä¸­å¸ƒå±€"></a>å—çº§å…ƒç´ å±…ä¸­å¸ƒå±€</h6><p>æ°´å¹³å±…ä¸­</p><ul><li>å®šå®½: <strong>margin: 0 auto</strong></li><li>ç»å¯¹å®šä½ + <strong>left:50%</strong> + <strong>margin:</strong> è´Ÿè‡ªèº«ä¸€åŠ</li></ul><p>å‚ç›´å±…ä¸­</p><ul><li><strong>position: absolute</strong> è®¾ç½® <strong>left</strong>ã€<strong>top</strong>ã€<strong>margin-left</strong>ã€<strong>margin-top</strong>(å®šé«˜)</li><li><strong>display: table-cell</strong></li><li><strong>transform: translate(x, y)</strong></li><li><strong>flex</strong> (ä¸å®šé«˜ï¼Œä¸å®šå®½)</li><li><strong>grid</strong>(ä¸å®šé«˜ï¼Œä¸å®šå®½)ï¼Œå…¼å®¹æ€§ç›¸å¯¹æ¯”è¾ƒå·®</li></ul><h4 id="2ã€BFCï¼ˆç»å…¸é¢è¯•é¢˜ï¼‰"><a href="#2ã€BFCï¼ˆç»å…¸é¢è¯•é¢˜ï¼‰" class="headerlink" title="2ã€BFCï¼ˆç»å…¸é¢è¯•é¢˜ï¼‰"></a>2ã€BFCï¼ˆç»å…¸é¢è¯•é¢˜ï¼‰</h4><p><strong>æ¦‚å¿µï¼š</strong></p><blockquote><p><em>Block Formatting Context</em>,ç¿»è¯‘è¿‡æ¥å°±æ˜¯<strong>å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡</strong></p><p>bfc å®é™…æ˜¯ä¸€ç§å±æ€§ï¼Œæ‹¥æœ‰è¿™ç§å±æ€§åï¼Œå°±ä¼š<strong>è®©è¯¥æ¸²æŸ“åŒºåŸŸç‹¬ç«‹</strong>ï¼Œå¹¶ä¸”è¯¥æ¸²æŸ“åŒºåŸŸä¸­çš„å†…å®¹å¸ƒå±€ä¸ä¼šå½±å“åˆ°å¤–ç•Œ</p></blockquote><p><strong>å¦‚ä½•è§¦å‘:</strong></p><blockquote><ul><li><p>æ ¹å…ƒç´ (html)å¤©ç„¶å°±ä¼šåˆ›å»º BFC</p></li><li><p>float å±æ€§ä¸ä¸º none</p></li><li><p>position ä¸º absolute æˆ– fixed</p></li><li>display ä¸º inline-block, table-cell, table-caption, flex, inline-flex</li><li>overflow ä¸ä¸º visible</li></ul></blockquote><p><strong>è§£å†³ä»€ä¹ˆé—®é¢˜</strong></p><blockquote><ul><li>å¤–è¾¹è·é‡å <ul><li>å¤–è¾¹è·é‡å ,è¦æ³¨æ„è¿™ä¸æ˜¯ bugï¼Œè§„èŒƒå°±æ˜¯è¿™æ ·çš„ï¼Œå½“ä¸¤ä¸ªç›’å­ä¸Šä¸‹åŒæ—¶æ‹¥æœ‰ä¸Šä¸‹é—´è·ï¼Œä¼šå–æœ€å¤§å€¼</li></ul></li><li>æ¸…é™¤æµ®åŠ¨</li><li>å½“å­ç›’å­å¼€å¯ float åä¼šå½±å“åé¢çš„å¸ƒå±€ä»¥åŠç›’å­é«˜åº¦</li><li>æµ®åŠ¨è¦†ç›–<ul><li>ç”±äºæµ®åŠ¨å¯¼è‡´ç›’å­è¢«è¦†ç›–</li></ul></li></ul></blockquote><h4 id="3ã€ç›’æ¨¡å‹"><a href="#3ã€ç›’æ¨¡å‹" class="headerlink" title="3ã€ç›’æ¨¡å‹"></a>3ã€ç›’æ¨¡å‹</h4><blockquote><p>ç›’æ¨¡å‹ä¸»è¦åˆ†ä¸º 4 éƒ¨åˆ†ï¼šå†…å®¹ã€å¤–è¾¹è·ã€å†…è¾¹è·ã€è¾¹æ¡†</p><p>Css3 ç›’å­æ¨¡å‹å¯ä»¥é€šè¿‡ box-sizing æ¥æ”¹å˜</p></blockquote><p>æ ‡å‡†ç›’æ¨¡å‹ï¼ˆW3C æ ‡å‡†ï¼‰ï¼š<code>content-box</code> ç›’å­å®é™…å®½åº¦åŠ ä¸Š padding å’Œ border</p><p>ie ç›’æ¨¡å‹/æ€ªå¼‚ç›’æ¨¡å‹/c3 ç›’æ¨¡å‹ï¼š<code>box-sizing: border-box;</code> è®¾ç½® width åï¼Œå®é™…ç›’å­çš„å®½åº¦å°±å›ºå®šä¸ºè¯¥å®½åº¦ï¼ŒåŒ…å«äº† å†…å®¹ + padding + border</p><h4 id="4ã€flexï¼š1"><a href="#4ã€flexï¼š1" class="headerlink" title="4ã€flexï¼š1"></a>4ã€flexï¼š1</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="attribute">flex</span>ï¼š<span class="number">1</span> â†’ &#123;</span><br><span class="line">  <span class="attribute">flex-grow</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">flex-shrink</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">flex-basis</span>: <span class="number">0%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>flex-grow:1<ul><li>flex-grow æ˜¯<strong>ç”¨æ¥å¢å¤§ç›’å­çš„</strong>ï¼Œæ¯”å¦‚ï¼Œå½“çˆ¶ç›’å­çš„å®½åº¦å¤§äºå­ç›’å­çš„å®½åº¦ï¼Œçˆ¶ç›’å­çš„å‰©ä½™ç©ºé—´å¯ä»¥åˆ©ç”¨ flex-grow æ¥è®¾ç½®å­ç›’å­å¢å¤§çš„å æ¯”</li></ul></li><li>flex-shrink: 1<ul><li>flex-shrink ç”¨æ¥è®¾ç½®å­ç›’å­è¶…è¿‡çˆ¶ç›’å­çš„å®½åº¦åï¼Œ<strong>è¿›è¡Œç¼©å°çš„æ¯”ä¾‹å–å€¼</strong></li></ul></li><li>flex-basis: 0%<ul><li><strong>è®¾ç½®ç›’å­çš„åŸºå‡†å®½åº¦</strong>ï¼Œå¹¶ä¸” basis å’Œ width åŒæ—¶å­˜åœ¨ä¼šæŠŠ width å¹²æ‰</li></ul></li></ul><h4 id="5ã€c3-æ–°å±æ€§"><a href="#5ã€c3-æ–°å±æ€§" class="headerlink" title="5ã€c3 æ–°å±æ€§"></a>5ã€c3 æ–°å±æ€§</h4><ul><li>c3 ç›’æ¨¡å‹ box-sizing</li><li>flex å¸ƒå±€</li><li>transition è¿‡æ¸¡</li><li>transform2D è½¬æ¢</li><li>background-size èƒŒæ™¯ç¼©æ”¾</li><li>border-radius åœ†è§’</li><li>â€¦â€¦.</li></ul><h4 id="6ã€æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•"><a href="#6ã€æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•" class="headerlink" title="6ã€æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•"></a>6ã€æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•</h4><ul><li>â€¦â€¦.</li></ul>]]></content>
      
      
      <categories>
          
          <category> é¢è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>element-uiå°è£…tableç»„ä»¶</title>
      <link href="/posts/24658.html"/>
      <url>/posts/24658.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>myTable ç»„ä»¶<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;table-container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-table</span></span></span><br><span class="line"><span class="tag">            <span class="attr">:data</span>=<span class="string">&quot;tableData&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">:row-class-name</span>=<span class="string">&quot;rowClassName&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">:height</span>=<span class="string">&quot;height&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">:row-style</span>=<span class="string">&quot;&#123;height: `$&#123;rowHeight&#125;px`&#125;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in tableTitle&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">slot</span> <span class="attr">v-if</span>=<span class="string">&quot;item.slot&quot;</span> <span class="attr">:name</span>=<span class="string">&quot;item.slot&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-table-column</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">v-else</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">:prop</span>=<span class="string">&quot;item.property&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">:label</span>=<span class="string">&quot;item.label&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">:min-width</span>=<span class="string">&quot;item.minWidth ? item.minWidth : &#x27;&#x27;&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">:width</span>=<span class="string">&quot;item.width ? item.width : &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;myTable&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">props</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">tableData</span>: &#123; <span class="comment">// è¡¨æ ¼æ•°æ®</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">type</span>: <span class="title class_">Array</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">required</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">default</span>: <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> []</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">tableTitle</span>: &#123; <span class="comment">// è¡¨æ ¼å¤´æ ‡é¢˜</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">type</span>: <span class="title class_">Array</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">require</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">height</span>: &#123; <span class="comment">// è¡¨æ ¼é«˜åº¦</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">type</span>: [<span class="title class_">Number</span>, <span class="title class_">String</span>],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">default</span>: <span class="string">&#x27;100%&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">rowHeight</span>: &#123; <span class="comment">// è¡¨æ ¼è¡Œé«˜</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">type</span>: [<span class="title class_">Number</span>, <span class="title class_">String</span>],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">default</span>: <span class="number">44</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;&#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// å¯ä»¥é€šè¿‡æŒ‡å®š Table ç»„ä»¶çš„ row-class-name å±æ€§æ¥ä¸º Table ä¸­çš„æŸä¸€è¡Œæ·»åŠ  classï¼Œè¡¨æ˜è¯¥è¡Œå¤„äºæŸç§çŠ¶æ€ã€‚</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">rowClassName</span>(<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> e.<span class="property">rowIndex</span> % <span class="number">2</span> === <span class="number">0</span> ? <span class="string">&#x27;&#x27;</span> : <span class="string">&#x27;light-line&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ ·å¼ å¯ä»¥è‡ªå®šä¹‰ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.table-container</span> &#123;</span></span><br><span class="line"><span class="language-css">    /deep/ <span class="selector-class">.el-table</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background-color</span>: transparent;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        &amp;<span class="selector-pseudo">::before</span> &#123; // è¡¨æ ¼åº•éƒ¨è¾¹æ¡†</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: none;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">tbody</span> <span class="selector-tag">tr</span><span class="selector-pseudo">:hover</span> &gt; <span class="selector-tag">td</span> &#123; // è¡¨æ ¼è§¦ç¢°æ ·å¼</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#F5F7FA</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    /deep/ <span class="selector-class">.el-table__header-wrapper</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.el-table__cell</span> &#123; // è¡¨å¤´æ ·å¼</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">44px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: <span class="number">#FFFFFF</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-bottom</span>: <span class="number">#EBEEF5</span> solid <span class="number">1px</span> <span class="meta">!important</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    /deep/ <span class="selector-class">.el-table__body-wrapper</span> &#123;</span></span><br><span class="line"><span class="language-css">        &amp;::-webkit-scrollbar &#123; // è¡¨æ ¼æ»šåŠ¨æ¡</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">0</span> <span class="meta">!important</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.el-table__row</span> &#123; // è¡¨æ ¼è¡Œæ ·å¼</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#F5F7FA</span>;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.el-table__cell</span> &#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">border-bottom</span>: <span class="number">#EBEEF5</span> solid <span class="number">1px</span> <span class="meta">!important</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.light-line</span> &#123; // é«˜äº®è¡Œé¢œè‰²</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#FFFFFF</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨ï¼š fatherç»„ä»¶<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">my-table</span> <span class="attr">:table-title</span>=<span class="string">&quot;tableTitle&quot;</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">:table-data</span>=<span class="string">&quot;tableData&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">my-table</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;my-table</span></span><br><span class="line"><span class="comment">                        :table-title=&quot;tableTitle&quot;</span></span><br><span class="line"><span class="comment">                        :table-data=&quot;tableData&quot;&gt;</span></span><br><span class="line"><span class="comment">                    &lt;el-table-column slot=&quot;handle&quot; label=&quot;æ“ä½œ&quot;&gt;</span></span><br><span class="line"><span class="comment">                        &lt;template slot-scope=&quot;scope&quot;&gt;</span></span><br><span class="line"><span class="comment">                            &lt;el-button @click=&quot;handleClick(scope.row)&quot;&gt;æŸ¥çœ‹&lt;/el-button&gt;</span></span><br><span class="line"><span class="comment">                        &lt;/template&gt;</span></span><br><span class="line"><span class="comment">                    &lt;/el-table-column&gt;</span></span><br><span class="line"><span class="comment">                &lt;/my-table&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> <span class="title class_">MyTable</span> <span class="keyword">from</span> <span class="string">&quot;./myTable&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&quot;father&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">components</span>: &#123;<span class="title class_">MyTable</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tableTitle</span>: [</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">label</span>: <span class="string">&#x27;æ—¥æœŸ&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">property</span>: <span class="string">&#x27;date&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">label</span>: <span class="string">&#x27;å§“å&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">property</span>: <span class="string">&#x27;name&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">label</span>: <span class="string">&#x27;åœ°å€&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">property</span>: <span class="string">&#x27;address&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">slot</span>: <span class="string">&#x27;handle&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tableData</span>: [</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">date</span>: <span class="string">&#x27;2016-05-02&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;ç‹å°è™&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">address</span>: <span class="string">&#x27;ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">date</span>: <span class="string">&#x27;2016-05-04&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;ç‹å°è™&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">address</span>: <span class="string">&#x27;ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1517 å¼„&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">date</span>: <span class="string">&#x27;2016-05-01&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;ç‹å°è™&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">address</span>: <span class="string">&#x27;ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1519 å¼„&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">date</span>: <span class="string">&#x27;2016-05-03&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;ç‹å°è™&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">address</span>: <span class="string">&#x27;ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">created</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> åå°ç³»ç»Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> element-ui </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTPç¼“å­˜</title>
      <link href="/posts/45598.html"/>
      <url>/posts/45598.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="https://juejin.cn/post/6844904153043435533#heading-1">https://juejin.cn/post/6844904153043435533#heading-1</a></p><p><img src="https://huyu-blog.oss-cn-hangzhou.aliyuncs.com/img/LED5VMyd8UK3Ge9.png?x-oss-process=style/huyu" alt="HTTPç¼“å­˜"></p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨nvmåˆ‡æ¢nodeç‰ˆæœ¬</title>
      <link href="/posts/30429.html"/>
      <url>/posts/30429.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ä¸‹è½½nvmï¼ˆåœ¨nvmä¸­ä¸‹è½½nodejsï¼Œæ— éœ€æå‰å®‰è£…nodejsï¼‰<br><a href="https://github.com/coreybutler/nvm-windows/releases">https://github.com/coreybutler/nvm-windows/releases</a></p><blockquote><p>é€‰æ‹©å®‰è£…ä½ç½®ï¼š<br>ä½¿ç”¨å‘½ä»¤nvmåˆ¤æ–­æ˜¯å¦å®‰è£…æˆåŠŸ</p></blockquote><h4 id="å®‰è£…nodejs"><a href="#å®‰è£…nodejs" class="headerlink" title="å®‰è£…nodejs"></a>å®‰è£…nodejs</h4><h5 id="1ã€æŸ¥çœ‹å¯å®‰è£…ç‰ˆæœ¬ï¼š"><a href="#1ã€æŸ¥çœ‹å¯å®‰è£…ç‰ˆæœ¬ï¼š" class="headerlink" title="1ã€æŸ¥çœ‹å¯å®‰è£…ç‰ˆæœ¬ï¼š"></a>1ã€æŸ¥çœ‹å¯å®‰è£…ç‰ˆæœ¬ï¼š</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nvm list [available]</span><br></pre></td></tr></table></figure><h5 id="2ã€å®‰è£…"><a href="#2ã€å®‰è£…" class="headerlink" title="2ã€å®‰è£…"></a>2ã€å®‰è£…</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nvm install 11.13.0</span><br><span class="line">nvm use [version] [arch] ï¼šä½¿ç”¨åˆ¶å®šç‰ˆæœ¬nodeï¼Œå¯æŒ‡å®š32/64ä½ã€‚</span><br></pre></td></tr></table></figure><h5 id="3ã€ä½¿ç”¨"><a href="#3ã€ä½¿ç”¨" class="headerlink" title="3ã€ä½¿ç”¨"></a>3ã€ä½¿ç”¨</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nvm use 11.13.0</span><br></pre></td></tr></table></figure><h5 id="4ã€å¸è½½"><a href="#4ã€å¸è½½" class="headerlink" title="4ã€å¸è½½"></a>4ã€å¸è½½</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nvm uninstall 11.13.0</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> nvm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¸¸ç”¨æ­£åˆ™</title>
      <link href="/posts/2964.html"/>
      <url>/posts/2964.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å¸¸ç”¨æ­£åˆ™"><a href="#å¸¸ç”¨æ­£åˆ™" class="headerlink" title="å¸¸ç”¨æ­£åˆ™"></a>å¸¸ç”¨æ­£åˆ™</h1><h4 id="ğŸ“å·ç ç›¸å…³"><a href="#ğŸ“å·ç ç›¸å…³" class="headerlink" title="ğŸ“å·ç ç›¸å…³"></a>ğŸ“å·ç ç›¸å…³</h4><p>â—æ‰‹æœºå·ï¼ˆä»¥ 1 å¼€å¤´ï¼‰ï¼š/^(?:(?:+|00)86)?1\d{10}$/<br>â—æ‰‹æœºå·ï¼ˆä»¥ 13 è‡³19 å¼€å¤´ï¼‰ï¼š/^(?:(?:+|00)86)?1[3-9]\d{9}$/<br>â—æ‰‹æœºå·ï¼ˆä»¥å·¥ä¿¡éƒ¨å…¬å¸ƒçš„æ‰‹æœºå·æ®µå¼€å¤´ï¼‰ï¼š/^(?:(?:+|00)86)?1(?:(?:3[\d])|(?:4[5-79])|(?:5[0-35-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[189]))\d{8}$/<br>â—å›½å†…å›ºè¯å·ç ï¼š/\d{3}-\d{8}|\d{4}-\d{7}/<br>â—é‚®ç®±å·ï¼š/^\w+([-+.]\w+)<em>@\w+([-.]\w+)</em>.\w+([-.]\w+)<em>$/<br>â—é‚®æ”¿ç¼–ç ï¼š/[1-9]\d{5}(?!\d)/<br>â—èº«ä»½è¯å·ï¼š/^[1-9]\d{5}(?:18|19|20)\d{2}(?:0[1-9]|10|11|12)(?:0[1-9]|[1-2]\d|30|31)\d{3}[\dXx]$/<br>â—é“¶è¡Œå¡å·ï¼ˆå…¬ã€ç§è´¦æˆ·ï¼‰ï¼š/^[1-9]\d{9,29}$/<br>â—è½¦ç‰Œå·ï¼š/^[äº¬æ´¥æ²ªæ¸å†€è±«äº‘è¾½é»‘æ¹˜çš–é²æ–°è‹æµ™èµ£é„‚æ¡‚ç”˜æ™‹è’™é™•å‰é—½è´µç²¤é’è—å·å®ç¼ä½¿é¢†][A-HJ-NP-Z][A-HJ-NP-Z0-9]{4,5}[A-HJ-NP-Z0-9æŒ‚å­¦è­¦æ¸¯æ¾³]$/<br>â—QQ å·ï¼š/^[1-9][0-9]{4,10}$/<br>â—å¾®ä¿¡å·ï¼š/^[a-zA-Z][-<em>a-zA-Z0-9]{5,19}$/<br>â—ç‰ˆæœ¬å·ï¼ˆ x.y.z ï¼‰ï¼š/^\d+(?:.\d+){2}$/<br>â—åˆæ³•è´¦å·1ï¼ˆå­—æ¯å¼€å¤´ï¼Œ5-16ä½ï¼Œå…è®¸å­—æ¯æ•°å­—ä¸‹åˆ’çº¿ï¼‰ï¼š/^[a-zA-Z][a-zA-Z0-9</em>]{4,15}$/<br>â—åˆæ³•è´¦å·2ï¼ˆ4-16ä½ï¼Œå…è®¸å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œå‡å·ï¼‰ï¼š/^[a-zA-Z0-9_-]{4,16}$/<br>â—å¼ºå¯†ç 1ï¼ˆå¿…é¡»åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—çš„ç»„åˆï¼Œä¸èƒ½ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼Œé•¿åº¦åœ¨8-10ä¹‹é—´ï¼‰ï¼š/^(?=.</em>\d)(?=.<em>[a-z])(?=.</em>[A-Z]).{8,10}$/<br>â—å¼ºå¯†ç 2ï¼ˆå¿…é¡»åŒ…å«å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦ï¼š<em>*@#$%^&amp; `~()-+=</em> ï¼‰ï¼š<br>/^(?![a-zA-Z]+$)(?![A-Z0-9]+$)(?![A-Z\W<em>!@#$%^&amp;* ~()-+=]+$)(?![a-z0-9]+$)(?![a-z\W</em>!@#$%^&amp; <em>~()-+=]+$)(?![0-9\W_!@#$%^&amp;</em> ~()-+=]+$)[a-zA-Z0-9\W<em>!@#$%^&amp;*~()-+=]/<br>â—ç½‘å€ï¼š/^(http|https):\/\/[\w-</em>]+(.[\w-_]+)+([\w-.,@?^=%&amp;:/~+#]*[\w-\@?^=%&amp;/~+#])?$/<br>â—ç½‘å€å¸¦ç«¯å£å·ï¼š/^((ht|f)tps?:\/\/)?[\w-]+(.[\w-]+)+:\d{1,5}\/?$/<br>â—ip-v4ï¼š/\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/<br>â—ip-v6ï¼š/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/</p><h4 id="ğŸ”¢æ•°å­—ç›¸å…³"><a href="#ğŸ”¢æ•°å­—ç›¸å…³" class="headerlink" title="ğŸ”¢æ•°å­—ç›¸å…³"></a>ğŸ”¢æ•°å­—ç›¸å…³</h4><p>â—åªæœ‰æ•°å­—ï¼š/^[0-9]<em>$/ æˆ– /^\d{1,}$/<br>â—æ•´æ•°ï¼š/^-?[0-9]\d</em>$/<br>â—æ­£æ•´æ•°ï¼š/^+?[1-9]\d<em>$/<br>â—éæ­£æ•´æ•°ï¼š/^-[1-9]\d</em>|0$/<br>â—è´Ÿæ•´æ•°ï¼š/^-[1-9]\d<em>$/<br>â—éè´Ÿæ•´æ•°ï¼š/^\d+$/<br>â—æµ®ç‚¹æ•°ï¼š/^(-?\d+)(.\d+)?$/<br>â—æ­£æµ®ç‚¹æ•°ï¼š/^[1-9]\d</em>.\d<em>|0.\d</em>[1-9]\d<em>$/<br>â—è´Ÿæµ®ç‚¹æ•°ï¼š/^-([1-9]\d</em>.\d<em>|0.\d</em>[1-9]\d<em>)/<br>â—å°æ•°ï¼š/^-?\d+.\d+$/<br>â—æ­£æ•°/è´Ÿæ•°/å°æ•°ï¼š/^(-|+)?\d+(.\d+)?$/<br>â—æ­£å®æ•°ä¿ç•™å°æ•°ç‚¹å 2 ä½ï¼š/^[0-9]+(.[0-9]{2})?$/<br>â—æ­£å®æ•°ä¿ç•™å°æ•°ç‚¹å 1 åˆ° 3 ä½ï¼š/^[0-9]+(.[0-9]{1,3})?$/<br>â—n ä½æ•°å­—ï¼š/^\d{n}$/<br>â—è‡³å°‘ n ä½æ•°å­—ï¼š/^\d{n,}$/<br>â—m è‡³ n ä½çš„æ•°å­—ï¼š/^\d{m,n}$/<br>â—æ•°å­—å’Œå­—æ¯è‡³å°‘åŒ…å«å…¶ä¸€ï¼š/^[A-Za-z0-9]+$/<br>â—å¿…é¡»åŒ…å«æ•°å­—å’Œå­—æ¯ï¼š/^(?=.</em>[a-zA-Z])(?=.<em>\d).+$/<br>â—md5 å€¼ ï¼š/^([a-f\d]{32}|[A-F\d]{32})$/<br>â—base64 å€¼ï¼š/^\s</em>data:(?:[a-z]+\/[a-z0-9-+.]+(?:;[a-z-]+=[a-z0-9-]+)?)?(?:;base64)?,([a-z0-9!$&amp;â€™,()<em>+;=-._~:@/?%\s]</em>?)\s*$/i</p><h4 id="ğŸ”£å­—ç¬¦ç›¸å…³"><a href="#ğŸ”£å­—ç¬¦ç›¸å…³" class="headerlink" title="ğŸ”£å­—ç¬¦ç›¸å…³"></a>ğŸ”£å­—ç¬¦ç›¸å…³</h4><p>â—m è‡³ n ä½çš„å­—ç¬¦ï¼š/^.{3,20}$/<br>â—è‹±æ–‡å­—æ¯å­—ç¬¦ï¼š/^[A-Za-z]+$/<br>â—å¤§å†™è‹±æ–‡å­—æ¯å­—ç¬¦ï¼š/^[A-Z]+$/<br>â—å°å†™è‹±æ–‡å­—æ¯å­—ç¬¦ï¼š/^[a-z]+$/<br>â—æ±‰å­—ï¼š/^[\u4e00-\u9fa5]{0,}$/<br>â—å…¨è§’ç¬¦å·ï¼š/[\uFF00-\uFFFF]/<br>â—åŠè§’ç¬¦å·ï¼š/[\u0000-\u00FF]/<br>â—æ±‰å­—ã€è‹±æ–‡ã€æ•°å­—ã€ä¸‹åˆ’çº¿è‡³å°‘å…¶ä¸€ï¼š/^[\u4E00-\u9FA5A-Za-z0-9_]+$/<br>â—ä¸åŒ…å«å­—ç¬¦ â€œ~â€ ï¼š/<sup><a href="#fn_~\x22" id="reffn_~\x22">~\x22</a></sup>+/<br>â—å­—ç¬¦è¿ç»­é‡å¤ï¼š/(.)\1+/<br>â—ç”¨æ¥åˆ¤æ–­ textarea æ˜¯å¦å…¨ä¸ºç©ºï¼ˆä¸å¯å…¨ä¸ºç©ºæ ¼å’Œæ¢è¡Œï¼Œå…è®¸å­—ç¬¦å‰é¢å’Œåé¢ä¸ºç©ºï¼‰ï¼š/^[\s\S]<em>.</em><sup><a href="#fn_\s" id="reffn_\s">\s</a></sup>[\s\S]*$/</p><h4 id="âŒšæ—¶é—´ç›¸å…³"><a href="#âŒšæ—¶é—´ç›¸å…³" class="headerlink" title="âŒšæ—¶é—´ç›¸å…³"></a>âŒšæ—¶é—´ç›¸å…³</h4><p>â—24å°æ—¶åˆ¶æ—¶é—´ï¼ˆHH:mm:ssï¼‰ï¼š/^(?:[01]\d|2[0-3]):[0-5]\d:[0-5]\d$/<br>â—12å°æ—¶åˆ¶æ—¶é—´ï¼ˆhh:mm:ssï¼‰ï¼š/^(?:1[0-2]|0?[1-9]):[0-5]\d:[0-5]\d$/<br>â—24å°æ—¶åˆ¶æ—¶é—´ï¼ˆHHmmssï¼‰ï¼š/([0-1]?[0-9]|2[0-3])([0-5][0-9])([0-5][0-9])$/<br>â—æ—¥æœŸ1ï¼ˆyyyy-MM-ddï¼Œå¦‚ 2222-01-01ï¼Œå¹´ä»½å¿…ä¸º4ä½ï¼‰ï¼š/^\d{4}-\d{1,2}-\d{1,2}/<br>â—æ—¥æœŸ2ï¼ˆå¦‚ 333-01-01ï¼Œå¹´ä»½å¯å°äº4ä½ï¼‰ï¼š/^\d{1,4}(-)(1[0-2]|0?[1-9])\1(0?[1-9]|[1-2]\d|30|31)$/<br>â—æ—¥æœŸ3ï¼ˆyyyyMMddï¼Œå¦‚ 20220202ï¼‰ï¼š/^((([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})(((0[13578]|1[02])(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)(0[1-9]|[12][0-9]|30))|(02(0[1-9]|[1][0-9]|2[0-8]))))|((([0-9]{2})(0[48]|[2468][048]|[13579][26])|((0[48]|[2468][048]|[3579][26])00))0229))$/<br>â—æ—¥æœŸ+æ—¶é—´1ï¼ˆYYYYMMDD HH:mm:ssï¼‰ï¼š/^\d{4}([/:-\S])(1[0-2]|0?[1-9])\1(0?[1-9]|[1-2]\d|30|31) (?:[01]\d|2[0-3]):[0-5]\d:[0-5]\d$/<br>â—æ—¥æœŸ+æ—¶é—´2ï¼š /^[1-9]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])\s+(20|21|22|23|[0-1]\d):[0-5]\d:[0-5]\d$/<br>â—ä¸€å¹´ 12 ä¸ªæœˆï¼ˆ(01ï½09 æˆ– 1ï½12)ï¼‰ï¼š/^(0?[1-9]|1[0-2])$/<br>â—ä¸€ä¸ªæœˆ 31 å¤©ï¼ˆ01ï½09 æˆ– 1ï½31ï¼‰ï¼š/^((0?[1-9])|((1|2)[0-9])|30|31)$/<br>â—æœ‰ 31 å¤©çš„æœˆä»½ï¼š/^(0?[13578]|1[02])$/<br>â—æœ‰ 30 å¤©æœˆçš„ä»½ï¼š/(0[469]|11)-(0[1-9]|[12][0-9]|30)/<br>â—2 æœˆ 28 å¤©ï¼ˆâ€02-28â€ï¼‰ï¼š/^02-(0[1-9]|[1][0-9]|2[0-8])$/<br>â—é—°å¹´ï¼š/^(((19|20)([13579][26]|[2468][048]|0[48]))|(2000))$/<br>â—é—°å¹´ 2 æœˆï¼ˆæ¯”å¦‚ 2008-02-01ï¼‰ï¼š/^(((19|20)([13579][26]|[2468][048]|0[48]))|(2000))-0?2-(0?[1-9]|[12]\d)$/<br>â—æ—¥æœŸï¼ˆåŒ…æ‹¬é—°å¹´ã€å¤§å°æœˆçš„åˆ¤æ–­ï¼‰ï¼š/((((19|20)\d{2})-(0?(1|[3-9])|1[012])-(0?[1-9]|[12]\d|30))|(((19|20)\d{2})-(0?[13578]|1[02])-31)|(((19|20)\d{2})-0?2-(0?[1-9]|1\d|2[0-8]))|((((19|20)([13579][26]|[2468][048]|0[48]))|(2000))-0?2-29))$/<br>â—å¹´ä»½åŒºé—´-å¹´ï¼ˆæ¯”å¦‚ 19 å¹´è‡³ 20 å¹´ï¼‰ï¼š/^((19|20)\d{2})$/<br>â—å¹´ä»½åŒºé—´-å¹´æœˆï¼ˆæ¯”å¦‚ 1999-01ï¼‰ï¼š/^((((19|20)\d{2})-(0?[13-9]|1[012]))|(((19|20)\d{2})-(0?[13578]|1[02]))|(((19|20)\d{2})-0?2)|((((19|20)([13579][26]|[2468][048]|0[48]))|(2000))-0?2))$/<br>â—å¹´ä»½åŒºé—´-å¹´æœˆæ—¥ï¼ˆæ¯”å¦‚ 1999-01-01ï¼‰ï¼š/^((((19|20)\d{2})-(0?[13-9]|1[012])-(0?[1-9]|[12]\d|30))|(((19|20)\d{2})-(0?[13578]|1[02])-31)|(((19|20)\d{2})-0?2-(0?[1-9]|1\d|2[0-8]))|((((19|20)([13579][26]|[2468][048]|0[48]))|(2000))-0?2-29))$/.test(â€˜2021-02-21â€™)$/<br>â—å¹´ä»½åŒºé—´-å¹´æœˆæ—¥ï¼ˆé—´éš”ç¬¦å·å¯ä¸º - / æˆ–ç©ºï¼‰ï¼š/^(?:(?:1[6-9]|[2-9][0-9])[0-9]{2}([-/.]?)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:(?:1[6-9]|[2-9][0-9])(?:0[48]|[2468][048]|[13579][26])|(?:16|[2468][048]|[3579][26])00)([-/.]?)0?2\2(?:29))$/</p><h4 id="ğŸ’»ç¼–ç¨‹ç›¸å…³"><a href="#ğŸ’»ç¼–ç¨‹ç›¸å…³" class="headerlink" title="ğŸ’»ç¼–ç¨‹ç›¸å…³"></a>ğŸ’»ç¼–ç¨‹ç›¸å…³</h4><p>â—16è¿›åˆ¶é¢œè‰²ï¼š/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/<br>â—æå–ç½‘é¡µé¢œè‰²ä»£ç ï¼š/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/<br>â—è§†é¢‘é“¾æ¥åœ°å€ï¼š/^https?:\/\/(.+\/)+.+(.(swf|avi|flv|mpg|rm|mov|wav|asf|3gp|mkv|rmvb|mp4))$/i<br>â—å›¾ç‰‡é“¾æ¥åœ°å€ï¼š/^https?:\/\/(.+\/)+.+(.(gif|png|jpg|jpeg|webp|svg|psd|bmp|tif))$/i<br>â—mac åœ°å€ï¼š/^((([a-f0-9]{2}:){5})|(([a-f0-9]{2}-){5}))[a-f0-9]{2}$/i<br>â—å­ç½‘æ©ç ï¼š/^((?:(?:25[0-5]|2[0-4]\d|[01]?\d?\d)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d?\d))$/<br>â—æ–‡ä»¶æ‰©å±•åæ•ˆéªŒï¼š/^([a-zA-Z]\:|\\)\\(<sup><a href="#fn_\\\\" id="reffn_\\\\">\\\\</a></sup>+\\)<em>[^\/:</em>?â€&lt;&gt;|]+\.txt(l)?$/<br>â—javaåŒ…åï¼ˆx.x.xï¼‰ï¼š/^([a-zA-Z<em>]\w*)+([.][a-zA-Z</em>]\w<em>)+$/<br>â—xmlæ–‡ä»¶ï¼š/^([a-zA-Z]+-?)+[a-zA-Z0-9]+\.[x|X][m|M][l|L]$/<br>â—html æ³¨é‡Šï¼š/&lt;!â€”[\s\S]</em>?â€”&gt;/g<br>â—html æ ‡ç­¾1ï¼š/&lt;(\w+)<sup><a href="#fn_>" id="reffn_>">></a></sup><em>&gt;(.</em>?&lt;\/\1&gt;)?/<br>â—html æ ‡ç­¾2ï¼š/&lt;(\S<em>?)<sup><a href="#fn_>" id="reffn_>">></a></sup></em>&gt;.<em>?&lt;/\1&gt;|&lt;.</em>? /&gt;/<br>â—é¦–å°¾ç©ºç™½å­—ç¬¦ï¼š/^\s<em>|\s</em>$/<br>â—æŸ¥æ‰¾CSSå±æ€§:/^\s<em>[a-zA-Z\-]+\s</em>[:]{1}\s[a-zA-Z0-9\s.#]+[;]{1}/<br>â—æå–é¡µé¢è¶…é“¾æ¥:/(<a\\s*(?!.*\\brel=)[^>]<em>)(href=â€https?:\/\/)((?!(?:(?:www\.)?â€™.implode(â€˜|(?:www\.)?â€™, $follow_list).â€™))<sup><a href="#fn_" rel="external nofollow" " id="reffn_" rel="external nofollow" ">" rel="external nofollow" </a></sup>+)â€((?!.</em>\brel=)<sup><a href="#fn_>" id="reffn_>">></a></sup><em>)(?:<sup><a href="#fn_>" id="reffn_>">></a></sup></em>)&gt;/<br>â—æå–ç½‘é¡µå›¾ç‰‡ï¼š/\&lt; <em>[img]<sup><a href="#fn_\\\\>" id="reffn_\\\\>">\\\\></a></sup></em>[src] <em>= </em>[\â€œ\â€˜]{0,1}(<sup><a href="#fn_\\"\\'\\ >" id="reffn_\\"\\'\\ >">\\"\\'\\ ></a></sup><em>)/<br>â—è¿…é›·é“¾æ¥ï¼š/^thunder:\/\/[a-zA-Z0-9]+=$/<br>â—ed2ké“¾æ¥ï¼š/^ed2k:\/\/|file|.+|\/$/<br>â—linuxâ€æ–‡ä»¶â€è·¯å¾„ï¼š/^\/(\w+\/)+\w+.\w+$/<br>â—windowä¸‹â€æ–‡ä»¶â€è·¯å¾„ï¼š/^[a-zA-Z]:\(?:\w+\)</em>\w+.\w+$/<br>â—åŒ¹é…å¯Œæ–‡æœ¬ä¸­çš„å­—ç¬¦ï¼ˆè¿™é‡ŒåŒ¹é…çš„æ˜¯å­—ç¬¦ï¼š8ï¼‰ï¼š str.replace(/8(?=<sup><a href="#fn_>" id="reffn_>">></a></sup>*(&lt;|$))/g, â€˜xâ€™)</p><h4 id="ğŸ•ç”Ÿæ´»ç›¸å…³"><a href="#ğŸ•ç”Ÿæ´»ç›¸å…³" class="headerlink" title="ğŸ•ç”Ÿæ´»ç›¸å…³"></a>ğŸ•ç”Ÿæ´»ç›¸å…³</h4><p>â—é‡‘é¢ï¼ˆå®½æ¾ï¼Œå¯ä¸ºè´Ÿã€é¦–ä½å¯ä¸º0ï¼Œæ”¯æŒåƒåˆ†ä½åˆ†éš”ï¼‰ï¼š/^-?\d+(,\d{3})<em>(.\d{1,2})?$/<br>â—é‡‘é¢ï¼ˆå¤§äº 0 ï¼Œä¸¤ä½å°æ•°ï¼‰ï¼š/(^[1-9]{1}[0-9]</em>$)|(^[0-9]*.[0-9]{2}$)/<br>â—é‡‘é¢ï¼ˆä¸¥æ ¼ï¼Œä¸ä¸ºè´Ÿã€å°æ•°ç‚¹åæœ€å¤šä¸¤ä½ï¼Œé¦–ä½ä¸ä¸º0ï¼‰ï¼š/(^<a href="[0-9]+">1-9</a>?(.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9].<a href="[0-9]">0-9</a>?$)/<br>â—æŠ¤ç…§ï¼š/(^[EeKkGgDdSsPpHh]\d{8}$)|(^(([Ee][a-fA-F])|([DdSsPp][Ee])|([Kk][Jj])|([Mm][Aa])|(1[45]))\d{7}$)/<br>â—é¦™æ¸¯èº«ä»½è¯ï¼š/^[a-zA-Z]\d{6}([\dA])$/<br>â—æ¾³é—¨èº«ä»½è¯ï¼š/^[1|5|7]\d{6}(\d)$/<br>â—æ¹¾æ¹¾èº«ä»½è¯ï¼š/^[a-zA-Z][0-9]{9}$/<br>â—è‚¡ç¥¨ä»£ç ï¼š/^(s[hz]|S[HZ])(000[\d]{3}|002[\d]{3}|300[\d]{3}|600[\d]{3}|60[\d]{4})$/<br>â—ä¸å« abc çš„å•è¯ï¼š/\b((?!abc)\w)+\b/</p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
